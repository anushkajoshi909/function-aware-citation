âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: deepseek-ai/DeepSeek-R1

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "FutureWork"
  ],
  "justification": "The query explicitly compares current and past approaches and asks about research directions emerging from their differences, aligning with comparison and future work objectives."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[13:40:28] main | args: Namespace(max_check=10, debug=True)
[13:40:28] read_last_jsonl | path= classified_outputs.jsonl
[13:40:28] read_last_jsonl | total_lines= 1
[13:40:28] main | query='How does the current work's approach to simulating relativistic jets compare to previous models, and what potential areas of future research are suggested by the differences found?' | funcs=['Compares', 'FutureWork']
[13:40:29] main | core_terms= ['relativistic jets', 'simulation', 'relativity']
[13:40:29] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[13:40:29] load_topk_jsonl | rows= 20
[13:40:29] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104120 title_snip='Numerical Simulations of Relativistic Shock Acceleration' abs_len= 1002
[13:40:29] main | running function= Compares
[13:40:29] select | function= Compares | candidates_in= 20
[13:40:29] select | core_terms= ['relativistic jets', 'simulation', 'relativity']
[13:40:29] select | no cosine prune; kept=20/20
[13:40:29] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104120', 'astro-ph/0103038', 'nucl-th/0101008', 'astro-ph/0104305', 'nucl-th/0104040', 'nucl-th/0101038', 'hep-ph/0101327', 'astro-ph/0102271', 'gr-qc/0103076', 'astro-ph/0103007']
[13:40:29] select | verify relaxed 1/10
[13:40:29] verify | func= Compares | rank= 0 | pid= astro-ph/0104120 | title_snip='Numerical Simulations of Relativistic Shock Acceleration' | abs_len= 1002
[13:40:33] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:40:33] select | verify relaxed 2/10
[13:40:33] verify | func= Compares | rank= 1 | pid= astro-ph/0103038 | title_snip='Light Curves from an Expanding Relativistic Jet' | abs_len= 1185
[13:40:37] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:40:37] select | verify relaxed 3/10
[13:40:37] verify | func= Compares | rank= 2 | pid= nucl-th/0101008 | title_snip='Relativistic and non-relativistic studies of nuclear matter' | abs_len= 1254
[13:40:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:40:40] select | verify relaxed 4/10
[13:40:40] verify | func= Compares | rank= 3 | pid= astro-ph/0104305 | title_snip='Simulating Electron Transport and Synchrotron Emission in Radio
  Galaâ€¦' | abs_len= 1433
[13:40:43] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False
[13:40:43] select | verify relaxed 5/10
[13:40:43] verify | func= Compares | rank= 4 | pid= nucl-th/0104040 | title_snip='Microscopic Reaction Dynamics at SPS and RHIC' | abs_len= 362
[13:40:46] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[13:40:46] select | verify relaxed 6/10
[13:40:46] verify | func= Compares | rank= 5 | pid= nucl-th/0101038 | title_snip='Relativistic mean field approximation to the analysis of 16O(e,e'p)15Nâ€¦' | abs_len= 631
[13:40:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:40:49] select | verify relaxed 7/10
[13:40:49] verify | func= Compares | rank= 6 | pid= hep-ph/0101327 | title_snip='Relativistic instant-form approach to the structure of two-body
  compâ€¦' | abs_len= 1242
[13:40:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:40:52] select | verify relaxed 8/10
[13:40:52] verify | func= Compares | rank= 7 | pid= astro-ph/0102271 | title_snip='Relativistic Blastwaves and Synchrotron Emission' | abs_len= 1224
[13:40:56] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[13:40:56] select | verify relaxed 9/10
[13:40:56] verify | func= Compares | rank= 8 | pid= gr-qc/0103076 | title_snip='New Perspectives on the Relativistically Rotating Disk and
  Non-time-â€¦' | abs_len= 1715
[13:40:59] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[13:40:59] select | verify relaxed 10/10
[13:40:59] verify | func= Compares | rank= 9 | pid= astro-ph/0103007 | title_snip='Relativistic large scale jets and minimum power requirements' | abs_len= 910
[13:41:02] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the current work's approach to simulating relativistic jets compare to previous models, and what potential areas of future research are suggested by the differences found?
- WINNER: astro-ph/0104120 | Numerical Simulations of Relativistic Shock Acceleration
- QUOTE : Contrary to non-relativistic shocks
- WHY   : sufficient
[13:41:04] main | running function= FutureWork
[13:41:04] select | function= FutureWork | candidates_in= 20
[13:41:04] select | core_terms= ['relativistic jets', 'simulation', 'relativity']
[13:41:04] select | no cosine prune; kept=20/20
[13:41:04] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104120', 'astro-ph/0103038', 'nucl-th/0101008', 'astro-ph/0104305', 'nucl-th/0104040', 'nucl-th/0101038', 'hep-ph/0101327', 'astro-ph/0102271', 'gr-qc/0103076', 'astro-ph/0103007']
[13:41:04] select | verify relaxed 1/10
[13:41:04] verify | func= FutureWork | rank= 0 | pid= astro-ph/0104120 | title_snip='Numerical Simulations of Relativistic Shock Acceleration' | abs_len= 1002
[13:41:07] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False
[13:41:07] select | verify relaxed 2/10
[13:41:07] verify | func= FutureWork | rank= 1 | pid= astro-ph/0103038 | title_snip='Light Curves from an Expanding Relativistic Jet' | abs_len= 1185
[13:41:11] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[13:41:11] select | verify relaxed 3/10
[13:41:11] verify | func= FutureWork | rank= 2 | pid= nucl-th/0101008 | title_snip='Relativistic and non-relativistic studies of nuclear matter' | abs_len= 1254
[13:41:14] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[13:41:14] select | verify relaxed 4/10
[13:41:14] verify | func= FutureWork | rank= 3 | pid= astro-ph/0104305 | title_snip='Simulating Electron Transport and Synchrotron Emission in Radio
  Galaâ€¦' | abs_len= 1433
[13:41:18] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[13:41:18] select | verify relaxed 5/10
[13:41:18] verify | func= FutureWork | rank= 4 | pid= nucl-th/0104040 | title_snip='Microscopic Reaction Dynamics at SPS and RHIC' | abs_len= 362
[13:41:21] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[13:41:21] select | verify relaxed 6/10
[13:41:21] verify | func= FutureWork | rank= 5 | pid= nucl-th/0101038 | title_snip='Relativistic mean field approximation to the analysis of 16O(e,e'p)15Nâ€¦' | abs_len= 631
[13:41:25] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[13:41:25] select | verify relaxed 7/10
[13:41:25] verify | func= FutureWork | rank= 6 | pid= hep-ph/0101327 | title_snip='Relativistic instant-form approach to the structure of two-body
  compâ€¦' | abs_len= 1242
[13:41:27] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:41:27] select | verify relaxed 8/10
[13:41:27] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102271 | title_snip='Relativistic Blastwaves and Synchrotron Emission' | abs_len= 1224
[13:41:31] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False
[13:41:31] select | verify relaxed 9/10
[13:41:31] verify | func= FutureWork | rank= 8 | pid= gr-qc/0103076 | title_snip='New Perspectives on the Relativistically Rotating Disk and
  Non-time-â€¦' | abs_len= 1715
[13:41:34] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[13:41:34] select | verify relaxed 10/10
[13:41:34] verify | func= FutureWork | rank= 9 | pid= astro-ph/0103007 | title_snip='Relativistic large scale jets and minimum power requirements' | abs_len= 910
[13:41:37] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How does the current work's approach to simulating relativistic jets compare to previous models, and what potential areas of future research are suggested by the differences found?
- No supporting candidate with sufficient evidence.

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The current work's approach to simulating relativistic jets compares to previous models by highlighting the importance of magnetic field configurations and turbulence spectra in shaping cosmic ray spectra, which can result in both flat and steep spectra (astro-ph/0104120). This comparison suggests potential areas of future research, such as exploring particle acceleration at shear layers at boundaries of relativistic jets [Compares] (astro-ph/0104120).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
