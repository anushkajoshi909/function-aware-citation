âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: deepseek-ai/DeepSeek-R1

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background"
  ],
  "justification": "Fallback: classifier did not return a valid object."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[13:07:34] main | args: Namespace(max_check=10, debug=True)
[13:07:34] read_last_jsonl | path= classified_outputs.jsonl
[13:07:34] read_last_jsonl | total_lines= 1
[13:07:34] main | query='How does the proposal by Fuller & Shi provide background for the generation of gravitational waves during the formation of supermassive black holes, and what aspects of their model are used to argue for the strong generation of these waves?' | funcs=['Background']
[13:07:36] main | core_terms= ['supermassive black holes', 'gravitational waves', 'Fuller & Shi proposal']
[13:07:36] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[13:07:36] load_topk_jsonl | rows= 20
[13:07:36] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101022 title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' abs_len= 971
[13:07:36] main | running function= Background
[13:07:36] select | function= Background | candidates_in= 20
[13:07:36] select | core_terms= ['supermassive black holes', 'gravitational waves', 'Fuller & Shi proposal']
[13:07:36] select | no cosine prune; kept=20/20
[13:07:36] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101022', 'gr-qc/0101017', 'astro-ph/0102390', 'gr-qc/0104083', 'hep-th/0103136', 'gr-qc/0102090', 'hep-th/0104131', 'gr-qc/0103027', 'astro-ph/0102341', 'hep-th/0102200']
[13:07:36] select | verify relaxed 1/10
[13:07:36] verify | func= Background | rank= 0 | pid= astro-ph/0101022 | title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' | abs_len= 971
[13:07:39] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:07:39] select | verify relaxed 2/10
[13:07:39] verify | func= Background | rank= 1 | pid= gr-qc/0101017 | title_snip='Generation of exact solutions in cosmology on the basis of
  five-dimeâ€¦' | abs_len= 594
[13:07:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:42] select | verify relaxed 3/10
[13:07:42] verify | func= Background | rank= 2 | pid= astro-ph/0102390 | title_snip='Primordial black holes as a probe of the early universe and a varying
â€¦' | abs_len= 803
[13:07:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:44] select | verify relaxed 4/10
[13:07:44] verify | func= Background | rank= 3 | pid= gr-qc/0104083 | title_snip='Post-Newtonian Expansion of Gravitational Radiation' | abs_len= 1005
[13:07:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:47] select | verify relaxed 5/10
[13:07:47] verify | func= Background | rank= 4 | pid= hep-th/0103136 | title_snip='Superbranes and Super Born-Infeld Theories from Nonlinear Realizations' | abs_len= 523
[13:07:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:49] select | verify relaxed 6/10
[13:07:49] verify | func= Background | rank= 5 | pid= gr-qc/0102090 | title_snip='A prescription for probabilities in eternal inflation' | abs_len= 1091
[13:07:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:52] select | verify relaxed 7/10
[13:07:52] verify | func= Background | rank= 6 | pid= hep-th/0104131 | title_snip='Brane Supersymmetry Breaking and the Cosmological Constant: Open
  Proâ€¦' | abs_len= 676
[13:07:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:54] select | verify relaxed 8/10
[13:07:54] verify | func= Background | rank= 7 | pid= gr-qc/0103027 | title_snip='Coincidence of the Universe Description Stemming from D-branes Theory
â€¦' | abs_len= 367
[13:07:57] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:57] select | verify relaxed 9/10
[13:07:57] verify | func= Background | rank= 8 | pid= astro-ph/0102341 | title_snip='A Catalog of Mass Models for Gravitational Lensing' | abs_len= 435
[13:07:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[13:07:59] select | verify relaxed 10/10
[13:07:59] verify | func= Background | rank= 9 | pid= hep-th/0102200 | title_snip='On D0 brane polarization by tidal forces' | abs_len= 883
[13:08:02] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How does the proposal by Fuller & Shi provide background for the generation of gravitational waves during the formation of supermassive black holes, and what aspects of their model are used to argue for the strong generation of these waves?
- WINNER: astro-ph/0101022 | Possible Strong Gravitational Wave Sources for the LISA Antenna
- QUOTE : Fuller & Shi proposed that the gravitational collapse of supermassive objects
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The proposal by Fuller & Shi provides background for the generation of gravitational waves during the formation of supermassive black holes by suggesting that the collapse of supermassive objects could be a source of these waves [Background] (astro-ph/0101022). Their model is used to argue for the strong generation of gravitational waves, as the collapse of these objects is more energetic than compact mergers, potentially producing a high rate of gravitational wave bursts [Background] (astro-ph/0101022).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
