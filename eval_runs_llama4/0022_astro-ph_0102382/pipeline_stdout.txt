âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Extends",
    "Compares"
  ],
  "justification": "The query focuses on how the current work builds upon existing knowledge and makes a comparison with previous studies."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[11:48:40] main | args: Namespace(max_check=10, debug=True)
[11:48:40] read_last_jsonl | path= classified_outputs.jsonl
[11:48:40] read_last_jsonl | total_lines= 1
[11:48:40] main | query='How does the current work extend our understanding of the Galactic Center and compare with previous studies on the existence and activity of the massive black hole?' | funcs=['Extends', 'Compares']
[11:48:41] main | core_terms= ['Galactic Center', 'black hole', 'massive black hole activity']
[11:48:41] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[11:48:41] load_topk_jsonl | rows= 20
[11:48:41] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0102382 title_snip='The Center of Our Galaxy: Activity and High-Energy Emission of the
  Câ€¦' abs_len= 1028
[11:48:41] main | running function= Extends
[11:48:41] select | function= Extends | candidates_in= 20
[11:48:41] select | core_terms= ['Galactic Center', 'black hole', 'massive black hole activity']
[11:48:41] select | no cosine prune; kept=20/20
[11:48:41] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102382', 'astro-ph/0101330', 'gr-qc/0101091', 'gr-qc/0102067', 'gr-qc/0104020', 'astro-ph/0102139', 'hep-ph/0101210', 'astro-ph/0103466', 'hep-th/0104206', 'nucl-th/0104043']
[11:48:41] select | verify relaxed 1/10
[11:48:41] verify | func= Extends | rank= 0 | pid= astro-ph/0102382 | title_snip='The Center of Our Galaxy: Activity and High-Energy Emission of the
  Câ€¦' | abs_len= 1028
[11:48:45] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:48:45] select | verify relaxed 2/10
[11:48:45] verify | func= Extends | rank= 1 | pid= astro-ph/0101330 | title_snip='Accretion Processes in the Nucleus of M31' | abs_len= 1631
[11:48:48] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:48:48] select | verify relaxed 3/10
[11:48:48] verify | func= Extends | rank= 2 | pid= gr-qc/0101091 | title_snip='Black Holes under External Influence' | abs_len= 491
[11:48:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:48:51] select | verify relaxed 4/10
[11:48:51] verify | func= Extends | rank= 3 | pid= gr-qc/0102067 | title_snip='Evaporation of a two-dimensional charged black hole' | abs_len= 797
[11:48:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:48:53] select | verify relaxed 5/10
[11:48:53] verify | func= Extends | rank= 4 | pid= gr-qc/0104020 | title_snip='Black Hole Excision for Dynamic Black Holes' | abs_len= 1035
[11:48:56] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:48:56] select | verify relaxed 6/10
[11:48:56] verify | func= Extends | rank= 5 | pid= astro-ph/0102139 | title_snip='A new Monte Carlo code for star cluster simulations: I. Relaxation' | abs_len= 1307
[11:48:59] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:48:59] select | verify relaxed 7/10
[11:48:59] verify | func= Extends | rank= 6 | pid= hep-ph/0101210 | title_snip='Relic Dark energy from Trans-Planckian Regime' | abs_len= 1104
[11:49:02] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:02] select | verify relaxed 8/10
[11:49:02] verify | func= Extends | rank= 7 | pid= astro-ph/0103466 | title_snip='The motion of stars near the Galactic center: A comparison of the blacâ€¦' | abs_len= 1053
[11:49:05] verify | result supports= False fit= 0.00 top= 0.90 invalid= quote_not_in_abstract cue_hint= False
[11:49:05] select | verify relaxed 9/10
[11:49:05] verify | func= Extends | rank= 8 | pid= hep-th/0104206 | title_snip='Macroscopic and Microscopic Description of Black Diholes' | abs_len= 768
[11:49:08] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:08] select | verify relaxed 10/10
[11:49:08] verify | func= Extends | rank= 9 | pid= nucl-th/0104043 | title_snip='A New Slant on Hadron Structure' | abs_len= 689
[11:49:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How does the current work extend our understanding of the Galactic Center and compare with previous studies on the existence and activity of the massive black hole?
- WINNER: astro-ph/0102382 | The Center of Our Galaxy: Activity and High-Energy Emission of the
  Closest Massive Black Hole
- QUOTE : existence, physical condition and activity of the 3 10E6 Mo black hole
- WHY   : sufficient
[11:49:12] main | running function= Compares
[11:49:12] select | function= Compares | candidates_in= 20
[11:49:12] select | core_terms= ['Galactic Center', 'black hole', 'massive black hole activity']
[11:49:12] select | no cosine prune; kept=20/20
[11:49:12] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102382', 'astro-ph/0101330', 'gr-qc/0101091', 'gr-qc/0102067', 'gr-qc/0104020', 'astro-ph/0102139', 'hep-ph/0101210', 'astro-ph/0103466', 'hep-th/0104206', 'nucl-th/0104043']
[11:49:12] select | verify relaxed 1/10
[11:49:12] verify | func= Compares | rank= 0 | pid= astro-ph/0102382 | title_snip='The Center of Our Galaxy: Activity and High-Energy Emission of the
  Câ€¦' | abs_len= 1028
[11:49:15] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:49:15] select | verify relaxed 2/10
[11:49:15] verify | func= Compares | rank= 1 | pid= astro-ph/0101330 | title_snip='Accretion Processes in the Nucleus of M31' | abs_len= 1631
[11:49:19] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:49:19] select | verify relaxed 3/10
[11:49:19] verify | func= Compares | rank= 2 | pid= gr-qc/0101091 | title_snip='Black Holes under External Influence' | abs_len= 491
[11:49:22] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:22] select | verify relaxed 4/10
[11:49:22] verify | func= Compares | rank= 3 | pid= gr-qc/0102067 | title_snip='Evaporation of a two-dimensional charged black hole' | abs_len= 797
[11:49:24] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:24] select | verify relaxed 5/10
[11:49:24] verify | func= Compares | rank= 4 | pid= gr-qc/0104020 | title_snip='Black Hole Excision for Dynamic Black Holes' | abs_len= 1035
[11:49:27] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:27] select | verify relaxed 6/10
[11:49:27] verify | func= Compares | rank= 5 | pid= astro-ph/0102139 | title_snip='A new Monte Carlo code for star cluster simulations: I. Relaxation' | abs_len= 1307
[11:49:30] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:49:30] select | verify relaxed 7/10
[11:49:30] verify | func= Compares | rank= 6 | pid= hep-ph/0101210 | title_snip='Relic Dark energy from Trans-Planckian Regime' | abs_len= 1104
[11:49:33] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:33] select | verify relaxed 8/10
[11:49:33] verify | func= Compares | rank= 7 | pid= astro-ph/0103466 | title_snip='The motion of stars near the Galactic center: A comparison of the blacâ€¦' | abs_len= 1053
[11:49:37] verify | result supports= True fit= 0.90 top= 0.90 invalid= â€” cue_hint= False
[11:49:37] select | verify relaxed 9/10
[11:49:37] verify | func= Compares | rank= 8 | pid= hep-th/0104206 | title_snip='Macroscopic and Microscopic Description of Black Diholes' | abs_len= 768
[11:49:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:39] select | verify relaxed 10/10
[11:49:39] verify | func= Compares | rank= 9 | pid= nucl-th/0104043 | title_snip='A New Slant on Hadron Structure' | abs_len= 689
[11:49:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the current work extend our understanding of the Galactic Center and compare with previous studies on the existence and activity of the massive black hole?
- WINNER: astro-ph/0103466 | The motion of stars near the Galactic center: A comparison of the black
  hole and fermion ball scenarios
- QUOTE : A comparison of the black hole and fermion ball scenarios
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The current work extends our understanding of the Galactic Center by reviewing observational characteristics and accretion models for the massive black hole coincident with Sgr A* [Extends] (astro-ph/0102382). It also compares with previous studies on the existence and activity of the massive black hole, showing that both black hole and fermion ball scenarios are consistent with the data, but future measurements could rule out one of the scenarios [Compares] (astro-ph/0103466).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
