âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "Background"
  ],
  "justification": "The query seeks to understand the driving forces behind re-examining a concept and the foundational knowledge required for this re-examination."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[15:29:03] main | args: Namespace(max_check=10, debug=True)
[15:29:03] read_last_jsonl | path= classified_outputs.jsonl
[15:29:03] read_last_jsonl | total_lines= 1
[15:29:03] main | query='What motivates the re-examination of global axisymmetric stability in the context of magnetorotational instabilities, and what background information is necessary to understand this re-examination?' | funcs=['Motivation', 'Background']
[15:29:04] main | core_terms= ['magnetorotational instabilities', 'global axisymmetric stability', 're-examination']
[15:29:04] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[15:29:04] load_topk_jsonl | rows= 20
[15:29:04] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0103226 title_snip='Magnetorotational Instability in a Rotating Liquid Metal Annulus' abs_len= 691
[15:29:04] main | running function= Motivation
[15:29:04] select | function= Motivation | candidates_in= 20
[15:29:04] select | core_terms= ['magnetorotational instabilities', 'global axisymmetric stability', 're-examination']
[15:29:04] select | no cosine prune; kept=20/20
[15:29:04] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0103226', 'astro-ph/0104206', 'gr-qc/0103060', 'astro-ph/0101161', 'astro-ph/0104411', 'gr-qc/0102076', 'cond-mat/0103489', 'astro-ph/0102415', 'astro-ph/0104302', 'astro-ph/0101009']
[15:29:04] select | verify relaxed 1/10
[15:29:04] verify | func= Motivation | rank= 0 | pid= astro-ph/0103226 | title_snip='Magnetorotational Instability in a Rotating Liquid Metal Annulus' | abs_len= 691
[15:29:08] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[15:29:08] select | verify relaxed 2/10
[15:29:08] verify | func= Motivation | rank= 1 | pid= astro-ph/0104206 | title_snip='Magnetorotational instability of dissipative Couette flow' | abs_len= 1242
[15:29:11] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:29:11] select | verify relaxed 3/10
[15:29:11] verify | func= Motivation | rank= 2 | pid= gr-qc/0103060 | title_snip='Stability analysis of cosmological models through Liapunov's method' | abs_len= 676
[15:29:13] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:13] select | verify relaxed 4/10
[15:29:13] verify | func= Motivation | rank= 3 | pid= astro-ph/0101161 | title_snip='On Turbulent Reconnection' | abs_len= 953
[15:29:16] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:16] select | verify relaxed 5/10
[15:29:16] verify | func= Motivation | rank= 4 | pid= astro-ph/0104411 | title_snip='Statistical evaluation of the observational information on $\Omega_m$
â€¦' | abs_len= 852
[15:29:18] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:18] select | verify relaxed 6/10
[15:29:18] verify | func= Motivation | rank= 5 | pid= gr-qc/0102076 | title_snip='Dynamical Bar Instability in Relativistic Rotating Stars' | abs_len= 1736
[15:29:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:21] select | verify relaxed 7/10
[15:29:21] verify | func= Motivation | rank= 6 | pid= cond-mat/0103489 | title_snip='Vortex stabilization in a small rotating asymmetric Bose-Einstein
  coâ€¦' | abs_len= 964
[15:29:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:23] select | verify relaxed 8/10
[15:29:23] verify | func= Motivation | rank= 7 | pid= astro-ph/0102415 | title_snip='Acceleration and collimation of relativistic plasmas ejected by fast
 â€¦' | abs_len= 927
[15:29:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:26] select | verify relaxed 9/10
[15:29:26] verify | func= Motivation | rank= 8 | pid= astro-ph/0104302 | title_snip='MHD instability in differentially rotating cylindric flows' | abs_len= 1823
[15:29:29] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[15:29:29] select | verify relaxed 10/10
[15:29:29] verify | func= Motivation | rank= 9 | pid= astro-ph/0101009 | title_snip='Cosmological Perturbation Theory and Structure Formation' | abs_len= 550
[15:29:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : What motivates the re-examination of global axisymmetric stability in the context of magnetorotational instabilities, and what background information is necessary to understand this re-examination?
- WINNER: astro-ph/0104206 | Magnetorotational instability of dissipative Couette flow
- QUOTE : intense astrophysical interest
- WHY   : sufficient
[15:29:33] main | running function= Background
[15:29:33] select | function= Background | candidates_in= 20
[15:29:33] select | core_terms= ['magnetorotational instabilities', 'global axisymmetric stability', 're-examination']
[15:29:33] select | no cosine prune; kept=20/20
[15:29:33] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0103226', 'astro-ph/0104206', 'gr-qc/0103060', 'astro-ph/0101161', 'astro-ph/0104411', 'gr-qc/0102076', 'cond-mat/0103489', 'astro-ph/0102415', 'astro-ph/0104302', 'astro-ph/0101009']
[15:29:33] select | verify relaxed 1/10
[15:29:33] verify | func= Background | rank= 0 | pid= astro-ph/0103226 | title_snip='Magnetorotational Instability in a Rotating Liquid Metal Annulus' | abs_len= 691
[15:29:36] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[15:29:36] select | verify relaxed 2/10
[15:29:36] verify | func= Background | rank= 1 | pid= astro-ph/0104206 | title_snip='Magnetorotational instability of dissipative Couette flow' | abs_len= 1242
[15:29:39] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:29:39] select | verify relaxed 3/10
[15:29:39] verify | func= Background | rank= 2 | pid= gr-qc/0103060 | title_snip='Stability analysis of cosmological models through Liapunov's method' | abs_len= 676
[15:29:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:42] select | verify relaxed 4/10
[15:29:42] verify | func= Background | rank= 3 | pid= astro-ph/0101161 | title_snip='On Turbulent Reconnection' | abs_len= 953
[15:29:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:44] select | verify relaxed 5/10
[15:29:44] verify | func= Background | rank= 4 | pid= astro-ph/0104411 | title_snip='Statistical evaluation of the observational information on $\Omega_m$
â€¦' | abs_len= 852
[15:29:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:47] select | verify relaxed 6/10
[15:29:47] verify | func= Background | rank= 5 | pid= gr-qc/0102076 | title_snip='Dynamical Bar Instability in Relativistic Rotating Stars' | abs_len= 1736
[15:29:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:49] select | verify relaxed 7/10
[15:29:49] verify | func= Background | rank= 6 | pid= cond-mat/0103489 | title_snip='Vortex stabilization in a small rotating asymmetric Bose-Einstein
  coâ€¦' | abs_len= 964
[15:29:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:52] select | verify relaxed 8/10
[15:29:52] verify | func= Background | rank= 7 | pid= astro-ph/0102415 | title_snip='Acceleration and collimation of relativistic plasmas ejected by fast
 â€¦' | abs_len= 927
[15:29:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:29:54] select | verify relaxed 9/10
[15:29:54] verify | func= Background | rank= 8 | pid= astro-ph/0104302 | title_snip='MHD instability in differentially rotating cylindric flows' | abs_len= 1823
[15:29:58] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[15:29:58] select | verify relaxed 10/10
[15:29:58] verify | func= Background | rank= 9 | pid= astro-ph/0101009 | title_snip='Cosmological Perturbation Theory and Structure Formation' | abs_len= 550
[15:30:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : What motivates the re-examination of global axisymmetric stability in the context of magnetorotational instabilities, and what background information is necessary to understand this re-examination?
- WINNER: astro-ph/0104206 | Magnetorotational instability of dissipative Couette flow
- QUOTE : Global axisymmetric stability of viscous, resistive, magnetized Couette flow
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The re-examination of global axisymmetric stability in the context of magnetorotational instabilities is motivated by the need to understand flows that are hydrodynamically stable according to Rayleigh's criterion, yet may still exhibit instabilities [Motivation] (astro-ph/0104206). Understanding this re-examination requires background knowledge of magnetorotational instabilities and their potential occurrence in flows with opposing gradients of angular velocity and specific angular momentum [Background] (astro-ph/0104206).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
