âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Uses",
    "FutureWork"
  ],
  "justification": "The query focuses on utilizing current analysis for future studies and explicitly asks about methods or datasets that could be applied in subsequent research, indicating a usage and future work orientation."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[11:56:42] main | args: Namespace(max_check=10, debug=True)
[11:56:42] read_last_jsonl | path= classified_outputs.jsonl
[11:56:42] read_last_jsonl | total_lines= 1
[11:56:42] main | query='How can future studies utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure and what methods or datasets from this work could be used in such studies?' | funcs=['Uses', 'FutureWork']
[11:56:44] main | core_terms= ['Small Magellanic Cloud', 'populous clusters', 'structure']
[11:56:44] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[11:56:44] load_topk_jsonl | rows= 20
[11:56:44] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104227 title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 â€¦' abs_len= 1656
[11:56:44] main | running function= Uses
[11:56:44] select | function= Uses | candidates_in= 20
[11:56:44] select | core_terms= ['Small Magellanic Cloud', 'populous clusters', 'structure']
[11:56:44] select | no cosine prune; kept=20/20
[11:56:44] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104227', 'astro-ph/0103076', 'astro-ph/0101508', 'astro-ph/0102165', 'astro-ph/0102010', 'astro-ph/0102363', 'astro-ph/0103518', 'astro-ph/0102191', 'astro-ph/0104245', 'astro-ph/0102477']
[11:56:44] select | verify relaxed 1/10
[11:56:44] verify | func= Uses | rank= 0 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 â€¦' | abs_len= 1656
[11:56:47] verify | result supports= False fit= 0.00 top= 0.80 invalid= quote_not_in_abstract cue_hint= False
[11:56:47] select | verify relaxed 2/10
[11:56:47] verify | func= Uses | rank= 1 | pid= astro-ph/0103076 | title_snip='Magellanic Clouds Planetary Nebulae: an updated view on stellar
  evolâ€¦' | abs_len= 458
[11:56:50] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:56:50] select | verify relaxed 3/10
[11:56:50] verify | func= Uses | rank= 2 | pid= astro-ph/0101508 | title_snip='The Structure of Prestellar Cores as derived from ISO Observations' | abs_len= 1056
[11:56:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:56:53] select | verify relaxed 4/10
[11:56:53] verify | func= Uses | rank= 3 | pid= astro-ph/0102165 | title_snip='Cluster physics from joint weak gravitational lensing and
  Sunyaev-Zeâ€¦' | abs_len= 1276
[11:56:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:56:55] select | verify relaxed 5/10
[11:56:55] verify | func= Uses | rank= 4 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[11:56:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:56:58] select | verify relaxed 6/10
[11:56:58] verify | func= Uses | rank= 5 | pid= astro-ph/0102363 | title_snip='INTEGRAL observations of Galaxy Clusters' | abs_len= 1523
[11:57:01] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:01] select | verify relaxed 7/10
[11:57:01] verify | func= Uses | rank= 6 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clouâ€¦' | abs_len= 1323
[11:57:04] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:57:04] select | verify relaxed 8/10
[11:57:04] verify | func= Uses | rank= 7 | pid= astro-ph/0102191 | title_snip='Velocity and density spectra of the Small Magellanic Cloud' | abs_len= 834
[11:57:07] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[11:57:07] select | verify relaxed 9/10
[11:57:07] verify | func= Uses | rank= 8 | pid= astro-ph/0104245 | title_snip='Cluster abundance and large-scale structure' | abs_len= 530
[11:57:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:09] select | verify relaxed 10/10
[11:57:09] verify | func= Uses | rank= 9 | pid= astro-ph/0102477 | title_snip='The Structure and Evolution of Magnetized Cloud Cores in a Zero--Densiâ€¦' | abs_len= 1571
[11:57:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How can future studies utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure and what methods or datasets from this work could be used in such studies?
- No supporting candidate with sufficient evidence.
[11:57:12] main | running function= FutureWork
[11:57:12] select | function= FutureWork | candidates_in= 20
[11:57:12] select | core_terms= ['Small Magellanic Cloud', 'populous clusters', 'structure']
[11:57:12] select | no cosine prune; kept=20/20
[11:57:12] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104227', 'astro-ph/0103076', 'astro-ph/0101508', 'astro-ph/0102165', 'astro-ph/0102010', 'astro-ph/0102363', 'astro-ph/0103518', 'astro-ph/0102191', 'astro-ph/0104245', 'astro-ph/0102477']
[11:57:12] select | verify relaxed 1/10
[11:57:12] verify | func= FutureWork | rank= 0 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 â€¦' | abs_len= 1656
[11:57:15] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:57:15] select | verify relaxed 2/10
[11:57:15] verify | func= FutureWork | rank= 1 | pid= astro-ph/0103076 | title_snip='Magellanic Clouds Planetary Nebulae: an updated view on stellar
  evolâ€¦' | abs_len= 458
[11:57:18] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:57:18] select | verify relaxed 3/10
[11:57:18] verify | func= FutureWork | rank= 2 | pid= astro-ph/0101508 | title_snip='The Structure of Prestellar Cores as derived from ISO Observations' | abs_len= 1056
[11:57:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:21] select | verify relaxed 4/10
[11:57:21] verify | func= FutureWork | rank= 3 | pid= astro-ph/0102165 | title_snip='Cluster physics from joint weak gravitational lensing and
  Sunyaev-Zeâ€¦' | abs_len= 1276
[11:57:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:23] select | verify relaxed 5/10
[11:57:23] verify | func= FutureWork | rank= 4 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[11:57:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:26] select | verify relaxed 6/10
[11:57:26] verify | func= FutureWork | rank= 5 | pid= astro-ph/0102363 | title_snip='INTEGRAL observations of Galaxy Clusters' | abs_len= 1523
[11:57:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:28] select | verify relaxed 7/10
[11:57:28] verify | func= FutureWork | rank= 6 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clouâ€¦' | abs_len= 1323
[11:57:31] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:57:31] select | verify relaxed 8/10
[11:57:31] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102191 | title_snip='Velocity and density spectra of the Small Magellanic Cloud' | abs_len= 834
[11:57:34] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[11:57:34] select | verify relaxed 9/10
[11:57:34] verify | func= FutureWork | rank= 8 | pid= astro-ph/0104245 | title_snip='Cluster abundance and large-scale structure' | abs_len= 530
[11:57:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:57:37] select | verify relaxed 10/10
[11:57:37] verify | func= FutureWork | rank= 9 | pid= astro-ph/0102477 | title_snip='The Structure and Evolution of Magnetized Cloud Cores in a Zero--Densiâ€¦' | abs_len= 1571
[11:57:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How can future studies utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure and what methods or datasets from this work could be used in such studies?
- WINNER: astro-ph/0104227 | The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
  Cloud
- QUOTE : warrants further study
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
Future studies can utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure by building upon the conclusions drawn from the variation of cluster properties with position and line-of-sight depth [FutureWork] (astro-ph/0104227). The dataset and methods used in this work, such as analyzing age, metal abundance, and positional data, can be applied to larger datasets or combined with other studies to refine the understanding of the SMC's structure [Extends] (astro-ph/0104227).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
