âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Uses"
  ],
  "justification": "The query asks for foundational information about cosmological homogeneity (background) and how existing results are applied to understand galaxy distribution (uses)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:40:14] main | args: Namespace(max_check=10, debug=True)
[23:40:14] read_last_jsonl | path= classified_outputs.jsonl
[23:40:14] read_last_jsonl | total_lines= 1
[23:40:14] main | query='How does the background of cosmology, specifically the concept of homogeneity, use previous results to inform its understanding of galaxy distribution?' | funcs=['Background', 'Uses']
[23:40:15] main | core_terms= ['galaxy', 'homogeneity', 'cosmology']
[23:40:15] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:40:15] load_topk_jsonl | rows= 20
[23:40:15] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101143 title_snip='On the trispectrum as a gaussian test for cosmology' abs_len= 1444
[23:40:15] main | running function= Background
[23:40:15] select | function= Background | candidates_in= 20
[23:40:15] select | core_terms= ['galaxy', 'homogeneity', 'cosmology']
[23:40:15] select | no cosine prune; kept=20/20
[23:40:15] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101143', 'hep-th/0102187', 'astro-ph/0104181', 'astro-ph/0104370', 'astro-ph/0101191', 'astro-ph/0101296', 'astro-ph/0102320', 'astro-ph/0103017', 'astro-ph/0101084', 'astro-ph/0102062']
[23:40:15] select | verify relaxed 1/10
[23:40:15] verify | func= Background | rank= 0 | pid= astro-ph/0101143 | title_snip='On the trispectrum as a gaussian test for cosmology' | abs_len= 1444
[23:40:19] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:19] select | verify relaxed 2/10
[23:40:19] verify | func= Background | rank= 1 | pid= hep-th/0102187 | title_snip='Anisotropic Born-Infeld Cosmologies' | abs_len= 731
[23:40:22] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:40:22] select | verify relaxed 3/10
[23:40:22] verify | func= Background | rank= 2 | pid= astro-ph/0104181 | title_snip='The Apparent Fractal Conjecture: Scaling Features in Standard
  Cosmolâ€¦' | abs_len= 1809
[23:40:25] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:25] select | verify relaxed 4/10
[23:40:25] verify | func= Background | rank= 3 | pid= astro-ph/0104370 | title_snip='From Fractal Cosmography to Fractal Cosmology' | abs_len= 728
[23:40:28] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:28] select | verify relaxed 5/10
[23:40:28] verify | func= Background | rank= 4 | pid= astro-ph/0101191 | title_snip='How to Avoid the Ambiguity in Applying the Copernican Principle for
  â€¦' | abs_len= 654
[23:40:31] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:31] select | verify relaxed 6/10
[23:40:31] verify | func= Background | rank= 5 | pid= astro-ph/0101296 | title_snip='Evolution of galaxies due to self-excitation' | abs_len= 1269
[23:40:34] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:40:34] select | verify relaxed 7/10
[23:40:34] verify | func= Background | rank= 6 | pid= astro-ph/0102320 | title_snip='Complexity in Cosmology' | abs_len= 923
[23:40:38] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:38] select | verify relaxed 8/10
[23:40:38] verify | func= Background | rank= 7 | pid= astro-ph/0103017 | title_snip='Large-Scale Structure, Theory and Statistics' | abs_len= 1145
[23:40:41] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:41] select | verify relaxed 9/10
[23:40:41] verify | func= Background | rank= 8 | pid= astro-ph/0101084 | title_snip='Global Evolution Models and the Extragalactic Background Light' | abs_len= 709
[23:40:44] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:40:44] select | verify relaxed 10/10
[23:40:44] verify | func= Background | rank= 9 | pid= astro-ph/0102062 | title_snip='Clustering in the Universe: from Highly Nonlinear Structures to
  Homoâ€¦' | abs_len= 1018
[23:40:48] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How does the background of cosmology, specifically the concept of homogeneity, use previous results to inform its understanding of galaxy distribution?
- WINNER: astro-ph/0101143 | On the trispectrum as a gaussian test for cosmology
- QUOTE : In the standard model for structure formation
- WHY   : sufficient
[23:40:49] main | running function= Uses
[23:40:49] select | function= Uses | candidates_in= 20
[23:40:49] select | core_terms= ['galaxy', 'homogeneity', 'cosmology']
[23:40:49] select | no cosine prune; kept=20/20
[23:40:49] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101143', 'hep-th/0102187', 'astro-ph/0104181', 'astro-ph/0104370', 'astro-ph/0101191', 'astro-ph/0101296', 'astro-ph/0102320', 'astro-ph/0103017', 'astro-ph/0101084', 'astro-ph/0102062']
[23:40:49] select | verify relaxed 1/10
[23:40:49] verify | func= Uses | rank= 0 | pid= astro-ph/0101143 | title_snip='On the trispectrum as a gaussian test for cosmology' | abs_len= 1444
[23:40:52] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:52] select | verify relaxed 2/10
[23:40:52] verify | func= Uses | rank= 1 | pid= hep-th/0102187 | title_snip='Anisotropic Born-Infeld Cosmologies' | abs_len= 731
[23:40:55] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:40:55] select | verify relaxed 3/10
[23:40:55] verify | func= Uses | rank= 2 | pid= astro-ph/0104181 | title_snip='The Apparent Fractal Conjecture: Scaling Features in Standard
  Cosmolâ€¦' | abs_len= 1809
[23:40:59] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:40:59] select | verify relaxed 4/10
[23:40:59] verify | func= Uses | rank= 3 | pid= astro-ph/0104370 | title_snip='From Fractal Cosmography to Fractal Cosmology' | abs_len= 728
[23:41:02] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:41:02] select | verify relaxed 5/10
[23:41:02] verify | func= Uses | rank= 4 | pid= astro-ph/0101191 | title_snip='How to Avoid the Ambiguity in Applying the Copernican Principle for
  â€¦' | abs_len= 654
[23:41:06] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:41:06] select | verify relaxed 6/10
[23:41:06] verify | func= Uses | rank= 5 | pid= astro-ph/0101296 | title_snip='Evolution of galaxies due to self-excitation' | abs_len= 1269
[23:41:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:41:09] select | verify relaxed 7/10
[23:41:09] verify | func= Uses | rank= 6 | pid= astro-ph/0102320 | title_snip='Complexity in Cosmology' | abs_len= 923
[23:41:12] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:41:12] select | verify relaxed 8/10
[23:41:12] verify | func= Uses | rank= 7 | pid= astro-ph/0103017 | title_snip='Large-Scale Structure, Theory and Statistics' | abs_len= 1145
[23:41:16] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:41:16] select | verify relaxed 9/10
[23:41:16] verify | func= Uses | rank= 8 | pid= astro-ph/0101084 | title_snip='Global Evolution Models and the Extragalactic Background Light' | abs_len= 709
[23:41:19] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:41:19] select | verify relaxed 10/10
[23:41:19] verify | func= Uses | rank= 9 | pid= astro-ph/0102062 | title_snip='Clustering in the Universe: from Highly Nonlinear Structures to
  Homoâ€¦' | abs_len= 1018
[23:41:22] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How does the background of cosmology, specifically the concept of homogeneity, use previous results to inform its understanding of galaxy distribution?
- WINNER: astro-ph/0101143 | On the trispectrum as a gaussian test for cosmology
- QUOTE : In the standard model for structure formation
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The concept of homogeneity in cosmology is rooted in the idea that the initial density field is an almost-perfect random gaussian field, which originates from quantum fluctuations with random phases [Background] (astro-ph/0101143). This understanding is used to inform the study of galaxy distribution through the application of statistical tools, such as the trispectrum of the galaxy density field, to differentiate between gaussian and non-gaussian models [Uses] (astro-ph/0101143).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
