âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openGPT-X/Teuken-7B-instruct-research-v0.4

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Motivation"
  ],
  "justification": "The query seeks to understand how current uses of Imaging Atmospheric Cerenkov Telescopes (IACTs) inform future work in detecting gamma rays from astrophysical objects. It asks for both background knowledge and motivation, which are relevant to the topic."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[12:58:32] main | args: Namespace(max_check=10, debug=True)
[12:58:32] read_last_jsonl | path= classified_outputs.jsonl
[12:58:32] read_last_jsonl | total_lines= 1
[12:58:32] main | query='How do current uses of Imaging Atmospheric Cerenkov Telescopes inform future work in detecting gamma rays from astrophysical objects?' | funcs=['Background', 'Motivation']
[12:58:35] main | core_terms= ['Imaging Atmospheric Cerenkov Telescopes', 'gamma rays', 'astrophysical objects', 'Cerenkov radiation']
[12:58:35] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[12:58:35] load_topk_jsonl | rows= 20
[12:58:35] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101533 title_snip='Imaging Atmospheric Cerenkov Telescopes: Techniques and Results' abs_len= 1072
[12:58:35] main | running function= Background
[12:58:35] select | function= Background | candidates_in= 20
[12:58:35] select | core_terms= ['Imaging Atmospheric Cerenkov Telescopes', 'gamma rays', 'astrophysical objects', 'Cerenkov radiation']
[12:58:35] select | no cosine prune; kept=20/20
[12:58:35] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101533', 'astro-ph/0102324', 'astro-ph/0101039', 'astro-ph/0101120', 'astro-ph/0103516', 'astro-ph/0101241', 'physics/0104041', 'astro-ph/0104143', 'astro-ph/0101496', 'astro-ph/0102391']
[12:58:35] select | verify relaxed 1/10
[12:58:35] verify | func= Background | rank= 0 | pid= astro-ph/0101533 | title_snip='Imaging Atmospheric Cerenkov Telescopes: Techniques and Results' | abs_len= 1072
[12:58:38] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[12:58:38] select | verify relaxed 2/10
[12:58:38] verify | func= Background | rank= 1 | pid= astro-ph/0102324 | title_snip='TeV observations of SNRs and unidentified sources' | abs_len= 409
[12:58:41] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[12:58:41] select | verify relaxed 3/10
[12:58:41] verify | func= Background | rank= 2 | pid= astro-ph/0101039 | title_snip='Gamma Ray Pulsars: Observations' | abs_len= 848
[12:58:44] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[12:58:44] select | verify relaxed 4/10
[12:58:44] verify | func= Background | rank= 3 | pid= astro-ph/0101120 | title_snip='TeV Gamma-Ray Astronomy in the new Millennium' | abs_len= 928
[12:58:47] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[12:58:47] select | verify relaxed 5/10
[12:58:47] verify | func= Background | rank= 4 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[12:58:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:58:50] select | verify relaxed 6/10
[12:58:50] verify | func= Background | rank= 5 | pid= astro-ph/0101241 | title_snip='Detection of Earth-like Planets Using Apodized Telescopes' | abs_len= 1109
[12:58:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:58:53] select | verify relaxed 7/10
[12:58:53] verify | func= Background | rank= 6 | pid= physics/0104041 | title_snip='Beam Measurements of a CLOUD (Cosmics Leaving OUtdoor Droplets) Chambeâ€¦' | abs_len= 1583
[12:58:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:58:55] select | verify relaxed 8/10
[12:58:55] verify | func= Background | rank= 7 | pid= astro-ph/0104143 | title_snip='Gamma Ray and Hadron generated \v{C}erenkov Photon Spectra at Various
â€¦' | abs_len= 1639
[12:58:59] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[12:58:59] select | verify relaxed 9/10
[12:58:59] verify | func= Background | rank= 8 | pid= astro-ph/0101496 | title_snip='A first EGRET-UNID-related agenda for the next-generation Cherenkov
  â€¦' | abs_len= 824
[12:59:03] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[12:59:03] select | verify relaxed 10/10
[12:59:03] verify | func= Background | rank= 9 | pid= astro-ph/0102391 | title_snip='Evidence for TeV gamma ray emission from Cassiopeia A' | abs_len= 740
[12:59:06] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How do current uses of Imaging Atmospheric Cerenkov Telescopes inform future work in detecting gamma rays from astrophysical objects?
- WINNER: astro-ph/0101533 | Imaging Atmospheric Cerenkov Telescopes: Techniques and Results
- QUOTE : Imaging Atmospheric Cerenkov Telescopes
- WHY   : sufficient
[12:59:08] main | running function= Motivation
[12:59:08] select | function= Motivation | candidates_in= 20
[12:59:08] select | core_terms= ['Imaging Atmospheric Cerenkov Telescopes', 'gamma rays', 'astrophysical objects', 'Cerenkov radiation']
[12:59:08] select | no cosine prune; kept=20/20
[12:59:08] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101533', 'astro-ph/0102324', 'astro-ph/0101039', 'astro-ph/0101120', 'astro-ph/0103516', 'astro-ph/0101241', 'physics/0104041', 'astro-ph/0104143', 'astro-ph/0101496', 'astro-ph/0102391']
[12:59:08] select | verify relaxed 1/10
[12:59:08] verify | func= Motivation | rank= 0 | pid= astro-ph/0101533 | title_snip='Imaging Atmospheric Cerenkov Telescopes: Techniques and Results' | abs_len= 1072
[12:59:11] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[12:59:11] select | verify relaxed 2/10
[12:59:11] verify | func= Motivation | rank= 1 | pid= astro-ph/0102324 | title_snip='TeV observations of SNRs and unidentified sources' | abs_len= 409
[12:59:14] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[12:59:14] select | verify relaxed 3/10
[12:59:14] verify | func= Motivation | rank= 2 | pid= astro-ph/0101039 | title_snip='Gamma Ray Pulsars: Observations' | abs_len= 848
[12:59:18] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[12:59:18] select | verify relaxed 4/10
[12:59:18] verify | func= Motivation | rank= 3 | pid= astro-ph/0101120 | title_snip='TeV Gamma-Ray Astronomy in the new Millennium' | abs_len= 928
[12:59:21] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[12:59:21] select | verify relaxed 5/10
[12:59:21] verify | func= Motivation | rank= 4 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[12:59:24] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:59:24] select | verify relaxed 6/10
[12:59:24] verify | func= Motivation | rank= 5 | pid= astro-ph/0101241 | title_snip='Detection of Earth-like Planets Using Apodized Telescopes' | abs_len= 1109
[12:59:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:59:26] select | verify relaxed 7/10
[12:59:26] verify | func= Motivation | rank= 6 | pid= physics/0104041 | title_snip='Beam Measurements of a CLOUD (Cosmics Leaving OUtdoor Droplets) Chambeâ€¦' | abs_len= 1583
[12:59:29] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:59:29] select | verify relaxed 8/10
[12:59:29] verify | func= Motivation | rank= 7 | pid= astro-ph/0104143 | title_snip='Gamma Ray and Hadron generated \v{C}erenkov Photon Spectra at Various
â€¦' | abs_len= 1639
[12:59:32] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[12:59:32] select | verify relaxed 9/10
[12:59:32] verify | func= Motivation | rank= 8 | pid= astro-ph/0101496 | title_snip='A first EGRET-UNID-related agenda for the next-generation Cherenkov
  â€¦' | abs_len= 824
[12:59:36] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[12:59:36] select | verify relaxed 10/10
[12:59:36] verify | func= Motivation | rank= 9 | pid= astro-ph/0102391 | title_snip='Evidence for TeV gamma ray emission from Cassiopeia A' | abs_len= 740
[12:59:39] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How do current uses of Imaging Atmospheric Cerenkov Telescopes inform future work in detecting gamma rays from astrophysical objects?
- WINNER: astro-ph/0101533 | Imaging Atmospheric Cerenkov Telescopes: Techniques and Results
- QUOTE : We face challenges such as low light levels
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The current use of Imaging Atmospheric Cerenkov Telescopes to detect gamma rays from astrophysical objects, such as the Crab Nebula and Active Galaxies, informs future work by providing a test beam and revealing particle acceleration mechanisms [Background] (astro-ph/0101533). The detection of gamma rays from these objects motivates future research, as it may lead to the discovery of new phenomena, such as neutralino annihilation or the evaporation of primordial black holes [Motivation] (astro-ph/0101533).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
