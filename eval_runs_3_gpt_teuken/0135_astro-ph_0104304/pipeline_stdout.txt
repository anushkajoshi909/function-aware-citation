âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openGPT-X/Teuken-7B-instruct-research-v0.4

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Motivation"
  ],
  "justification": "The query seeks to understand how the comparison of restricted N-body models with self-consistent N-body simulations informs future research on the interaction scenario between galaxies like NGC 4449 and DDO 125. This requires knowledge of the background and motivation behind these models and their applications."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[14:08:09] main | args: Namespace(max_check=10, debug=True)
[14:08:09] read_last_jsonl | path= classified_outputs.jsonl
[14:08:09] read_last_jsonl | total_lines= 1
[14:08:09] main | query='How does the comparison of restricted N-body models with self-consistent N-body simulations inform future research on the interaction scenario between galaxies like NGC 4449 and DDO 125?' | funcs=['Background', 'Motivation']
[14:08:11] main | core_terms= ['galaxies', 'NGC 4449', 'DDO 125', 'N-body models', 'N-body simulations', 'interaction scenario', 'N-body', 'self-consistent', 'NGC', 'DDO']
[14:08:11] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[14:08:11] load_topk_jsonl | rows= 20
[14:08:11] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104304 title_snip='Multi-method-modeling of interacting galaxies. I. A unique scenario foâ€¦' abs_len= 1670
[14:08:11] main | running function= Background
[14:08:11] select | function= Background | candidates_in= 20
[14:08:11] select | core_terms= ['galaxies', 'NGC 4449', 'DDO 125', 'N-body models', 'N-body simulations', 'interaction scenario', 'N-body', 'self-consistent', 'NGC', 'DDO']
[14:08:11] select | no cosine prune; kept=20/20
[14:08:11] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104304', 'astro-ph/0101265', 'astro-ph/0101296', 'astro-ph/0104465', 'astro-ph/0102011', 'astro-ph/0103092', 'astro-ph/0104069', 'astro-ph/0103410', 'astro-ph/0101490', 'hep-ph/0103249']
[14:08:11] select | verify relaxed 1/10
[14:08:11] verify | func= Background | rank= 0 | pid= astro-ph/0104304 | title_snip='Multi-method-modeling of interacting galaxies. I. A unique scenario foâ€¦' | abs_len= 1670
[14:08:15] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[14:08:15] select | verify relaxed 2/10
[14:08:15] verify | func= Background | rank= 1 | pid= astro-ph/0101265 | title_snip='N-Body Simulations of Open, Self-Gravitating Systems' | abs_len= 792
[14:08:18] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:18] select | verify relaxed 3/10
[14:08:18] verify | func= Background | rank= 2 | pid= astro-ph/0101296 | title_snip='Evolution of galaxies due to self-excitation' | abs_len= 1269
[14:08:20] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:20] select | verify relaxed 4/10
[14:08:20] verify | func= Background | rank= 3 | pid= astro-ph/0104465 | title_snip='Luminous and Dark Matter in the Milky Way' | abs_len= 1523
[14:08:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:08:23] select | verify relaxed 5/10
[14:08:23] verify | func= Background | rank= 4 | pid= astro-ph/0102011 | title_snip='Disc-like Objects in Hierarchical Hydrodynamical Simulations: Comparisâ€¦' | abs_len= 1051
[14:08:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:08:25] select | verify relaxed 6/10
[14:08:25] verify | func= Background | rank= 5 | pid= astro-ph/0103092 | title_snip='The evolution of the galaxy distribution' | abs_len= 1552
[14:08:29] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:29] select | verify relaxed 7/10
[14:08:29] verify | func= Background | rank= 6 | pid= astro-ph/0104069 | title_snip='The Equilibrium Structure of Cosmological Halos' | abs_len= 1238
[14:08:32] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:32] select | verify relaxed 8/10
[14:08:32] verify | func= Background | rank= 7 | pid= astro-ph/0103410 | title_snip='Collisional dynamics around binary black holes in galactic centers' | abs_len= 1046
[14:08:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:08:34] select | verify relaxed 9/10
[14:08:34] verify | func= Background | rank= 8 | pid= astro-ph/0101490 | title_snip='Comparison between Disk-like Objects Formed in Hierarchical
  Hydrodynâ€¦' | abs_len= 457
[14:08:37] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:37] select | verify relaxed 10/10
[14:08:37] verify | func= Background | rank= 9 | pid= hep-ph/0103249 | title_snip='Non-Newtonian gravity confronting models with large extra dimensions' | abs_len= 287
[14:08:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How does the comparison of restricted N-body models with self-consistent N-body simulations inform future research on the interaction scenario between galaxies like NGC 4449 and DDO 125?
- WINNER: astro-ph/0104304 | Multi-method-modeling of interacting galaxies. I. A unique scenario for
  NGC 4449?
- QUOTE : investigate the interaction scenario between NGC 4449 and DDO 125
- WHY   : sufficient
[14:08:40] main | running function= Motivation
[14:08:40] select | function= Motivation | candidates_in= 20
[14:08:40] select | core_terms= ['galaxies', 'NGC 4449', 'DDO 125', 'N-body models', 'N-body simulations', 'interaction scenario', 'N-body', 'self-consistent', 'NGC', 'DDO']
[14:08:40] select | no cosine prune; kept=20/20
[14:08:40] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104304', 'astro-ph/0101265', 'astro-ph/0101296', 'astro-ph/0104465', 'astro-ph/0102011', 'astro-ph/0103092', 'astro-ph/0104069', 'astro-ph/0103410', 'astro-ph/0101490', 'hep-ph/0103249']
[14:08:40] select | verify relaxed 1/10
[14:08:40] verify | func= Motivation | rank= 0 | pid= astro-ph/0104304 | title_snip='Multi-method-modeling of interacting galaxies. I. A unique scenario foâ€¦' | abs_len= 1670
[14:08:43] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[14:08:43] select | verify relaxed 2/10
[14:08:43] verify | func= Motivation | rank= 1 | pid= astro-ph/0101265 | title_snip='N-Body Simulations of Open, Self-Gravitating Systems' | abs_len= 792
[14:08:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:08:46] select | verify relaxed 3/10
[14:08:46] verify | func= Motivation | rank= 2 | pid= astro-ph/0101296 | title_snip='Evolution of galaxies due to self-excitation' | abs_len= 1269
[14:08:49] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:49] select | verify relaxed 4/10
[14:08:49] verify | func= Motivation | rank= 3 | pid= astro-ph/0104465 | title_snip='Luminous and Dark Matter in the Milky Way' | abs_len= 1523
[14:08:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:08:51] select | verify relaxed 5/10
[14:08:51] verify | func= Motivation | rank= 4 | pid= astro-ph/0102011 | title_snip='Disc-like Objects in Hierarchical Hydrodynamical Simulations: Comparisâ€¦' | abs_len= 1051
[14:08:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:08:54] select | verify relaxed 6/10
[14:08:54] verify | func= Motivation | rank= 5 | pid= astro-ph/0103092 | title_snip='The evolution of the galaxy distribution' | abs_len= 1552
[14:08:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:08:57] select | verify relaxed 7/10
[14:08:57] verify | func= Motivation | rank= 6 | pid= astro-ph/0104069 | title_snip='The Equilibrium Structure of Cosmological Halos' | abs_len= 1238
[14:09:00] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:09:00] select | verify relaxed 8/10
[14:09:00] verify | func= Motivation | rank= 7 | pid= astro-ph/0103410 | title_snip='Collisional dynamics around binary black holes in galactic centers' | abs_len= 1046
[14:09:02] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:09:02] select | verify relaxed 9/10
[14:09:02] verify | func= Motivation | rank= 8 | pid= astro-ph/0101490 | title_snip='Comparison between Disk-like Objects Formed in Hierarchical
  Hydrodynâ€¦' | abs_len= 457
[14:09:05] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[14:09:05] select | verify relaxed 10/10
[14:09:05] verify | func= Motivation | rank= 9 | pid= hep-ph/0103249 | title_snip='Non-Newtonian gravity confronting models with large extra dimensions' | abs_len= 287
[14:09:07] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the comparison of restricted N-body models with self-consistent N-body simulations inform future research on the interaction scenario between galaxies like NGC 4449 and DDO 125?
- WINNER: astro-ph/0104304 | Multi-method-modeling of interacting galaxies. I. A unique scenario for
  NGC 4449?
- QUOTE : a unique scenario for NGC 4449?
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The comparison of restricted N-body models with self-consistent N-body simulations informs future research on the interaction scenario between galaxies like NGC 4449 and DDO 125 by demonstrating the applicability of simple restricted N-body calculations [Background] (astro-ph/0104304), and motivating further investigation into the gravitational interaction between these galaxies, which is believed to have occurred around 4-6 billion years ago [Motivation] (astro-ph/0104304).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
