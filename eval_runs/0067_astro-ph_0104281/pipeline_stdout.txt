‚úÖ Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

üëâ Select a model number (default = 1): 
‚úÖ Using model: openai/gpt-oss-120b

üîç Enter a scientific query or topic: 
üîé Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "Compares"
  ],
  "justification": "The query asks why the observed X\u2011ray spectrum drives a new two\u2011phase model (motivation) and how that model\u2019s predictions stack up against typical Seyfert galaxy spectra (comparison)."
}

‚úÖ Saved to classified_outputs.jsonl
üîß Ready for retrieval module (handled in a separate file).
[NbConvertApp] Converting notebook /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.ipynb to script
[NbConvertApp] Writing 24671 bytes to /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py
Loaded model in 2.58 s
Warmup ok

Reading arXiv_src_0101_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0101_001.jsonl: 1it [00:00,  2.78it/s]
Reading arXiv_src_0101_001.jsonl: 63it [00:00, 177.54it/s]
Reading arXiv_src_0101_001.jsonl: 218it [00:00, 571.77it/s]
Reading arXiv_src_0101_001.jsonl: 322it [00:00, 707.97it/s]
Reading arXiv_src_0101_001.jsonl: 418it [00:00, 700.91it/s]
Reading arXiv_src_0101_001.jsonl: 504it [00:00, 596.72it/s]
Reading arXiv_src_0101_001.jsonl: 577it [00:01, 575.15it/s]
Reading arXiv_src_0101_001.jsonl: 681it [00:01, 685.53it/s]
Reading arXiv_src_0101_001.jsonl: 782it [00:01, 766.91it/s]
Reading arXiv_src_0101_001.jsonl: 894it [00:01, 860.02it/s]
Reading arXiv_src_0101_001.jsonl: 1003it [00:01, 903.71it/s]
Reading arXiv_src_0101_001.jsonl: 1128it [00:01, 999.80it/s]
Reading arXiv_src_0101_001.jsonl: 1259it [00:01, 1085.87it/s]
Reading arXiv_src_0101_001.jsonl: 1372it [00:01, 1086.74it/s]
Reading arXiv_src_0101_001.jsonl: 1504it [00:01, 1149.61it/s]
Reading arXiv_src_0101_001.jsonl: 1642it [00:02, 1215.67it/s]
Reading arXiv_src_0101_001.jsonl: 1766it [00:02, 1210.35it/s]
Reading arXiv_src_0101_001.jsonl: 1899it [00:02, 1243.23it/s]
Reading arXiv_src_0101_001.jsonl: 2091it [00:02, 1431.86it/s]
Reading arXiv_src_0101_001.jsonl: 2239it [00:02, 1445.60it/s]
Reading arXiv_src_0101_001.jsonl: 2319it [00:02, 926.14it/s] 

Reading arXiv_src_0102_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0102_001.jsonl: 134it [00:00, 1338.20it/s]
Reading arXiv_src_0102_001.jsonl: 275it [00:00, 1361.24it/s]
Reading arXiv_src_0102_001.jsonl: 412it [00:00, 860.91it/s] 
Reading arXiv_src_0102_001.jsonl: 514it [00:00, 530.50it/s]
Reading arXiv_src_0102_001.jsonl: 592it [00:00, 561.28it/s]
Reading arXiv_src_0102_001.jsonl: 671it [00:00, 608.99it/s]
Reading arXiv_src_0102_001.jsonl: 786it [00:01, 732.59it/s]
Reading arXiv_src_0102_001.jsonl: 916it [00:01, 873.47it/s]
Reading arXiv_src_0102_001.jsonl: 1029it [00:01, 938.76it/s]
Reading arXiv_src_0102_001.jsonl: 1151it [00:01, 1006.73it/s]
Reading arXiv_src_0102_001.jsonl: 1269it [00:01, 1053.76it/s]
Reading arXiv_src_0102_001.jsonl: 1415it [00:01, 1168.78it/s]
Reading arXiv_src_0102_001.jsonl: 1548it [00:01, 1213.95it/s]
Reading arXiv_src_0102_001.jsonl: 1679it [00:01, 1241.34it/s]
Reading arXiv_src_0102_001.jsonl: 1831it [00:01, 1321.91it/s]
Reading arXiv_src_0102_001.jsonl: 1983it [00:02, 1378.08it/s]
Reading arXiv_src_0102_001.jsonl: 2134it [00:02, 1416.95it/s]
Reading arXiv_src_0102_001.jsonl: 2192it [00:02, 1025.71it/s]

Reading arXiv_src_0103_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0103_001.jsonl: 133it [00:00, 1304.57it/s]
Reading arXiv_src_0103_001.jsonl: 297it [00:00, 1500.01it/s]
Reading arXiv_src_0103_001.jsonl: 448it [00:00, 1162.56it/s]
Reading arXiv_src_0103_001.jsonl: 572it [00:00, 757.28it/s] 
Reading arXiv_src_0103_001.jsonl: 665it [00:00, 782.41it/s]
Reading arXiv_src_0103_001.jsonl: 756it [00:00, 803.78it/s]
Reading arXiv_src_0103_001.jsonl: 874it [00:00, 898.78it/s]
Reading arXiv_src_0103_001.jsonl: 978it [00:01, 934.74it/s]
Reading arXiv_src_0103_001.jsonl: 1084it [00:01, 969.19it/s]
Reading arXiv_src_0103_001.jsonl: 1211it [00:01, 1052.19it/s]
Reading arXiv_src_0103_001.jsonl: 1321it [00:01, 1061.33it/s]
Reading arXiv_src_0103_001.jsonl: 1464it [00:01, 1167.83it/s]
Reading arXiv_src_0103_001.jsonl: 1603it [00:01, 1230.10it/s]
Reading arXiv_src_0103_001.jsonl: 1752it [00:01, 1303.11it/s]
Reading arXiv_src_0103_001.jsonl: 1896it [00:01, 1342.61it/s]
Reading arXiv_src_0103_001.jsonl: 2040it [00:01, 1371.01it/s]
Reading arXiv_src_0103_001.jsonl: 2181it [00:01, 1379.43it/s]
Reading arXiv_src_0103_001.jsonl: 2340it [00:02, 1439.87it/s]
Reading arXiv_src_0103_001.jsonl: 2441it [00:02, 1153.06it/s]

Reading arXiv_src_0104_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0104_001.jsonl: 1it [00:00,  4.74it/s]
Reading arXiv_src_0104_001.jsonl: 54it [00:00, 216.61it/s]
Reading arXiv_src_0104_001.jsonl: 164it [00:00, 494.01it/s]
Reading arXiv_src_0104_001.jsonl: 320it [00:00, 837.92it/s]
Reading arXiv_src_0104_001.jsonl: 418it [00:00, 880.86it/s]
Reading arXiv_src_0104_001.jsonl: 515it [00:00, 654.90it/s]
Reading arXiv_src_0104_001.jsonl: 594it [00:01, 454.57it/s]
Reading arXiv_src_0104_001.jsonl: 704it [00:01, 574.15it/s]
Reading arXiv_src_0104_001.jsonl: 795it [00:01, 643.76it/s]
Reading arXiv_src_0104_001.jsonl: 897it [00:01, 729.46it/s]
Reading arXiv_src_0104_001.jsonl: 1026it [00:01, 865.63it/s]
Reading arXiv_src_0104_001.jsonl: 1137it [00:01, 928.82it/s]
Reading arXiv_src_0104_001.jsonl: 1264it [00:01, 1016.61it/s]
Reading arXiv_src_0104_001.jsonl: 1374it [00:01, 1019.38it/s]
Reading arXiv_src_0104_001.jsonl: 1507it [00:01, 1106.46it/s]
Reading arXiv_src_0104_001.jsonl: 1646it [00:02, 1186.67it/s]
Reading arXiv_src_0104_001.jsonl: 1774it [00:02, 1212.20it/s]
Reading arXiv_src_0104_001.jsonl: 1921it [00:02, 1286.74it/s]
Reading arXiv_src_0104_001.jsonl: 2081it [00:02, 1378.42it/s]
Reading arXiv_src_0104_001.jsonl: 2221it [00:02, 942.60it/s] 
Reading arXiv_src_0104_001.jsonl: 2310it [00:02, 855.22it/s]
Loaded 9262 unique papers
           paper_id  ...  year
0  quant-ph/0101147  ...  2001
1  quant-ph/0101145  ...  2001
2  quant-ph/0101144  ...  2001

[3 rows x 4 columns]
[debug] query: How does the X-ray spectrum of NGC 4151 motivate the development of a two-phase model and compare to expected spectra for Seyfert galaxies?
[debug] classifier labels: ['Motivation', 'Compares']
[debug] got 20 candidates
rows written: 20
- outputs/topk_candidates_query.jsonl
- outputs/topk_candidates_query.csv
   rank     score  ...                retrieved_at  classifier_functions
0     0  1.000000  ...  2025-09-21T15:13:18.657302  Motivation, Compares
1     1  0.439915  ...  2025-09-21T15:13:18.657302  Motivation, Compares
2     2  0.391679  ...  2025-09-21T15:13:18.657302  Motivation, Compares
3     3  0.390921  ...  2025-09-21T15:13:18.657302  Motivation, Compares
4     4  0.352009  ...  2025-09-21T15:13:18.657302  Motivation, Compares
5     5  0.328567  ...  2025-09-21T15:13:18.657302  Motivation, Compares
6     6  0.321183  ...  2025-09-21T15:13:18.657302  Motivation, Compares
7     7  0.311188  ...  2025-09-21T15:13:18.657302  Motivation, Compares
8     8  0.310724  ...  2025-09-21T15:13:18.657302  Motivation, Compares
9     9  0.227869  ...  2025-09-21T15:13:18.657302  Motivation, Compares

[10 rows x 12 columns]
[17:13:32] main | args: Namespace(max_check=20, debug=True)
[17:13:32] read_last_jsonl | path= classified_outputs.jsonl
[17:13:32] read_last_jsonl | total_lines= 1
[17:13:32] main | query='How does the X-ray spectrum of NGC 4151 motivate the development of a two-phase model and compare to expected spectra for Seyfert galaxies?' | funcs=['Motivation', 'Compares']
[17:13:35] main | core_terms= ['NGC 4151', 'X-ray spectrum', 'Seyfert galaxies', 'two-phase model', 'X-ray', 'NGC', 'two-phase']
[17:13:35] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[17:13:35] load_topk_jsonl | rows= 20
[17:13:35] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104281 title_snip='A two-phase model for the Narrow Line Region of NGC 4151' abs_len= 993
[17:13:35] main | running function= Motivation
[17:13:35] select | function= Motivation | candidates_in= 20
[17:13:35] select | core_terms= ['NGC 4151', 'X-ray spectrum', 'Seyfert galaxies', 'two-phase model', 'X-ray', 'NGC', 'two-phase']
[17:13:35] select | no cosine prune; kept=20/20
[17:13:35] select | pool_size= 20 | ranks= [0, 9, 5, 6, 7, 18, 12, 15, 3, 2, 4, 8, 10, 13, 1, 16, 19, 11, 14, 17] | pids= ['astro-ph/0104281', 'astro-ph/0102404', 'astro-ph/0104125', 'astro-ph/0101079', 'astro-ph/0101037', 'astro-ph/0101103', 'astro-ph/0104309', 'astro-ph/0104027', 'astro-ph/0101221', 'astro-ph/0104204', 'astro-ph/0104061', 'astro-ph/0101184', 'astro-ph/0101324', 'astro-ph/0104346', 'astro-ph/0101066', 'astro-ph/0101104', 'astro-ph/0103378', 'astro-ph/0103263', 'astro-ph/0103234', 'astro-ph/0102116']
[17:13:35] select | verify strict 1/20
[17:13:35] verify | func= Motivation | rank= 0 | pid= astro-ph/0104281 | title_snip='A two-phase model for the Narrow Line Region of NGC 4151' | abs_len= 993
[17:13:39] verify | result supports= False fit= 0.00 top= 0.90 invalid= quote_not_in_abstract cue_hint= True
[17:13:39] select | verify strict 2/20
[17:13:39] verify | func= Motivation | rank= 9 | pid= astro-ph/0102404 | title_snip='Absorption and Reddening in the Seyfert Galaxy NGC 3227' | abs_len= 1515
[17:13:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:13:41] select | verify strict 3/20
[17:13:41] verify | func= Motivation | rank= 5 | pid= astro-ph/0104125 | title_snip='High-Resolution X-ray and Ultraviolet Spectroscopy of the Complex
  In‚Ä¶' | abs_len= 1479
[17:13:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:13:44] select | verify strict 4/20
[17:13:44] verify | func= Motivation | rank= 6 | pid= astro-ph/0101079 | title_snip='BeppoSAX Observations of the Seyfert-2 Galaxies NGC 7172 and ESO 103-G‚Ä¶' | abs_len= 948
[17:13:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:13:47] select | verify strict 5/20
[17:13:47] verify | func= Motivation | rank= 7 | pid= astro-ph/0101037 | title_snip='STIS Echelle Observations of the Seyfert Galaxy NGC 4151: Physical
  C‚Ä¶' | abs_len= 1807
[17:13:51] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:13:51] select | verify strict 6/20
[17:13:51] verify | func= Motivation | rank= 18 | pid= astro-ph/0101103 | title_snip='The origin of the mid- and far-infrared emission in AGN' | abs_len= 1153
[17:13:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:13:53] select | verify strict 7/20
[17:13:53] verify | func= Motivation | rank= 12 | pid= astro-ph/0104309 | title_snip='The Inner Light Year of the Nearest Seyfert 1 Nucleus in NGC 4395' | abs_len= 1009
[17:13:56] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:13:56] select | verify strict 8/20
[17:13:56] verify | func= Motivation | rank= 15 | pid= astro-ph/0104027 | title_snip='A Chandra X-ray Study of NGC 1068 - I. Observations of Extended Emissi‚Ä¶' | abs_len= 1329
[17:13:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:13:58] select | verify strict 9/20
[17:13:58] verify | func= Motivation | rank= 3 | pid= astro-ph/0101221 | title_snip='Constraints on the High Energy Continuum of Seyfert galaxies from RXTE‚Ä¶' | abs_len= 850
[17:14:01] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:01] select | verify strict 10/20
[17:14:01] verify | func= Motivation | rank= 2 | pid= astro-ph/0104204 | title_snip='Testing Comptonisation models using BeppoSAX observations of Seyfert 1‚Ä¶' | abs_len= 1340
[17:14:04] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:04] select | verify strict 11/20
[17:14:04] verify | func= Motivation | rank= 4 | pid= astro-ph/0104061 | title_snip='The X-ray spectra of optically selected Seyfert 2 galaxies. Are there
‚Ä¶' | abs_len= 1157
[17:14:06] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:06] select | verify strict 12/20
[17:14:06] verify | func= Motivation | rank= 8 | pid= astro-ph/0101184 | title_snip='Soft X-ray properties of a spectroscopically selected sample of
  inte‚Ä¶' | abs_len= 1569
[17:14:09] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:09] select | verify strict 13/20
[17:14:09] verify | func= Motivation | rank= 10 | pid= astro-ph/0101324 | title_snip='On the Origin of the FeK$\alpha$ Line in the Seyfert 2 Galaxy NGC 7172' | abs_len= 1364
[17:14:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:12] select | verify strict 14/20
[17:14:12] verify | func= Motivation | rank= 13 | pid= astro-ph/0104346 | title_snip='Modeling the spectral energy distribution of galaxies. II. Disk opacit‚Ä¶' | abs_len= 1153
[17:14:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:15] select | verify strict 15/20
[17:14:15] verify | func= Motivation | rank= 1 | pid= astro-ph/0101066 | title_snip='X-ray energy and power spectra of Seyfert 1 and Narrow Line Seyfert 1
‚Ä¶' | abs_len= 914
[17:14:18] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:18] select | verify strict 16/20
[17:14:18] verify | func= Motivation | rank= 16 | pid= astro-ph/0101104 | title_snip='Optical studies of the X-ray transient XTE J2123-058 - II.
  Phase-res‚Ä¶' | abs_len= 1151
[17:14:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:20] select | verify strict 17/20
[17:14:20] verify | func= Motivation | rank= 19 | pid= astro-ph/0103378 | title_snip='The Power Spectrum of Flux Limited X-Ray Galaxy Cluster Surveys' | abs_len= 1214
[17:14:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:23] select | verify strict 18/20
[17:14:23] verify | func= Motivation | rank= 11 | pid= astro-ph/0103263 | title_snip='Testing the Unified Model with an Infrared Selected Sample of Seyfert
‚Ä¶' | abs_len= 1824
[17:14:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:25] select | verify strict 19/20
[17:14:25] verify | func= Motivation | rank= 14 | pid= astro-ph/0103234 | title_snip='An astrophysical oscillator strength for the SII 94.7 nm resonance lin‚Ä¶' | abs_len= 1002
[17:14:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:28] select | verify strict 20/20
[17:14:28] verify | func= Motivation | rank= 17 | pid= astro-ph/0102116 | title_snip='The far-infrared--submm spectral energy distribution of high-redshift
‚Ä¶' | abs_len= 1249
[17:14:30] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:30] select | strict pass found 0 winners ‚Üí trying relaxed
[17:14:30] select | verify relaxed 1/20
[17:14:30] verify | func= Motivation | rank= 0 | pid= astro-ph/0104281 | title_snip='A two-phase model for the Narrow Line Region of NGC 4151' | abs_len= 993
[17:14:34] verify | result supports= True fit= 0.90 top= 0.90 invalid= ‚Äî cue_hint= True
[17:14:34] select | verify relaxed 2/20
[17:14:34] verify | func= Motivation | rank= 9 | pid= astro-ph/0102404 | title_snip='Absorption and Reddening in the Seyfert Galaxy NGC 3227' | abs_len= 1515
[17:14:37] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:37] select | verify relaxed 3/20
[17:14:37] verify | func= Motivation | rank= 5 | pid= astro-ph/0104125 | title_snip='High-Resolution X-ray and Ultraviolet Spectroscopy of the Complex
  In‚Ä¶' | abs_len= 1479
[17:14:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:40] select | verify relaxed 4/20
[17:14:40] verify | func= Motivation | rank= 6 | pid= astro-ph/0101079 | title_snip='BeppoSAX Observations of the Seyfert-2 Galaxies NGC 7172 and ESO 103-G‚Ä¶' | abs_len= 948
[17:14:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:42] select | verify relaxed 5/20
[17:14:42] verify | func= Motivation | rank= 7 | pid= astro-ph/0101037 | title_snip='STIS Echelle Observations of the Seyfert Galaxy NGC 4151: Physical
  C‚Ä¶' | abs_len= 1807
[17:14:46] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:46] select | verify relaxed 6/20
[17:14:46] verify | func= Motivation | rank= 18 | pid= astro-ph/0101103 | title_snip='The origin of the mid- and far-infrared emission in AGN' | abs_len= 1153
[17:14:49] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:49] select | verify relaxed 7/20
[17:14:49] verify | func= Motivation | rank= 12 | pid= astro-ph/0104309 | title_snip='The Inner Light Year of the Nearest Seyfert 1 Nucleus in NGC 4395' | abs_len= 1009
[17:14:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:52] select | verify relaxed 8/20
[17:14:52] verify | func= Motivation | rank= 15 | pid= astro-ph/0104027 | title_snip='A Chandra X-ray Study of NGC 1068 - I. Observations of Extended Emissi‚Ä¶' | abs_len= 1329
[17:14:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:14:54] select | verify relaxed 9/20
[17:14:54] verify | func= Motivation | rank= 3 | pid= astro-ph/0101221 | title_snip='Constraints on the High Energy Continuum of Seyfert galaxies from RXTE‚Ä¶' | abs_len= 850
[17:14:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:14:57] select | verify relaxed 10/20
[17:14:57] verify | func= Motivation | rank= 2 | pid= astro-ph/0104204 | title_snip='Testing Comptonisation models using BeppoSAX observations of Seyfert 1‚Ä¶' | abs_len= 1340
[17:15:00] verify | result supports= False fit= 0.00 top= 0.50 invalid= ‚Äî cue_hint= False
[17:15:00] select | verify relaxed 11/20
[17:15:00] verify | func= Motivation | rank= 4 | pid= astro-ph/0104061 | title_snip='The X-ray spectra of optically selected Seyfert 2 galaxies. Are there
‚Ä¶' | abs_len= 1157
[17:15:03] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:15:03] select | verify relaxed 12/20
[17:15:03] verify | func= Motivation | rank= 8 | pid= astro-ph/0101184 | title_snip='Soft X-ray properties of a spectroscopically selected sample of
  inte‚Ä¶' | abs_len= 1569
[17:15:06] verify | result supports= False fit= 0.00 top= 0.50 invalid= ‚Äî cue_hint= False
[17:15:06] select | verify relaxed 13/20
[17:15:06] verify | func= Motivation | rank= 10 | pid= astro-ph/0101324 | title_snip='On the Origin of the FeK$\alpha$ Line in the Seyfert 2 Galaxy NGC 7172' | abs_len= 1364
[17:15:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:09] select | verify relaxed 14/20
[17:15:09] verify | func= Motivation | rank= 13 | pid= astro-ph/0104346 | title_snip='Modeling the spectral energy distribution of galaxies. II. Disk opacit‚Ä¶' | abs_len= 1153
[17:15:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:11] select | verify relaxed 15/20
[17:15:11] verify | func= Motivation | rank= 1 | pid= astro-ph/0101066 | title_snip='X-ray energy and power spectra of Seyfert 1 and Narrow Line Seyfert 1
‚Ä¶' | abs_len= 914
[17:15:14] verify | result supports= False fit= 0.00 top= 0.50 invalid= ‚Äî cue_hint= False
[17:15:14] select | verify relaxed 16/20
[17:15:14] verify | func= Motivation | rank= 16 | pid= astro-ph/0101104 | title_snip='Optical studies of the X-ray transient XTE J2123-058 - II.
  Phase-res‚Ä¶' | abs_len= 1151
[17:15:17] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:17] select | verify relaxed 17/20
[17:15:17] verify | func= Motivation | rank= 19 | pid= astro-ph/0103378 | title_snip='The Power Spectrum of Flux Limited X-Ray Galaxy Cluster Surveys' | abs_len= 1214
[17:15:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:20] select | verify relaxed 18/20
[17:15:20] verify | func= Motivation | rank= 11 | pid= astro-ph/0103263 | title_snip='Testing the Unified Model with an Infrared Selected Sample of Seyfert
‚Ä¶' | abs_len= 1824
[17:15:23] verify | result supports= False fit= 0.00 top= 0.20 invalid= quote_not_in_abstract cue_hint= False
[17:15:23] select | verify relaxed 19/20
[17:15:23] verify | func= Motivation | rank= 14 | pid= astro-ph/0103234 | title_snip='An astrophysical oscillator strength for the SII 94.7 nm resonance lin‚Ä¶' | abs_len= 1002
[17:15:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:25] select | verify relaxed 20/20
[17:15:25] verify | func= Motivation | rank= 17 | pid= astro-ph/0102116 | title_snip='The far-infrared--submm spectral energy distribution of high-redshift
‚Ä¶' | abs_len= 1249
[17:15:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the X-ray spectrum of NGC 4151 motivate the development of a two-phase model and compare to expected spectra for Seyfert galaxies?
- WINNER: astro-ph/0104281 | A two-phase model for the Narrow Line Region of NGC 4151
- QUOTE : This study is motivated by (i) the fact that the X-ray spectrum of NGC 4151
- WHY   : sufficient
- ANSWER: The X-ray spectrum of NGC 4151, being one of the flattest among Seyfert galaxies, motivates the development of a two-phase model as it suggests the presence of two gas phases in pressure equilibrium. This spectrum deviates from expected spectra for Seyfert galaxies, prompting a re-examination of the narrow-line region's structure (astro-ph/0104281).
[17:15:34] main | running function= Compares
[17:15:34] select | function= Compares | candidates_in= 20
[17:15:34] select | core_terms= ['NGC 4151', 'X-ray spectrum', 'Seyfert galaxies', 'two-phase model', 'X-ray', 'NGC', 'two-phase']
[17:15:34] select | no cosine prune; kept=20/20
[17:15:34] select | pool_size= 20 | ranks= [5, 6, 0, 7, 9, 15, 8, 12, 3, 2, 4, 18, 1, 19, 10, 13, 16, 11, 14, 17] | pids= ['astro-ph/0104125', 'astro-ph/0101079', 'astro-ph/0104281', 'astro-ph/0101037', 'astro-ph/0102404', 'astro-ph/0104027', 'astro-ph/0101184', 'astro-ph/0104309', 'astro-ph/0101221', 'astro-ph/0104204', 'astro-ph/0104061', 'astro-ph/0101103', 'astro-ph/0101066', 'astro-ph/0103378', 'astro-ph/0101324', 'astro-ph/0104346', 'astro-ph/0101104', 'astro-ph/0103263', 'astro-ph/0103234', 'astro-ph/0102116']
[17:15:34] select | verify strict 1/20
[17:15:34] verify | func= Compares | rank= 5 | pid= astro-ph/0104125 | title_snip='High-Resolution X-ray and Ultraviolet Spectroscopy of the Complex
  In‚Ä¶' | abs_len= 1479
[17:15:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:37] select | verify strict 2/20
[17:15:37] verify | func= Compares | rank= 6 | pid= astro-ph/0101079 | title_snip='BeppoSAX Observations of the Seyfert-2 Galaxies NGC 7172 and ESO 103-G‚Ä¶' | abs_len= 948
[17:15:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:39] select | verify strict 3/20
[17:15:39] verify | func= Compares | rank= 0 | pid= astro-ph/0104281 | title_snip='A two-phase model for the Narrow Line Region of NGC 4151' | abs_len= 993
[17:15:43] verify | result supports= True fit= 0.80 top= 0.90 invalid= ‚Äî cue_hint= False
[17:15:43] select | verify strict 4/20
[17:15:43] verify | func= Compares | rank= 7 | pid= astro-ph/0101037 | title_snip='STIS Echelle Observations of the Seyfert Galaxy NGC 4151: Physical
  C‚Ä¶' | abs_len= 1807
[17:15:46] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:15:46] select | verify strict 5/20
[17:15:46] verify | func= Compares | rank= 9 | pid= astro-ph/0102404 | title_snip='Absorption and Reddening in the Seyfert Galaxy NGC 3227' | abs_len= 1515
[17:15:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:49] select | verify strict 6/20
[17:15:49] verify | func= Compares | rank= 15 | pid= astro-ph/0104027 | title_snip='A Chandra X-ray Study of NGC 1068 - I. Observations of Extended Emissi‚Ä¶' | abs_len= 1329
[17:15:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:51] select | verify strict 7/20
[17:15:51] verify | func= Compares | rank= 8 | pid= astro-ph/0101184 | title_snip='Soft X-ray properties of a spectroscopically selected sample of
  inte‚Ä¶' | abs_len= 1569
[17:15:55] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:15:55] select | verify strict 8/20
[17:15:55] verify | func= Compares | rank= 12 | pid= astro-ph/0104309 | title_snip='The Inner Light Year of the Nearest Seyfert 1 Nucleus in NGC 4395' | abs_len= 1009
[17:15:57] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:57] select | verify strict 9/20
[17:15:57] verify | func= Compares | rank= 3 | pid= astro-ph/0101221 | title_snip='Constraints on the High Energy Continuum of Seyfert galaxies from RXTE‚Ä¶' | abs_len= 850
[17:15:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:15:59] select | verify strict 10/20
[17:15:59] verify | func= Compares | rank= 2 | pid= astro-ph/0104204 | title_snip='Testing Comptonisation models using BeppoSAX observations of Seyfert 1‚Ä¶' | abs_len= 1340
[17:16:03] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:16:03] select | verify strict 11/20
[17:16:03] verify | func= Compares | rank= 4 | pid= astro-ph/0104061 | title_snip='The X-ray spectra of optically selected Seyfert 2 galaxies. Are there
‚Ä¶' | abs_len= 1157
[17:16:06] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:16:06] select | verify strict 12/20
[17:16:06] verify | func= Compares | rank= 18 | pid= astro-ph/0101103 | title_snip='The origin of the mid- and far-infrared emission in AGN' | abs_len= 1153
[17:16:09] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[17:16:09] select | verify strict 13/20
[17:16:09] verify | func= Compares | rank= 1 | pid= astro-ph/0101066 | title_snip='X-ray energy and power spectra of Seyfert 1 and Narrow Line Seyfert 1
‚Ä¶' | abs_len= 914
[17:16:12] verify | result supports= False fit= 0.00 top= 0.90 invalid= missing_core_in_quote cue_hint= True
[17:16:12] select | verify strict 14/20
[17:16:12] verify | func= Compares | rank= 19 | pid= astro-ph/0103378 | title_snip='The Power Spectrum of Flux Limited X-Ray Galaxy Cluster Surveys' | abs_len= 1214
[17:16:14] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:16:14] select | verify strict 15/20
[17:16:14] verify | func= Compares | rank= 10 | pid= astro-ph/0101324 | title_snip='On the Origin of the FeK$\alpha$ Line in the Seyfert 2 Galaxy NGC 7172' | abs_len= 1364
[17:16:17] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:16:17] select | verify strict 16/20
[17:16:17] verify | func= Compares | rank= 13 | pid= astro-ph/0104346 | title_snip='Modeling the spectral energy distribution of galaxies. II. Disk opacit‚Ä¶' | abs_len= 1153
[17:16:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:16:20] select | verify strict 17/20
[17:16:20] verify | func= Compares | rank= 16 | pid= astro-ph/0101104 | title_snip='Optical studies of the X-ray transient XTE J2123-058 - II.
  Phase-res‚Ä¶' | abs_len= 1151
[17:16:22] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:16:22] select | verify strict 18/20
[17:16:22] verify | func= Compares | rank= 11 | pid= astro-ph/0103263 | title_snip='Testing the Unified Model with an Infrared Selected Sample of Seyfert
‚Ä¶' | abs_len= 1824
[17:16:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:16:25] select | verify strict 19/20
[17:16:25] verify | func= Compares | rank= 14 | pid= astro-ph/0103234 | title_snip='An astrophysical oscillator strength for the SII 94.7 nm resonance lin‚Ä¶' | abs_len= 1002
[17:16:27] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[17:16:27] select | verify strict 20/20
[17:16:27] verify | func= Compares | rank= 17 | pid= astro-ph/0102116 | title_snip='The far-infrared--submm spectral energy distribution of high-redshift
‚Ä¶' | abs_len= 1249
[17:16:30] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the X-ray spectrum of NGC 4151 motivate the development of a two-phase model and compare to expected spectra for Seyfert galaxies?
- WINNER: astro-ph/0104281 | A two-phase model for the Narrow Line Region of NGC 4151
- QUOTE : X-ray spectrum of NGC 4151 is among the flattest known for Seyferts
- WHY   : sufficient
- ANSWER: The X-ray spectrum of NGC 4151 is compared to expected spectra for Seyfert galaxies, with its flat spectrum suggesting the presence of two gas phases in pressure equilibrium. This is in contrast to typical Seyfert galaxies, which do not exhibit such flat X-ray spectra, motivating the development of a two-phase model for NGC 4151's narrow-line region (astro-ph/0104281).

üìÑ Saved: outputs/function_selection_results.json
üìÑ Saved: outputs/function_selection_results.jsonl
üìù Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
‚úÖ Saved to classified_outputs.jsonl
üîß Ready for retrieval module (handled in a separate file).
-> jupyter nbconvert --to script /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.ipynb  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
ü©π Hardened exported script: Retreival_query_based.py
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
‚úÖ Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
üîó Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
üß© Patched final-stage script written to: function_based_final_patched.py
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_final_patched.py --debug --max-check 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

üéâ Pipeline complete.
  ‚Ä¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  ‚Ä¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  ‚Ä¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
