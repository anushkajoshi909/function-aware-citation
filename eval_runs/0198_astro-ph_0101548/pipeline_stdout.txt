‚úÖ Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

üëâ Select a model number (default = 1): 
‚úÖ Using model: openai/gpt-oss-120b

üîç Enter a scientific query or topic: 
üîé Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "Compares"
  ],
  "justification": "The query asks why the gas-phase abundances in the Magellanic Bridge are worth studying (Motivation) and seeks a direct comparison with Galactic halo clouds (Compares)."
}

‚úÖ Saved to classified_outputs.jsonl
üîß Ready for retrieval module (handled in a separate file).
[NbConvertApp] Converting notebook /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.ipynb to script
[NbConvertApp] Writing 24671 bytes to /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py
Loaded model in 2.88 s
Warmup ok

Reading arXiv_src_0101_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0101_001.jsonl: 3it [00:00, 29.66it/s]
Reading arXiv_src_0101_001.jsonl: 143it [00:00, 822.79it/s]
Reading arXiv_src_0101_001.jsonl: 291it [00:00, 1111.87it/s]
Reading arXiv_src_0101_001.jsonl: 403it [00:00, 956.26it/s] 
Reading arXiv_src_0101_001.jsonl: 502it [00:00, 697.88it/s]
Reading arXiv_src_0101_001.jsonl: 582it [00:00, 654.71it/s]
Reading arXiv_src_0101_001.jsonl: 688it [00:00, 752.51it/s]
Reading arXiv_src_0101_001.jsonl: 789it [00:01, 818.20it/s]
Reading arXiv_src_0101_001.jsonl: 903it [00:01, 903.05it/s]
Reading arXiv_src_0101_001.jsonl: 1004it [00:01, 932.49it/s]
Reading arXiv_src_0101_001.jsonl: 1134it [00:01, 1035.82it/s]
Reading arXiv_src_0101_001.jsonl: 1265it [00:01, 1114.75it/s]
Reading arXiv_src_0101_001.jsonl: 1380it [00:01, 1108.74it/s]
Reading arXiv_src_0101_001.jsonl: 1512it [00:01, 1169.06it/s]
Reading arXiv_src_0101_001.jsonl: 1652it [00:01, 1234.36it/s]
Reading arXiv_src_0101_001.jsonl: 1777it [00:01, 1201.67it/s]
Reading arXiv_src_0101_001.jsonl: 1924it [00:01, 1276.79it/s]
Reading arXiv_src_0101_001.jsonl: 2103it [00:02, 1422.67it/s]
Reading arXiv_src_0101_001.jsonl: 2260it [00:02, 1464.98it/s]
Reading arXiv_src_0101_001.jsonl: 2319it [00:02, 1067.79it/s]

Reading arXiv_src_0102_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0102_001.jsonl: 134it [00:00, 1321.42it/s]
Reading arXiv_src_0102_001.jsonl: 274it [00:00, 1366.47it/s]
Reading arXiv_src_0102_001.jsonl: 411it [00:00, 848.12it/s] 
Reading arXiv_src_0102_001.jsonl: 512it [00:00, 522.35it/s]
Reading arXiv_src_0102_001.jsonl: 591it [00:00, 569.87it/s]
Reading arXiv_src_0102_001.jsonl: 665it [00:01, 586.72it/s]
Reading arXiv_src_0102_001.jsonl: 779it [00:01, 712.82it/s]
Reading arXiv_src_0102_001.jsonl: 907it [00:01, 852.57it/s]
Reading arXiv_src_0102_001.jsonl: 1021it [00:01, 924.54it/s]
Reading arXiv_src_0102_001.jsonl: 1141it [00:01, 998.64it/s]
Reading arXiv_src_0102_001.jsonl: 1252it [00:01, 1028.69it/s]
Reading arXiv_src_0102_001.jsonl: 1397it [00:01, 1146.39it/s]
Reading arXiv_src_0102_001.jsonl: 1524it [00:01, 1179.98it/s]
Reading arXiv_src_0102_001.jsonl: 1646it [00:01, 1191.52it/s]
Reading arXiv_src_0102_001.jsonl: 1800it [00:01, 1290.61it/s]
Reading arXiv_src_0102_001.jsonl: 1949it [00:02, 1349.46it/s]
Reading arXiv_src_0102_001.jsonl: 2105it [00:02, 1410.31it/s]
Reading arXiv_src_0102_001.jsonl: 2192it [00:02, 1011.53it/s]

Reading arXiv_src_0103_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0103_001.jsonl: 138it [00:00, 1372.89it/s]
Reading arXiv_src_0103_001.jsonl: 303it [00:00, 1530.39it/s]
Reading arXiv_src_0103_001.jsonl: 457it [00:00, 1120.23it/s]
Reading arXiv_src_0103_001.jsonl: 579it [00:00, 725.34it/s] 
Reading arXiv_src_0103_001.jsonl: 680it [00:00, 787.13it/s]
Reading arXiv_src_0103_001.jsonl: 775it [00:00, 815.83it/s]
Reading arXiv_src_0103_001.jsonl: 885it [00:00, 886.63it/s]
Reading arXiv_src_0103_001.jsonl: 998it [00:01, 951.15it/s]
Reading arXiv_src_0103_001.jsonl: 1106it [00:01, 986.31it/s]
Reading arXiv_src_0103_001.jsonl: 1225it [00:01, 1043.41it/s]
Reading arXiv_src_0103_001.jsonl: 1334it [00:01, 1053.37it/s]
Reading arXiv_src_0103_001.jsonl: 1478it [00:01, 1164.62it/s]
Reading arXiv_src_0103_001.jsonl: 1612it [00:01, 1215.52it/s]
Reading arXiv_src_0103_001.jsonl: 1758it [00:01, 1285.99it/s]
Reading arXiv_src_0103_001.jsonl: 1904it [00:01, 1337.27it/s]
Reading arXiv_src_0103_001.jsonl: 2045it [00:01, 1357.53it/s]
Reading arXiv_src_0103_001.jsonl: 2185it [00:01, 1370.06it/s]
Reading arXiv_src_0103_001.jsonl: 2343it [00:02, 1432.60it/s]
Reading arXiv_src_0103_001.jsonl: 2441it [00:02, 1142.60it/s]

Reading arXiv_src_0104_001.jsonl: 0it [00:00, ?it/s]
Reading arXiv_src_0104_001.jsonl: 147it [00:00, 1468.41it/s]
Reading arXiv_src_0104_001.jsonl: 309it [00:00, 1555.05it/s]
Reading arXiv_src_0104_001.jsonl: 465it [00:00, 990.45it/s] 
Reading arXiv_src_0104_001.jsonl: 582it [00:00, 551.42it/s]
Reading arXiv_src_0104_001.jsonl: 689it [00:00, 644.61it/s]
Reading arXiv_src_0104_001.jsonl: 780it [00:01, 698.14it/s]
Reading arXiv_src_0104_001.jsonl: 884it [00:01, 774.27it/s]
Reading arXiv_src_0104_001.jsonl: 1002it [00:01, 871.32it/s]
Reading arXiv_src_0104_001.jsonl: 1121it [00:01, 953.34it/s]
Reading arXiv_src_0104_001.jsonl: 1233it [00:01, 996.39it/s]
Reading arXiv_src_0104_001.jsonl: 1342it [00:01, 1013.94it/s]
Reading arXiv_src_0104_001.jsonl: 1473it [00:01, 1094.38it/s]
Reading arXiv_src_0104_001.jsonl: 1616it [00:01, 1184.46it/s]
Reading arXiv_src_0104_001.jsonl: 1746it [00:01, 1217.73it/s]
Reading arXiv_src_0104_001.jsonl: 1895it [00:01, 1296.45it/s]
Reading arXiv_src_0104_001.jsonl: 2046it [00:02, 1358.23it/s]
Reading arXiv_src_0104_001.jsonl: 2184it [00:02, 949.76it/s] 
Reading arXiv_src_0104_001.jsonl: 2310it [00:02, 973.98it/s]
Loaded 9262 unique papers
           paper_id  ...  year
0  quant-ph/0101147  ...  2001
1  quant-ph/0101145  ...  2001
2  quant-ph/0101144  ...  2001

[3 rows x 4 columns]
[debug] query: What motivates the study of gas-phase abundances in the Magellanic Bridge and how does it compare to Galactic halo clouds?
[debug] classifier labels: ['Motivation', 'Compares']
[debug] got 20 candidates
rows written: 20
- outputs/topk_candidates_query.jsonl
- outputs/topk_candidates_query.csv
   rank     score  ...                retrieved_at  classifier_functions
0     0  1.000000  ...  2025-09-21T23:10:06.655561  Motivation, Compares
1     1  0.463843  ...  2025-09-21T23:10:06.655561  Motivation, Compares
2     2  0.397620  ...  2025-09-21T23:10:06.655561  Motivation, Compares
3     3  0.376901  ...  2025-09-21T23:10:06.655561  Motivation, Compares
4     4  0.281707  ...  2025-09-21T23:10:06.655561  Motivation, Compares
5     5  0.247402  ...  2025-09-21T23:10:06.655561  Motivation, Compares
6     6  0.242697  ...  2025-09-21T23:10:06.655561  Motivation, Compares
7     7  0.197119  ...  2025-09-21T23:10:06.655561  Motivation, Compares
8     8  0.191087  ...  2025-09-21T23:10:06.655561  Motivation, Compares
9     9  0.188818  ...  2025-09-21T23:10:06.655561  Motivation, Compares

[10 rows x 12 columns]
[01:10:14] main | args: Namespace(max_check=20, debug=True)
[01:10:14] read_last_jsonl | path= classified_outputs.jsonl
[01:10:14] read_last_jsonl | total_lines= 1
[01:10:14] main | query='What motivates the study of gas-phase abundances in the Magellanic Bridge and how does it compare to Galactic halo clouds?' | funcs=['Motivation', 'Compares']
[01:10:17] main | core_terms= ['Magellanic Bridge', 'Galactic halo', 'gas-phase abundances', 'gas-phase']
[01:10:17] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[01:10:17] load_topk_jsonl | rows= 20
[01:10:17] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101548 title_snip='Observations of the interstellar medium in the Magellanic Bridge' abs_len= 1322
[01:10:17] main | running function= Motivation
[01:10:17] select | function= Motivation | candidates_in= 20
[01:10:17] select | core_terms= ['Magellanic Bridge', 'Galactic halo', 'gas-phase abundances', 'gas-phase']
[01:10:17] select | no cosine prune; kept=20/20
[01:10:17] select | pool_size= 20 | ranks= [0, 3, 15, 5, 7, 9, 13, 16, 1, 2, 4, 6, 8, 10, 11, 12, 14, 17, 18, 19] | pids= ['astro-ph/0101548', 'astro-ph/0103521', 'astro-ph/0103085', 'astro-ph/0103256', 'astro-ph/0104069', 'astro-ph/0102010', 'astro-ph/0102266', 'astro-ph/0101271', 'astro-ph/0104139', 'astro-ph/0102134', 'astro-ph/0103518', 'astro-ph/0104213', 'astro-ph/0102334', 'astro-ph/0104037', 'astro-ph/0104227', 'astro-ph/0101374', 'astro-ph/0103516', 'astro-ph/0103465', 'astro-ph/0104007', 'astro-ph/0102456']
[01:10:17] select | verify strict 1/20
[01:10:17] verify | func= Motivation | rank= 0 | pid= astro-ph/0101548 | title_snip='Observations of the interstellar medium in the Magellanic Bridge' | abs_len= 1322
[01:10:20] verify | result supports= False fit= 0.00 top= 0.90 invalid= missing_core_in_quote cue_hint= False
[01:10:20] select | verify strict 2/20
[01:10:20] verify | func= Motivation | rank= 3 | pid= astro-ph/0103521 | title_snip='Molecular Excitation and Differential Gas-Phase Depletions in the IC
 ‚Ä¶' | abs_len= 971
[01:10:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:23] select | verify strict 3/20
[01:10:23] verify | func= Motivation | rank= 15 | pid= astro-ph/0103085 | title_snip='The Anisotropy of the Ultra-High Energy Cosmic Rays' | abs_len= 1744
[01:10:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:26] select | verify strict 4/20
[01:10:26] verify | func= Motivation | rank= 5 | pid= astro-ph/0103256 | title_snip='Cosmological Evolution of Supergiant Star-Forming Clouds' | abs_len= 1393
[01:10:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:28] select | verify strict 5/20
[01:10:28] verify | func= Motivation | rank= 7 | pid= astro-ph/0104069 | title_snip='The Equilibrium Structure of Cosmological Halos' | abs_len= 1238
[01:10:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:31] select | verify strict 6/20
[01:10:31] verify | func= Motivation | rank= 9 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[01:10:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:34] select | verify strict 7/20
[01:10:34] verify | func= Motivation | rank= 13 | pid= astro-ph/0102266 | title_snip='Cosmic Rays in the Energy Range of the Knee - Recent Results from
  KA‚Ä¶' | abs_len= 786
[01:10:36] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:36] select | verify strict 8/20
[01:10:36] verify | func= Motivation | rank= 16 | pid= astro-ph/0101271 | title_snip='The X-ray Emission in Post-Merger Ellipticals' | abs_len= 909
[01:10:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:39] select | verify strict 9/20
[01:10:39] verify | func= Motivation | rank= 1 | pid= astro-ph/0104139 | title_snip='Observational tests of the delta_c-M_vir relation in hierarchical
  cl‚Ä¶' | abs_len= 995
[01:10:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:41] select | verify strict 10/20
[01:10:41] verify | func= Motivation | rank= 2 | pid= astro-ph/0102134 | title_snip='Abundance Gradients and the Formation of the Milky Way' | abs_len= 1723
[01:10:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:44] select | verify strict 11/20
[01:10:44] verify | func= Motivation | rank= 4 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clou‚Ä¶' | abs_len= 1323
[01:10:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:46] select | verify strict 12/20
[01:10:46] verify | func= Motivation | rank= 6 | pid= astro-ph/0104213 | title_snip='Large Scale Diffuse X-ray Emission from the Large Magellanic Cloud' | abs_len= 1071
[01:10:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:49] select | verify strict 13/20
[01:10:49] verify | func= Motivation | rank= 8 | pid= astro-ph/0102334 | title_snip='Global Probes of the Impact of Baryons on Dark Matter Halos' | abs_len= 1068
[01:10:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:51] select | verify strict 14/20
[01:10:51] verify | func= Motivation | rank= 10 | pid= astro-ph/0104037 | title_snip='Faint End of the Galaxy Luminosity Function: A Chronometer for Structu‚Ä¶' | abs_len= 1418
[01:10:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:54] select | verify strict 15/20
[01:10:54] verify | func= Motivation | rank= 11 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 ‚Ä¶' | abs_len= 1656
[01:10:56] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:56] select | verify strict 16/20
[01:10:56] verify | func= Motivation | rank= 12 | pid= astro-ph/0101374 | title_snip='Lithium and mass loss in massive AGB stars in the Large Magellanic
  C‚Ä¶' | abs_len= 588
[01:10:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:10:59] select | verify strict 17/20
[01:10:59] verify | func= Motivation | rank= 14 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[01:11:01] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:01] select | verify strict 18/20
[01:11:01] verify | func= Motivation | rank= 17 | pid= astro-ph/0103465 | title_snip='Weak-Lensing Halo Numbers and Dark-Matter Profiles' | abs_len= 1081
[01:11:04] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:04] select | verify strict 19/20
[01:11:04] verify | func= Motivation | rank= 18 | pid= astro-ph/0104007 | title_snip='The Evolution of Dark-Matter Dominated Cosmological Halos' | abs_len= 863
[01:11:06] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:06] select | verify strict 20/20
[01:11:06] verify | func= Motivation | rank= 19 | pid= astro-ph/0102456 | title_snip='The Rest Frame Optical Spectra of Lyman Break Galaxies: Star Formation‚Ä¶' | abs_len= 1726
[01:11:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:09] select | strict pass found 0 winners ‚Üí trying relaxed
[01:11:09] select | verify relaxed 1/20
[01:11:09] verify | func= Motivation | rank= 0 | pid= astro-ph/0101548 | title_snip='Observations of the interstellar medium in the Magellanic Bridge' | abs_len= 1322
[01:11:12] verify | result supports= True fit= 0.80 top= 0.90 invalid= ‚Äî cue_hint= False
[01:11:12] select | verify relaxed 2/20
[01:11:12] verify | func= Motivation | rank= 3 | pid= astro-ph/0103521 | title_snip='Molecular Excitation and Differential Gas-Phase Depletions in the IC
 ‚Ä¶' | abs_len= 971
[01:11:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:15] select | verify relaxed 3/20
[01:11:15] verify | func= Motivation | rank= 15 | pid= astro-ph/0103085 | title_snip='The Anisotropy of the Ultra-High Energy Cosmic Rays' | abs_len= 1744
[01:11:18] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:18] select | verify relaxed 4/20
[01:11:18] verify | func= Motivation | rank= 5 | pid= astro-ph/0103256 | title_snip='Cosmological Evolution of Supergiant Star-Forming Clouds' | abs_len= 1393
[01:11:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:20] select | verify relaxed 5/20
[01:11:20] verify | func= Motivation | rank= 7 | pid= astro-ph/0104069 | title_snip='The Equilibrium Structure of Cosmological Halos' | abs_len= 1238
[01:11:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:23] select | verify relaxed 6/20
[01:11:23] verify | func= Motivation | rank= 9 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[01:11:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:25] select | verify relaxed 7/20
[01:11:25] verify | func= Motivation | rank= 13 | pid= astro-ph/0102266 | title_snip='Cosmic Rays in the Energy Range of the Knee - Recent Results from
  KA‚Ä¶' | abs_len= 786
[01:11:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:28] select | verify relaxed 8/20
[01:11:28] verify | func= Motivation | rank= 16 | pid= astro-ph/0101271 | title_snip='The X-ray Emission in Post-Merger Ellipticals' | abs_len= 909
[01:11:30] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:30] select | verify relaxed 9/20
[01:11:30] verify | func= Motivation | rank= 1 | pid= astro-ph/0104139 | title_snip='Observational tests of the delta_c-M_vir relation in hierarchical
  cl‚Ä¶' | abs_len= 995
[01:11:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:33] select | verify relaxed 10/20
[01:11:33] verify | func= Motivation | rank= 2 | pid= astro-ph/0102134 | title_snip='Abundance Gradients and the Formation of the Milky Way' | abs_len= 1723
[01:11:35] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:35] select | verify relaxed 11/20
[01:11:35] verify | func= Motivation | rank= 4 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clou‚Ä¶' | abs_len= 1323
[01:11:38] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[01:11:38] select | verify relaxed 12/20
[01:11:38] verify | func= Motivation | rank= 6 | pid= astro-ph/0104213 | title_snip='Large Scale Diffuse X-ray Emission from the Large Magellanic Cloud' | abs_len= 1071
[01:11:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:41] select | verify relaxed 13/20
[01:11:41] verify | func= Motivation | rank= 8 | pid= astro-ph/0102334 | title_snip='Global Probes of the Impact of Baryons on Dark Matter Halos' | abs_len= 1068
[01:11:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:43] select | verify relaxed 14/20
[01:11:43] verify | func= Motivation | rank= 10 | pid= astro-ph/0104037 | title_snip='Faint End of the Galaxy Luminosity Function: A Chronometer for Structu‚Ä¶' | abs_len= 1418
[01:11:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:46] select | verify relaxed 15/20
[01:11:46] verify | func= Motivation | rank= 11 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 ‚Ä¶' | abs_len= 1656
[01:11:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:48] select | verify relaxed 16/20
[01:11:48] verify | func= Motivation | rank= 12 | pid= astro-ph/0101374 | title_snip='Lithium and mass loss in massive AGB stars in the Large Magellanic
  C‚Ä¶' | abs_len= 588
[01:11:51] verify | result supports= False fit= 0.00 top= 0.20 invalid= ‚Äî cue_hint= False
[01:11:51] select | verify relaxed 17/20
[01:11:51] verify | func= Motivation | rank= 14 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[01:11:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:54] select | verify relaxed 18/20
[01:11:54] verify | func= Motivation | rank= 17 | pid= astro-ph/0103465 | title_snip='Weak-Lensing Halo Numbers and Dark-Matter Profiles' | abs_len= 1081
[01:11:56] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:56] select | verify relaxed 19/20
[01:11:56] verify | func= Motivation | rank= 18 | pid= astro-ph/0104007 | title_snip='The Evolution of Dark-Matter Dominated Cosmological Halos' | abs_len= 863
[01:11:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:11:59] select | verify relaxed 20/20
[01:11:59] verify | func= Motivation | rank= 19 | pid= astro-ph/0102456 | title_snip='The Rest Frame Optical Spectra of Lyman Break Galaxies: Star Formation‚Ä¶' | abs_len= 1726
[01:12:02] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : What motivates the study of gas-phase abundances in the Magellanic Bridge and how does it compare to Galactic halo clouds?
- WINNER: astro-ph/0101548 | Observations of the interstellar medium in the Magellanic Bridge
- QUOTE : despite a significantly lower metallicity in the Magellanic Bridge
- WHY   : sufficient
- ANSWER: The study of gas-phase abundances in the Magellanic Bridge is motivated by its significantly lower metallicity compared to Galactic halo clouds, despite showing similar relative gas-phase abundances. This discrepancy highlights the need to understand the interstellar medium in the Magellanic Bridge and its comparison to Galactic halo clouds (astro-ph/0101548).
[01:12:07] main | running function= Compares
[01:12:07] select | function= Compares | candidates_in= 20
[01:12:07] select | core_terms= ['Magellanic Bridge', 'Galactic halo', 'gas-phase abundances', 'gas-phase']
[01:12:07] select | no cosine prune; kept=20/20
[01:12:07] select | pool_size= 20 | ranks= [0, 3, 15, 2, 6, 7, 8, 9, 10, 11, 19, 1, 4, 5, 12, 13, 14, 16, 17, 18] | pids= ['astro-ph/0101548', 'astro-ph/0103521', 'astro-ph/0103085', 'astro-ph/0102134', 'astro-ph/0104213', 'astro-ph/0104069', 'astro-ph/0102334', 'astro-ph/0102010', 'astro-ph/0104037', 'astro-ph/0104227', 'astro-ph/0102456', 'astro-ph/0104139', 'astro-ph/0103518', 'astro-ph/0103256', 'astro-ph/0101374', 'astro-ph/0102266', 'astro-ph/0103516', 'astro-ph/0101271', 'astro-ph/0103465', 'astro-ph/0104007']
[01:12:07] select | verify strict 1/20
[01:12:07] verify | func= Compares | rank= 0 | pid= astro-ph/0101548 | title_snip='Observations of the interstellar medium in the Magellanic Bridge' | abs_len= 1322
[01:12:10] verify | result supports= True fit= 0.80 top= 0.90 invalid= ‚Äî cue_hint= False
[01:12:10] select | verify strict 2/20
[01:12:10] verify | func= Compares | rank= 3 | pid= astro-ph/0103521 | title_snip='Molecular Excitation and Differential Gas-Phase Depletions in the IC
 ‚Ä¶' | abs_len= 971
[01:12:13] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:13] select | verify strict 3/20
[01:12:13] verify | func= Compares | rank= 15 | pid= astro-ph/0103085 | title_snip='The Anisotropy of the Ultra-High Energy Cosmic Rays' | abs_len= 1744
[01:12:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:15] select | verify strict 4/20
[01:12:15] verify | func= Compares | rank= 2 | pid= astro-ph/0102134 | title_snip='Abundance Gradients and the Formation of the Milky Way' | abs_len= 1723
[01:12:18] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:18] select | verify strict 5/20
[01:12:18] verify | func= Compares | rank= 6 | pid= astro-ph/0104213 | title_snip='Large Scale Diffuse X-ray Emission from the Large Magellanic Cloud' | abs_len= 1071
[01:12:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:20] select | verify strict 6/20
[01:12:20] verify | func= Compares | rank= 7 | pid= astro-ph/0104069 | title_snip='The Equilibrium Structure of Cosmological Halos' | abs_len= 1238
[01:12:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:23] select | verify strict 7/20
[01:12:23] verify | func= Compares | rank= 8 | pid= astro-ph/0102334 | title_snip='Global Probes of the Impact of Baryons on Dark Matter Halos' | abs_len= 1068
[01:12:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:25] select | verify strict 8/20
[01:12:25] verify | func= Compares | rank= 9 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[01:12:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:28] select | verify strict 9/20
[01:12:28] verify | func= Compares | rank= 10 | pid= astro-ph/0104037 | title_snip='Faint End of the Galaxy Luminosity Function: A Chronometer for Structu‚Ä¶' | abs_len= 1418
[01:12:30] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:30] select | verify strict 10/20
[01:12:30] verify | func= Compares | rank= 11 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 ‚Ä¶' | abs_len= 1656
[01:12:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:33] select | verify strict 11/20
[01:12:33] verify | func= Compares | rank= 19 | pid= astro-ph/0102456 | title_snip='The Rest Frame Optical Spectra of Lyman Break Galaxies: Star Formation‚Ä¶' | abs_len= 1726
[01:12:35] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:35] select | verify strict 12/20
[01:12:35] verify | func= Compares | rank= 1 | pid= astro-ph/0104139 | title_snip='Observational tests of the delta_c-M_vir relation in hierarchical
  cl‚Ä¶' | abs_len= 995
[01:12:38] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:38] select | verify strict 13/20
[01:12:38] verify | func= Compares | rank= 4 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clou‚Ä¶' | abs_len= 1323
[01:12:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:40] select | verify strict 14/20
[01:12:40] verify | func= Compares | rank= 5 | pid= astro-ph/0103256 | title_snip='Cosmological Evolution of Supergiant Star-Forming Clouds' | abs_len= 1393
[01:12:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:43] select | verify strict 15/20
[01:12:43] verify | func= Compares | rank= 12 | pid= astro-ph/0101374 | title_snip='Lithium and mass loss in massive AGB stars in the Large Magellanic
  C‚Ä¶' | abs_len= 588
[01:12:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:46] select | verify strict 16/20
[01:12:46] verify | func= Compares | rank= 13 | pid= astro-ph/0102266 | title_snip='Cosmic Rays in the Energy Range of the Knee - Recent Results from
  KA‚Ä¶' | abs_len= 786
[01:12:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:48] select | verify strict 17/20
[01:12:48] verify | func= Compares | rank= 14 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[01:12:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:50] select | verify strict 18/20
[01:12:50] verify | func= Compares | rank= 16 | pid= astro-ph/0101271 | title_snip='The X-ray Emission in Post-Merger Ellipticals' | abs_len= 909
[01:12:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:53] select | verify strict 19/20
[01:12:53] verify | func= Compares | rank= 17 | pid= astro-ph/0103465 | title_snip='Weak-Lensing Halo Numbers and Dark-Matter Profiles' | abs_len= 1081
[01:12:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:12:55] select | verify strict 20/20
[01:12:55] verify | func= Compares | rank= 18 | pid= astro-ph/0104007 | title_snip='The Evolution of Dark-Matter Dominated Cosmological Halos' | abs_len= 863
[01:12:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : What motivates the study of gas-phase abundances in the Magellanic Bridge and how does it compare to Galactic halo clouds?
- WINNER: astro-ph/0101548 | Observations of the interstellar medium in the Magellanic Bridge
- QUOTE : similar to those found in Galactic halo clouds
- WHY   : sufficient
- ANSWER: The study of gas-phase abundances in the Magellanic Bridge is compared to Galactic halo clouds, with similarities found in relative abundances of certain elements despite lower metallicity in the Magellanic Bridge. The comparison is based on the relative gas-phase abundances of elements such as C II, N I, and O I with respect to S II (astro-ph/0101548).

üìÑ Saved: outputs/function_selection_results.json
üìÑ Saved: outputs/function_selection_results.jsonl
üìù Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
‚úÖ Saved to classified_outputs.jsonl
üîß Ready for retrieval module (handled in a separate file).
-> jupyter nbconvert --to script /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.ipynb  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
ü©π Hardened exported script: Retreival_query_based.py
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
‚úÖ Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
üîó Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
üß© Patched final-stage script written to: function_based_final_patched.py
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_final_patched.py --debug --max-check 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

üéâ Pipeline complete.
  ‚Ä¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  ‚Ä¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  ‚Ä¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
