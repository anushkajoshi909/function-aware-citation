âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openGPT-X/Teuken-7B-instruct-research-v0.4

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Motivation"
  ],
  "justification": "The query seeks to understand potential areas of future research motivated by the experimental challenges and physics implications of measuring muon polarization in kaon decay processes. It introduces the background and highlights the motivation for further study."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[11:48:54] main | args: Namespace(max_check=10, debug=True)
[11:48:54] read_last_jsonl | path= classified_outputs.jsonl
[11:48:54] read_last_jsonl | total_lines= 1
[11:48:54] main | query='What potential areas of future research are motivated by the experimental challenges and physics implications of measuring muon polarization in kaon decay processes?' | funcs=['Background', 'Motivation']
[11:48:56] main | core_terms= ['kaon', 'muon', 'polarization', 'decay process']
[11:48:56] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[11:48:56] load_topk_jsonl | rows= 20
[11:48:56] load_topk_jsonl | first: rank= 0 paper_id= hep-ex/0101003 title_snip='Tests of the Standard Model Using Muon Polarization Asymmetries in Kaoâ€¦' abs_len= 1318
[11:48:56] main | running function= Background
[11:48:56] select | function= Background | candidates_in= 20
[11:48:56] select | core_terms= ['kaon', 'muon', 'polarization', 'decay process']
[11:48:56] select | no cosine prune; kept=20/20
[11:48:56] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ex/0101003', 'hep-ex/0103007', 'hep-ph/0104304', 'hep-ph/0103064', 'hep-ph/0103288', 'hep-ph/0102085', 'hep-ph/0101122', 'hep-ex/0101017', 'hep-ph/0103039', 'hep-ph/0102147']
[11:48:56] select | verify relaxed 1/10
[11:48:56] verify | func= Background | rank= 0 | pid= hep-ex/0101003 | title_snip='Tests of the Standard Model Using Muon Polarization Asymmetries in Kaoâ€¦' | abs_len= 1318
[11:49:00] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:49:00] select | verify relaxed 2/10
[11:49:00] verify | func= Background | rank= 1 | pid= hep-ex/0103007 | title_snip='Search for T-violation in K^+ --> pi^0 mu^+ nu and K^+ --> mu^+ nu gamâ€¦' | abs_len= 253
[11:49:03] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False
[11:49:03] select | verify relaxed 3/10
[11:49:03] verify | func= Background | rank= 2 | pid= hep-ph/0104304 | title_snip='Hadronic Contributions to the Photon Vacuum Polarization and their Rolâ€¦' | abs_len= 440
[11:49:06] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:06] select | verify relaxed 4/10
[11:49:06] verify | func= Background | rank= 3 | pid= hep-ph/0103064 | title_snip='Implications of the muon anomalous magnetic moment and Higgs-mediated
â€¦' | abs_len= 610
[11:49:10] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:10] select | verify relaxed 5/10
[11:49:10] verify | func= Background | rank= 4 | pid= hep-ph/0103288 | title_snip='Astroparticle Aspects of Supersymmetry' | abs_len= 702
[11:49:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:12] select | verify relaxed 6/10
[11:49:12] verify | func= Background | rank= 5 | pid= hep-ph/0102085 | title_snip='Physics Implications of Precision Electroweak Experiments' | abs_len= 194
[11:49:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:15] select | verify relaxed 7/10
[11:49:15] verify | func= Background | rank= 6 | pid= hep-ph/0101122 | title_snip='Theoretical Overview: Motivations for Lepton Flavor Violation' | abs_len= 450
[11:49:18] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:18] select | verify relaxed 8/10
[11:49:18] verify | func= Background | rank= 7 | pid= hep-ex/0101017 | title_snip='The MECO experiment: A search for lepton flavor violation in muonic
  â€¦' | abs_len= 524
[11:49:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:21] select | verify relaxed 9/10
[11:49:21] verify | func= Background | rank= 8 | pid= hep-ph/0103039 | title_snip='New physics effects to the lepton polarizations in the B -> K l^+ l^-
â€¦' | abs_len= 749
[11:49:25] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:49:25] select | verify relaxed 10/10
[11:49:25] verify | func= Background | rank= 9 | pid= hep-ph/0102147 | title_snip='Implications of muon anomalous magnetic moment for supersymmetric darkâ€¦' | abs_len= 704
[11:49:27] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : What potential areas of future research are motivated by the experimental challenges and physics implications of measuring muon polarization in kaon decay processes?
- WINNER: hep-ex/0101003 | Tests of the Standard Model Using Muon Polarization Asymmetries in Kaon
  Decays
- QUOTE : We have examined the physics and the experimental feasibility
- WHY   : sufficient
[11:49:29] main | running function= Motivation
[11:49:29] select | function= Motivation | candidates_in= 20
[11:49:29] select | core_terms= ['kaon', 'muon', 'polarization', 'decay process']
[11:49:29] select | no cosine prune; kept=20/20
[11:49:29] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ex/0101003', 'hep-ex/0103007', 'hep-ph/0104304', 'hep-ph/0103064', 'hep-ph/0103288', 'hep-ph/0102085', 'hep-ph/0101122', 'hep-ex/0101017', 'hep-ph/0103039', 'hep-ph/0102147']
[11:49:29] select | verify relaxed 1/10
[11:49:29] verify | func= Motivation | rank= 0 | pid= hep-ex/0101003 | title_snip='Tests of the Standard Model Using Muon Polarization Asymmetries in Kaoâ€¦' | abs_len= 1318
[11:49:32] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:49:32] select | verify relaxed 2/10
[11:49:32] verify | func= Motivation | rank= 1 | pid= hep-ex/0103007 | title_snip='Search for T-violation in K^+ --> pi^0 mu^+ nu and K^+ --> mu^+ nu gamâ€¦' | abs_len= 253
[11:49:36] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[11:49:36] select | verify relaxed 3/10
[11:49:36] verify | func= Motivation | rank= 2 | pid= hep-ph/0104304 | title_snip='Hadronic Contributions to the Photon Vacuum Polarization and their Rolâ€¦' | abs_len= 440
[11:49:39] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:39] select | verify relaxed 4/10
[11:49:39] verify | func= Motivation | rank= 3 | pid= hep-ph/0103064 | title_snip='Implications of the muon anomalous magnetic moment and Higgs-mediated
â€¦' | abs_len= 610
[11:49:43] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:43] select | verify relaxed 5/10
[11:49:43] verify | func= Motivation | rank= 4 | pid= hep-ph/0103288 | title_snip='Astroparticle Aspects of Supersymmetry' | abs_len= 702
[11:49:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:45] select | verify relaxed 6/10
[11:49:45] verify | func= Motivation | rank= 5 | pid= hep-ph/0102085 | title_snip='Physics Implications of Precision Electroweak Experiments' | abs_len= 194
[11:49:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:48] select | verify relaxed 7/10
[11:49:48] verify | func= Motivation | rank= 6 | pid= hep-ph/0101122 | title_snip='Theoretical Overview: Motivations for Lepton Flavor Violation' | abs_len= 450
[11:49:51] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[11:49:51] select | verify relaxed 8/10
[11:49:51] verify | func= Motivation | rank= 7 | pid= hep-ex/0101017 | title_snip='The MECO experiment: A search for lepton flavor violation in muonic
  â€¦' | abs_len= 524
[11:49:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[11:49:54] select | verify relaxed 9/10
[11:49:54] verify | func= Motivation | rank= 8 | pid= hep-ph/0103039 | title_snip='New physics effects to the lepton polarizations in the B -> K l^+ l^-
â€¦' | abs_len= 749
[11:49:58] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[11:49:58] select | verify relaxed 10/10
[11:49:58] verify | func= Motivation | rank= 9 | pid= hep-ph/0102147 | title_snip='Implications of muon anomalous magnetic moment for supersymmetric darkâ€¦' | abs_len= 704
[11:50:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : What potential areas of future research are motivated by the experimental challenges and physics implications of measuring muon polarization in kaon decay processes?
- WINNER: hep-ex/0101003 | Tests of the Standard Model Using Muon Polarization Asymmetries in Kaon
  Decays
- QUOTE : New sources of physics, involving non-standard CP violation, could produce effects observable in these measurements
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
Measuring muon polarization in kaon decay processes provides valuable information on CP violation, the quark mixing matrix, and new physics [Background] (hep-ex/0101003). The potential to probe new physics and obtain clean measurements of CKM parameters motivates future research in this area, particularly in studying muon polarization out of the decay plane in KMU3 and radiative KMU2 decays [Motivation] (hep-ex/0101003).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
