âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openGPT-X/Teuken-7B-instruct-research-v0.4

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Motivation"
  ],
  "justification": "The query seeks to understand how the current work builds on previous research to motivate the development of a new approximate method for studying three flavor neutrino oscillations in matter. The citation functions of 'Background' and 'Motivation' are relevant to this inquiry, as they address the foundational knowledge and drivers behind the research."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[15:14:55] main | args: Namespace(max_check=10, debug=True)
[15:14:55] read_last_jsonl | path= classified_outputs.jsonl
[15:14:55] read_last_jsonl | total_lines= 1
[15:14:55] main | query='How does the current work use previous research to motivate the development of a new approximate method for studying three flavor neutrino oscillations in matter?' | funcs=['Background', 'Motivation']
[15:14:57] main | core_terms= ['neutrino', 'neutrino oscillations', 'three flavor']
[15:14:57] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[15:14:57] load_topk_jsonl | rows= 20
[15:14:57] load_topk_jsonl | first: rank= 0 paper_id= hep-ph/0104043 title_snip='Decoupled oscillations and resonances of three neutrinos in matter' abs_len= 1026
[15:14:57] main | running function= Background
[15:14:57] select | function= Background | candidates_in= 20
[15:14:57] select | core_terms= ['neutrino', 'neutrino oscillations', 'three flavor']
[15:14:57] select | no cosine prune; kept=20/20
[15:14:57] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ph/0104043', 'hep-ph/0101231', 'hep-ph/0101244', 'hep-ph/0101122', 'hep-lat/0104001', 'hep-ph/0103252', 'hep-ph/0103300', 'hep-ph/0102063', 'hep-ph/0103123', 'hep-ph/0102103']
[15:14:57] select | verify relaxed 1/10
[15:14:57] verify | func= Background | rank= 0 | pid= hep-ph/0104043 | title_snip='Decoupled oscillations and resonances of three neutrinos in matter' | abs_len= 1026
[15:15:00] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:00] select | verify relaxed 2/10
[15:15:00] verify | func= Background | rank= 1 | pid= hep-ph/0101231 | title_snip='The Three Neutrino Scenario' | abs_len= 645
[15:15:03] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:03] select | verify relaxed 3/10
[15:15:03] verify | func= Background | rank= 2 | pid= hep-ph/0101244 | title_snip='Neutrino Oscillation Workshop 2000: Conference Summary' | abs_len= 609
[15:15:07] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:07] select | verify relaxed 4/10
[15:15:07] verify | func= Background | rank= 3 | pid= hep-ph/0101122 | title_snip='Theoretical Overview: Motivations for Lepton Flavor Violation' | abs_len= 450
[15:15:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:15:09] select | verify relaxed 5/10
[15:15:09] verify | func= Background | rank= 4 | pid= hep-lat/0104001 | title_snip='A new method to study lattice QCD at finite temperature and chemical
 â€¦' | abs_len= 391
[15:15:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:15:12] select | verify relaxed 6/10
[15:15:12] verify | func= Background | rank= 5 | pid= hep-ph/0103252 | title_snip='Neutrino oscillations with three flavors in matter of varying density' | abs_len= 801
[15:15:15] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:15] select | verify relaxed 7/10
[15:15:15] verify | func= Background | rank= 6 | pid= hep-ph/0103300 | title_snip='Analytic Approximations for Three Neutrino Oscillation Parameters and
â€¦' | abs_len= 914
[15:15:19] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:19] select | verify relaxed 8/10
[15:15:19] verify | func= Background | rank= 7 | pid= hep-ph/0102063 | title_snip='Can three-flavor oscillations solve the solar neutrino problem?' | abs_len= 1219
[15:15:23] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:23] select | verify relaxed 9/10
[15:15:23] verify | func= Background | rank= 8 | pid= hep-ph/0103123 | title_snip='Non-singlet structure functions beyond the next-to-next-to leading ordâ€¦' | abs_len= 985
[15:15:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:15:26] select | verify relaxed 10/10
[15:15:26] verify | func= Background | rank= 9 | pid= hep-ph/0102103 | title_snip='Discriminating Neutrino See-Saw Models' | abs_len= 832
[15:15:29] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How does the current work use previous research to motivate the development of a new approximate method for studying three flavor neutrino oscillations in matter?
- WINNER: hep-ph/0104043 | Decoupled oscillations and resonances of three neutrinos in matter
- QUOTE : three flavor neutrino oscillations in matter
- WHY   : sufficient
[15:15:30] main | running function= Motivation
[15:15:30] select | function= Motivation | candidates_in= 20
[15:15:30] select | core_terms= ['neutrino', 'neutrino oscillations', 'three flavor']
[15:15:30] select | no cosine prune; kept=20/20
[15:15:30] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ph/0104043', 'hep-ph/0101231', 'hep-ph/0101244', 'hep-ph/0101122', 'hep-lat/0104001', 'hep-ph/0103252', 'hep-ph/0103300', 'hep-ph/0102063', 'hep-ph/0103123', 'hep-ph/0102103']
[15:15:30] select | verify relaxed 1/10
[15:15:30] verify | func= Motivation | rank= 0 | pid= hep-ph/0104043 | title_snip='Decoupled oscillations and resonances of three neutrinos in matter' | abs_len= 1026
[15:15:34] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:34] select | verify relaxed 2/10
[15:15:34] verify | func= Motivation | rank= 1 | pid= hep-ph/0101231 | title_snip='The Three Neutrino Scenario' | abs_len= 645
[15:15:37] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:37] select | verify relaxed 3/10
[15:15:37] verify | func= Motivation | rank= 2 | pid= hep-ph/0101244 | title_snip='Neutrino Oscillation Workshop 2000: Conference Summary' | abs_len= 609
[15:15:41] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:41] select | verify relaxed 4/10
[15:15:41] verify | func= Motivation | rank= 3 | pid= hep-ph/0101122 | title_snip='Theoretical Overview: Motivations for Lepton Flavor Violation' | abs_len= 450
[15:15:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:15:44] select | verify relaxed 5/10
[15:15:44] verify | func= Motivation | rank= 4 | pid= hep-lat/0104001 | title_snip='A new method to study lattice QCD at finite temperature and chemical
 â€¦' | abs_len= 391
[15:15:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:15:46] select | verify relaxed 6/10
[15:15:46] verify | func= Motivation | rank= 5 | pid= hep-ph/0103252 | title_snip='Neutrino oscillations with three flavors in matter of varying density' | abs_len= 801
[15:15:50] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:50] select | verify relaxed 7/10
[15:15:50] verify | func= Motivation | rank= 6 | pid= hep-ph/0103300 | title_snip='Analytic Approximations for Three Neutrino Oscillation Parameters and
â€¦' | abs_len= 914
[15:15:53] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:53] select | verify relaxed 8/10
[15:15:53] verify | func= Motivation | rank= 7 | pid= hep-ph/0102063 | title_snip='Can three-flavor oscillations solve the solar neutrino problem?' | abs_len= 1219
[15:15:56] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[15:15:56] select | verify relaxed 9/10
[15:15:56] verify | func= Motivation | rank= 8 | pid= hep-ph/0103123 | title_snip='Non-singlet structure functions beyond the next-to-next-to leading ordâ€¦' | abs_len= 985
[15:15:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[15:15:59] select | verify relaxed 10/10
[15:15:59] verify | func= Motivation | rank= 9 | pid= hep-ph/0102103 | title_snip='Discriminating Neutrino See-Saw Models' | abs_len= 832
[15:16:02] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the current work use previous research to motivate the development of a new approximate method for studying three flavor neutrino oscillations in matter?
- WINNER: hep-ph/0104043 | Decoupled oscillations and resonances of three neutrinos in matter
- QUOTE : In a previous paper, we gave a new theoretical framework
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The current work builds upon previous research, including a new theoretical framework for three neutrino mixing in matter [Background] (hep-ph/0104043), and is motivated by the need for a more accurate and efficient method to study three flavor neutrino oscillations in matter, driven by the complexities and characteristics unique to three flavor oscillations [Motivation] (hep-ph/0104043).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
