âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openGPT-X/Teuken-7B-instruct-research-v0.4

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Motivation"
  ],
  "justification": "The query seeks to understand how the background of cosmology, specifically the concept of homogeneity, informs its understanding of galaxy distribution. This aligns with the citation functions of 'Background' and 'Motivation', which both relate to the foundational knowledge and drivers behind the research."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[13:43:36] main | args: Namespace(max_check=10, debug=True)
[13:43:36] read_last_jsonl | path= classified_outputs.jsonl
[13:43:36] read_last_jsonl | total_lines= 1
[13:43:36] main | query='How does the background of cosmology, specifically the concept of homogeneity, use previous results to inform its understanding of galaxy distribution?' | funcs=['Background', 'Motivation']
[13:43:38] main | core_terms= ['galaxy', 'homogeneity', 'cosmology']
[13:43:38] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[13:43:38] load_topk_jsonl | rows= 20
[13:43:38] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101143 title_snip='On the trispectrum as a gaussian test for cosmology' abs_len= 1444
[13:43:38] main | running function= Background
[13:43:38] select | function= Background | candidates_in= 20
[13:43:38] select | core_terms= ['galaxy', 'homogeneity', 'cosmology']
[13:43:38] select | no cosine prune; kept=20/20
[13:43:38] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101143', 'hep-th/0102187', 'astro-ph/0104181', 'astro-ph/0104370', 'astro-ph/0101191', 'astro-ph/0101296', 'astro-ph/0102320', 'astro-ph/0103017', 'astro-ph/0101084', 'astro-ph/0102062']
[13:43:38] select | verify relaxed 1/10
[13:43:38] verify | func= Background | rank= 0 | pid= astro-ph/0101143 | title_snip='On the trispectrum as a gaussian test for cosmology' | abs_len= 1444
[13:43:41] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:43:41] select | verify relaxed 2/10
[13:43:41] verify | func= Background | rank= 1 | pid= hep-th/0102187 | title_snip='Anisotropic Born-Infeld Cosmologies' | abs_len= 731
[13:43:44] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[13:43:44] select | verify relaxed 3/10
[13:43:44] verify | func= Background | rank= 2 | pid= astro-ph/0104181 | title_snip='The Apparent Fractal Conjecture: Scaling Features in Standard
  Cosmolâ€¦' | abs_len= 1809
[13:43:47] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:43:47] select | verify relaxed 4/10
[13:43:47] verify | func= Background | rank= 3 | pid= astro-ph/0104370 | title_snip='From Fractal Cosmography to Fractal Cosmology' | abs_len= 728
[13:43:50] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:43:50] select | verify relaxed 5/10
[13:43:50] verify | func= Background | rank= 4 | pid= astro-ph/0101191 | title_snip='How to Avoid the Ambiguity in Applying the Copernican Principle for
  â€¦' | abs_len= 654
[13:43:53] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:43:53] select | verify relaxed 6/10
[13:43:53] verify | func= Background | rank= 5 | pid= astro-ph/0101296 | title_snip='Evolution of galaxies due to self-excitation' | abs_len= 1269
[13:43:56] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[13:43:56] select | verify relaxed 7/10
[13:43:56] verify | func= Background | rank= 6 | pid= astro-ph/0102320 | title_snip='Complexity in Cosmology' | abs_len= 923
[13:43:59] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:43:59] select | verify relaxed 8/10
[13:43:59] verify | func= Background | rank= 7 | pid= astro-ph/0103017 | title_snip='Large-Scale Structure, Theory and Statistics' | abs_len= 1145
[13:44:02] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:44:02] select | verify relaxed 9/10
[13:44:02] verify | func= Background | rank= 8 | pid= astro-ph/0101084 | title_snip='Global Evolution Models and the Extragalactic Background Light' | abs_len= 709
[13:44:05] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[13:44:05] select | verify relaxed 10/10
[13:44:05] verify | func= Background | rank= 9 | pid= astro-ph/0102062 | title_snip='Clustering in the Universe: from Highly Nonlinear Structures to
  Homoâ€¦' | abs_len= 1018
[13:44:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How does the background of cosmology, specifically the concept of homogeneity, use previous results to inform its understanding of galaxy distribution?
- WINNER: astro-ph/0101143 | On the trispectrum as a gaussian test for cosmology
- QUOTE : In the standard model for structure formation
- WHY   : sufficient
[13:44:10] main | running function= Motivation
[13:44:10] select | function= Motivation | candidates_in= 20
[13:44:10] select | core_terms= ['galaxy', 'homogeneity', 'cosmology']
[13:44:10] select | no cosine prune; kept=20/20
[13:44:10] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101143', 'hep-th/0102187', 'astro-ph/0104181', 'astro-ph/0104370', 'astro-ph/0101191', 'astro-ph/0101296', 'astro-ph/0102320', 'astro-ph/0103017', 'astro-ph/0101084', 'astro-ph/0102062']
[13:44:10] select | verify relaxed 1/10
[13:44:10] verify | func= Motivation | rank= 0 | pid= astro-ph/0101143 | title_snip='On the trispectrum as a gaussian test for cosmology' | abs_len= 1444
[13:44:13] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[13:44:13] select | verify relaxed 2/10
[13:44:13] verify | func= Motivation | rank= 1 | pid= hep-th/0102187 | title_snip='Anisotropic Born-Infeld Cosmologies' | abs_len= 731
[13:44:16] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[13:44:16] select | verify relaxed 3/10
[13:44:16] verify | func= Motivation | rank= 2 | pid= astro-ph/0104181 | title_snip='The Apparent Fractal Conjecture: Scaling Features in Standard
  Cosmolâ€¦' | abs_len= 1809
[13:44:19] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:44:19] select | verify relaxed 4/10
[13:44:19] verify | func= Motivation | rank= 3 | pid= astro-ph/0104370 | title_snip='From Fractal Cosmography to Fractal Cosmology' | abs_len= 728
[13:44:23] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:44:23] select | verify relaxed 5/10
[13:44:23] verify | func= Motivation | rank= 4 | pid= astro-ph/0101191 | title_snip='How to Avoid the Ambiguity in Applying the Copernican Principle for
  â€¦' | abs_len= 654
[13:44:26] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:44:26] select | verify relaxed 6/10
[13:44:26] verify | func= Motivation | rank= 5 | pid= astro-ph/0101296 | title_snip='Evolution of galaxies due to self-excitation' | abs_len= 1269
[13:44:29] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[13:44:29] select | verify relaxed 7/10
[13:44:29] verify | func= Motivation | rank= 6 | pid= astro-ph/0102320 | title_snip='Complexity in Cosmology' | abs_len= 923
[13:44:32] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:44:32] select | verify relaxed 8/10
[13:44:32] verify | func= Motivation | rank= 7 | pid= astro-ph/0103017 | title_snip='Large-Scale Structure, Theory and Statistics' | abs_len= 1145
[13:44:35] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[13:44:35] select | verify relaxed 9/10
[13:44:35] verify | func= Motivation | rank= 8 | pid= astro-ph/0101084 | title_snip='Global Evolution Models and the Extragalactic Background Light' | abs_len= 709
[13:44:38] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[13:44:38] select | verify relaxed 10/10
[13:44:38] verify | func= Motivation | rank= 9 | pid= astro-ph/0102062 | title_snip='Clustering in the Universe: from Highly Nonlinear Structures to
  Homoâ€¦' | abs_len= 1018
[13:44:41] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the background of cosmology, specifically the concept of homogeneity, use previous results to inform its understanding of galaxy distribution?
- WINNER: astro-ph/0104181 | The Apparent Fractal Conjecture: Scaling Features in Standard
  Cosmologies
- QUOTE : the large-scale distribution of galaxies is homogeneous
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The concept of homogeneity in cosmology is informed by previous results, such as the use of the trispectrum to differentiate between gaussian and non-gaussian models [Background] (astro-ph/0101143), and is motivated by the need to understand the large-scale distribution of galaxies and the possibility that it follows a fractal pattern [Motivation] (astro-ph/0104181). The understanding of galaxy distribution is further complicated by the distinction between local and average relativistic densities, which can display asymptotically opposite behaviors [Motivation] (astro-ph/0104181).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
