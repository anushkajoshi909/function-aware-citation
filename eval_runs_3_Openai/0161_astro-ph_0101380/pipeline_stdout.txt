âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Extends",
    "Compares"
  ],
  "justification": "The query asks how the new model builds on (extends) current theories and how it stacks up (compares) against observed flare behaviors."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[19:06:01] main | args: Namespace(max_check=10, debug=True)
[19:06:01] read_last_jsonl | path= classified_outputs.jsonl
[19:06:01] read_last_jsonl | total_lines= 1
[19:06:01] main | query='How does the proposed model extend existing theories on blazar flares and compare with observed flare behaviors in terms of radiation mechanisms?' | funcs=['Extends', 'Compares']
[19:06:04] main | core_terms= ['blazar', 'flare', 'radiation mechanisms']
[19:06:04] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[19:06:04] load_topk_jsonl | rows= 20
[19:06:04] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101380 title_snip='Modeling Flares Produced in Blazars' abs_len= 1047
[19:06:04] main | running function= Extends
[19:06:04] select | function= Extends | candidates_in= 20
[19:06:04] select | core_terms= ['blazar', 'flare', 'radiation mechanisms']
[19:06:04] select | no cosine prune; kept=20/20
[19:06:04] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101380', 'astro-ph/0102091', 'astro-ph/0101382', 'astro-ph/0102295', 'astro-ph/0103424', 'astro-ph/0102012', 'astro-ph/0101398', 'astro-ph/0103031', 'astro-ph/0103396', 'astro-ph/0101008']
[19:06:04] select | verify relaxed 1/10
[19:06:04] verify | func= Extends | rank= 0 | pid= astro-ph/0101380 | title_snip='Modeling Flares Produced in Blazars' | abs_len= 1047
[19:06:07] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:07] select | verify relaxed 2/10
[19:06:07] verify | func= Extends | rank= 1 | pid= astro-ph/0102091 | title_snip='Modeling the production of flares in $\gamma$-ray quasars' | abs_len= 1551
[19:06:11] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:11] select | verify relaxed 3/10
[19:06:11] verify | func= Extends | rank= 2 | pid= astro-ph/0101382 | title_snip='Blazars' | abs_len= 213
[19:06:15] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:15] select | verify relaxed 4/10
[19:06:15] verify | func= Extends | rank= 3 | pid= astro-ph/0102295 | title_snip='Spectral Energy Distributions of Blazars: Facts and Speculations' | abs_len= 758
[19:06:18] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:18] select | verify relaxed 5/10
[19:06:18] verify | func= Extends | rank= 4 | pid= astro-ph/0103424 | title_snip='Internal shocks in the jets of radio-loud quasars' | abs_len= 1696
[19:06:23] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:23] select | verify relaxed 6/10
[19:06:23] verify | func= Extends | rank= 5 | pid= astro-ph/0102012 | title_snip='Multi-Epoch VLBA Observations of EGRET-Detected Quasars and BL Lac
  Oâ€¦' | abs_len= 1204
[19:06:27] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:27] select | verify relaxed 7/10
[19:06:27] verify | func= Extends | rank= 6 | pid= astro-ph/0101398 | title_snip='Extragalactic radio source evolution & unification: clues to the
  demâ€¦' | abs_len= 563
[19:06:30] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[19:06:30] select | verify relaxed 8/10
[19:06:30] verify | func= Extends | rank= 7 | pid= astro-ph/0103031 | title_snip='The Radio and Gamma-Ray Luminosities of Blazars' | abs_len= 1071
[19:06:34] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[19:06:34] select | verify relaxed 9/10
[19:06:34] verify | func= Extends | rank= 8 | pid= astro-ph/0103396 | title_snip='A New Model for the Thermal X-ray Composites and the Neutral Pion Decaâ€¦' | abs_len= 1165
[19:06:36] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[19:06:36] select | verify relaxed 10/10
[19:06:36] verify | func= Extends | rank= 9 | pid= astro-ph/0101008 | title_snip='Plasmoid-Induced-Reconnection and Fractal Reconnection' | abs_len= 1789
[19:06:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How does the proposed model extend existing theories on blazar flares and compare with observed flare behaviors in terms of radiation mechanisms?
- WINNER: astro-ph/0101380 | Modeling Flares Produced in Blazars
- QUOTE : We model light curves of flares observed in blazars
- WHY   : sufficient
[19:06:41] main | running function= Compares
[19:06:41] select | function= Compares | candidates_in= 20
[19:06:41] select | core_terms= ['blazar', 'flare', 'radiation mechanisms']
[19:06:41] select | no cosine prune; kept=20/20
[19:06:41] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101380', 'astro-ph/0102091', 'astro-ph/0101382', 'astro-ph/0102295', 'astro-ph/0103424', 'astro-ph/0102012', 'astro-ph/0101398', 'astro-ph/0103031', 'astro-ph/0103396', 'astro-ph/0101008']
[19:06:41] select | verify relaxed 1/10
[19:06:41] verify | func= Compares | rank= 0 | pid= astro-ph/0101380 | title_snip='Modeling Flares Produced in Blazars' | abs_len= 1047
[19:06:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[19:06:45] select | verify relaxed 2/10
[19:06:45] verify | func= Compares | rank= 1 | pid= astro-ph/0102091 | title_snip='Modeling the production of flares in $\gamma$-ray quasars' | abs_len= 1551
[19:06:48] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:48] select | verify relaxed 3/10
[19:06:48] verify | func= Compares | rank= 2 | pid= astro-ph/0101382 | title_snip='Blazars' | abs_len= 213
[19:06:52] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:52] select | verify relaxed 4/10
[19:06:52] verify | func= Compares | rank= 3 | pid= astro-ph/0102295 | title_snip='Spectral Energy Distributions of Blazars: Facts and Speculations' | abs_len= 758
[19:06:55] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:55] select | verify relaxed 5/10
[19:06:55] verify | func= Compares | rank= 4 | pid= astro-ph/0103424 | title_snip='Internal shocks in the jets of radio-loud quasars' | abs_len= 1696
[19:06:59] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:06:59] select | verify relaxed 6/10
[19:06:59] verify | func= Compares | rank= 5 | pid= astro-ph/0102012 | title_snip='Multi-Epoch VLBA Observations of EGRET-Detected Quasars and BL Lac
  Oâ€¦' | abs_len= 1204
[19:07:02] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[19:07:02] select | verify relaxed 7/10
[19:07:02] verify | func= Compares | rank= 6 | pid= astro-ph/0101398 | title_snip='Extragalactic radio source evolution & unification: clues to the
  demâ€¦' | abs_len= 563
[19:07:06] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[19:07:06] select | verify relaxed 8/10
[19:07:06] verify | func= Compares | rank= 7 | pid= astro-ph/0103031 | title_snip='The Radio and Gamma-Ray Luminosities of Blazars' | abs_len= 1071
[19:07:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[19:07:09] select | verify relaxed 9/10
[19:07:09] verify | func= Compares | rank= 8 | pid= astro-ph/0103396 | title_snip='A New Model for the Thermal X-ray Composites and the Neutral Pion Decaâ€¦' | abs_len= 1165
[19:07:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[19:07:12] select | verify relaxed 10/10
[19:07:12] verify | func= Compares | rank= 9 | pid= astro-ph/0101008 | title_snip='Plasmoid-Induced-Reconnection and Fractal Reconnection' | abs_len= 1789
[19:07:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[19:07:18] arbiter | rejected off-topic winner: astro-ph/0102091

================================================================================
FUNCTION: Compares
QUERY   : How does the proposed model extend existing theories on blazar flares and compare with observed flare behaviors in terms of radiation mechanisms?
- No supporting candidate with sufficient evidence.

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The proposed model extends existing theories on blazar flares by incorporating additional radiation mechanisms, such as Comptonization of light from the broad emission line region and IR radiation from hot dust [Extends] (astro-ph/0101380). It also compares with observed flare behaviors, supporting the synchrotron-self Compton mechanism for X-ray production in certain objects [Extends] (astro-ph/0101380).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
