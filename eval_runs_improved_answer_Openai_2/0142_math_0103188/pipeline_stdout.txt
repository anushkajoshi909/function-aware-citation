âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "Motivation"
  ],
  "justification": "The query asks how the current work compares with prior studies (comparative) and seeks the reasons driving the investigation (motivational)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[18:40:41] main | args: Namespace(max_check=10, debug=True)
[18:40:41] read_last_jsonl | path= classified_outputs.jsonl
[18:40:41] read_last_jsonl | total_lines= 1
[18:40:41] main | query='How does the current work compare to previous studies in terms of the relationship between ACM and glicci schemes, and what motivates the investigation of this relationship?' | funcs=['Compares', 'Motivation']
[18:40:43] main | core_terms= ['ACM', 'glicci schemes', 'relationship']
[18:40:43] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[18:40:43] load_topk_jsonl | rows= 20
[18:40:43] load_topk_jsonl | first: rank= 0 paper_id= math/0103188 title_snip='Monomial ideals and the Gorenstein liaison class of a complete
  interâ€¦' abs_len= 1057
[18:40:43] main | running function= Compares
[18:40:43] select | function= Compares | candidates_in= 20
[18:40:43] select | core_terms= ['ACM', 'glicci schemes', 'relationship']
[18:40:43] select | no cosine prune; kept=20/20
[18:40:43] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['math/0103188', 'hep-lat/0101019', 'nucl-th/0101058', 'cond-mat/0103424', 'nucl-th/0103002', 'hep-ex/0101009', 'hep-ph/0103299', 'cond-mat/0102536', 'astro-ph/0103503', 'hep-ph/0104290']
[18:40:43] select | verify relaxed 1/10
[18:40:43] verify | func= Compares | rank= 0 | pid= math/0103188 | title_snip='Monomial ideals and the Gorenstein liaison class of a complete
  interâ€¦' | abs_len= 1057
[18:40:47] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[18:40:47] select | verify relaxed 2/10
[18:40:47] verify | func= Compares | rank= 1 | pid= hep-lat/0101019 | title_snip='Comparison Studies of Finite Momentum Correlators on Anisotropic and
 â€¦' | abs_len= 552
[18:40:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:40:49] select | verify relaxed 3/10
[18:40:49] verify | func= Compares | rank= 2 | pid= nucl-th/0101058 | title_snip='Neutron electric dipole moment: Constituent-dressing and compositeness' | abs_len= 648
[18:40:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:40:52] select | verify relaxed 4/10
[18:40:52] verify | func= Compares | rank= 3 | pid= cond-mat/0103424 | title_snip='Antiferromagnetically coupled alternating spin chains' | abs_len= 1080
[18:40:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:40:55] select | verify relaxed 5/10
[18:40:55] verify | func= Compares | rank= 4 | pid= nucl-th/0103002 | title_snip='Tensor Analyzing Power and Current Conservation in the d+p->3He+g
  reâ€¦' | abs_len= 480
[18:40:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:40:58] select | verify relaxed 6/10
[18:40:58] verify | func= Compares | rank= 5 | pid= hep-ex/0101009 | title_snip='Recent Results on Particle Production from OPAL' | abs_len= 980
[18:41:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:00] select | verify relaxed 7/10
[18:41:00] verify | func= Compares | rank= 6 | pid= hep-ph/0103299 | title_snip='Constraining Models of New Physics in Light of Recent Experimental
  Râ€¦' | abs_len= 780
[18:41:04] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:04] select | verify relaxed 8/10
[18:41:04] verify | func= Compares | rank= 7 | pid= cond-mat/0102536 | title_snip='Impact of Electron-Electron Cusp on Configuration Interaction Energies' | abs_len= 1106
[18:41:07] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:07] select | verify relaxed 9/10
[18:41:07] verify | func= Compares | rank= 8 | pid= astro-ph/0103503 | title_snip='MLAPM - a C code for cosmological simulations' | abs_len= 1536
[18:41:11] verify | result supports= False fit= 0.00 top= 0.60 invalid= off_topic_no_core_in_abstract cue_hint= False
[18:41:11] select | verify relaxed 10/10
[18:41:11] verify | func= Compares | rank= 9 | pid= hep-ph/0104290 | title_snip='On a QCD-based pion distribution amplitude vs. recent experimental datâ€¦' | abs_len= 547
[18:41:14] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the current work compare to previous studies in terms of the relationship between ACM and glicci schemes, and what motivates the investigation of this relationship?
- WINNER: math/0103188 | Monomial ideals and the Gorenstein liaison class of a complete
  intersection
- QUOTE : any Hilbert function that occurs among ACM schemes in fact occurs among glicci schemes
- WHY   : sufficient
[18:41:16] main | running function= Motivation
[18:41:16] select | function= Motivation | candidates_in= 20
[18:41:16] select | core_terms= ['ACM', 'glicci schemes', 'relationship']
[18:41:16] select | no cosine prune; kept=20/20
[18:41:16] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['math/0103188', 'hep-lat/0101019', 'nucl-th/0101058', 'cond-mat/0103424', 'nucl-th/0103002', 'hep-ex/0101009', 'hep-ph/0103299', 'cond-mat/0102536', 'astro-ph/0103503', 'hep-ph/0104290']
[18:41:16] select | verify relaxed 1/10
[18:41:16] verify | func= Motivation | rank= 0 | pid= math/0103188 | title_snip='Monomial ideals and the Gorenstein liaison class of a complete
  interâ€¦' | abs_len= 1057
[18:41:20] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[18:41:20] select | verify relaxed 2/10
[18:41:20] verify | func= Motivation | rank= 1 | pid= hep-lat/0101019 | title_snip='Comparison Studies of Finite Momentum Correlators on Anisotropic and
 â€¦' | abs_len= 552
[18:41:22] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:22] select | verify relaxed 3/10
[18:41:22] verify | func= Motivation | rank= 2 | pid= nucl-th/0101058 | title_snip='Neutron electric dipole moment: Constituent-dressing and compositeness' | abs_len= 648
[18:41:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:26] select | verify relaxed 4/10
[18:41:26] verify | func= Motivation | rank= 3 | pid= cond-mat/0103424 | title_snip='Antiferromagnetically coupled alternating spin chains' | abs_len= 1080
[18:41:29] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:29] select | verify relaxed 5/10
[18:41:29] verify | func= Motivation | rank= 4 | pid= nucl-th/0103002 | title_snip='Tensor Analyzing Power and Current Conservation in the d+p->3He+g
  reâ€¦' | abs_len= 480
[18:41:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:31] select | verify relaxed 6/10
[18:41:31] verify | func= Motivation | rank= 5 | pid= hep-ex/0101009 | title_snip='Recent Results on Particle Production from OPAL' | abs_len= 980
[18:41:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:34] select | verify relaxed 7/10
[18:41:34] verify | func= Motivation | rank= 6 | pid= hep-ph/0103299 | title_snip='Constraining Models of New Physics in Light of Recent Experimental
  Râ€¦' | abs_len= 780
[18:41:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:37] select | verify relaxed 8/10
[18:41:37] verify | func= Motivation | rank= 7 | pid= cond-mat/0102536 | title_snip='Impact of Electron-Electron Cusp on Configuration Interaction Energies' | abs_len= 1106
[18:41:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:40] select | verify relaxed 9/10
[18:41:40] verify | func= Motivation | rank= 8 | pid= astro-ph/0103503 | title_snip='MLAPM - a C code for cosmological simulations' | abs_len= 1536
[18:41:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[18:41:43] select | verify relaxed 10/10
[18:41:43] verify | func= Motivation | rank= 9 | pid= hep-ph/0104290 | title_snip='On a QCD-based pion distribution amplitude vs. recent experimental datâ€¦' | abs_len= 547
[18:41:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the current work compare to previous studies in terms of the relationship between ACM and glicci schemes, and what motivates the investigation of this relationship?
- WINNER: math/0103188 | Monomial ideals and the Gorenstein liaison class of a complete
  intersection
- QUOTE : the converse is an important open question
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The current work compares to previous studies by showing that any Hilbert function occurring among ACM schemes also occurs among glicci schemes, which is not the case when restricted to complete intersection links [Compares] (math/0103188). The investigation of the relationship between ACM and glicci schemes is motivated by the fact that the converse of the implication from glicci to ACM is an important open question [Motivation] (math/0103188).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
