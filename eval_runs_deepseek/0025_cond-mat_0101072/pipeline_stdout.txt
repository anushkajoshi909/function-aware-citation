âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: deepseek-ai/DeepSeek-R1

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background"
  ],
  "justification": "Fallback: classifier did not return a valid object."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[12:26:58] main | args: Namespace(max_check=10, debug=True)
[12:26:58] read_last_jsonl | path= classified_outputs.jsonl
[12:26:58] read_last_jsonl | total_lines= 1
[12:26:58] main | query='How can the method of polarisation conversion of electromagnetic waves in 2D electron systems be used in future research for polarisation spectroscopy applications?' | funcs=['Background']
[12:27:00] main | core_terms= ['2D electron systems', 'electromagnetic waves', 'polarisation conversion', 'polarisation spectroscopy', '2D']
[12:27:00] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[12:27:00] load_topk_jsonl | rows= 20
[12:27:00] load_topk_jsonl | first: rank= 0 paper_id= cond-mat/0101072 title_snip='Total Polarisation Conversion in Two-dimensional Electron System underâ€¦' abs_len= 1194
[12:27:00] main | running function= Background
[12:27:00] select | function= Background | candidates_in= 20
[12:27:00] select | core_terms= ['2D electron systems', 'electromagnetic waves', 'polarisation conversion', 'polarisation spectroscopy', '2D']
[12:27:00] select | no cosine prune; kept=20/20
[12:27:00] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['cond-mat/0101072', 'cond-mat/0101196', 'math-ph/0101034', 'cond-mat/0103541', 'cond-mat/0101249', 'cond-mat/0102344', 'cond-mat/0102415', 'cond-mat/0102057', 'physics/0103014', 'cond-mat/0104423']
[12:27:00] select | verify relaxed 1/10
[12:27:00] verify | func= Background | rank= 0 | pid= cond-mat/0101072 | title_snip='Total Polarisation Conversion in Two-dimensional Electron System underâ€¦' | abs_len= 1194
[12:27:03] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[12:27:03] select | verify relaxed 2/10
[12:27:03] verify | func= Background | rank= 1 | pid= cond-mat/0101196 | title_snip='Spin Polarization of Two-Dimensional Electrons Determined from
  Shubnâ€¦' | abs_len= 542
[12:27:06] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[12:27:06] select | verify relaxed 3/10
[12:27:06] verify | func= Background | rank= 2 | pid= math-ph/0101034 | title_snip='Spectra of 2D H-donors in magnetic field and their Zeeman splitting' | abs_len= 232
[12:27:09] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[12:27:09] select | verify relaxed 4/10
[12:27:09] verify | func= Background | rank= 3 | pid= cond-mat/0103541 | title_snip='The Droplet State and the Compressibility Anomaly in Dilute 2D Electroâ€¦' | abs_len= 544
[12:27:12] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[12:27:12] select | verify relaxed 5/10
[12:27:12] verify | func= Background | rank= 4 | pid= cond-mat/0101249 | title_snip='The Electron Spectral Function in Two-Dimensional Fractionalized Phaseâ€¦' | abs_len= 1317
[12:27:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:27:15] select | verify relaxed 6/10
[12:27:15] verify | func= Background | rank= 5 | pid= cond-mat/0102344 | title_snip='A Hartree-Fock Study of Charge Redistribution in a 2D Mesoscopic
  Strâ€¦' | abs_len= 513
[12:27:18] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[12:27:18] select | verify relaxed 7/10
[12:27:18] verify | func= Background | rank= 6 | pid= cond-mat/0102415 | title_snip='Hall Coefficient and electron-electron interaction of 2D electrons in
â€¦' | abs_len= 825
[12:27:21] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[12:27:21] select | verify relaxed 8/10
[12:27:21] verify | func= Background | rank= 7 | pid= cond-mat/0102057 | title_snip='Plasmon dispersion in dilute 2D electron systems: Quantum-Classical anâ€¦' | abs_len= 883
[12:27:24] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False
[12:27:24] select | verify relaxed 9/10
[12:27:24] verify | func= Background | rank= 8 | pid= physics/0103014 | title_snip='Wave packet propagation study of the charge transfer interaction in thâ€¦' | abs_len= 911
[12:27:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[12:27:26] select | verify relaxed 10/10
[12:27:26] verify | func= Background | rank= 9 | pid= cond-mat/0104423 | title_snip='Peierls Distortion in Two-Dimensional Tight-Binding Model' | abs_len= 1157
[12:27:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How can the method of polarisation conversion of electromagnetic waves in 2D electron systems be used in future research for polarisation spectroscopy applications?
- WINNER: cond-mat/0101072 | Total Polarisation Conversion in Two-dimensional Electron System under
  Cyclotron Resonance Conditions
- QUOTE : polarisation conversion of a linear polarised electromagnetic wave
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The method of polarisation conversion of electromagnetic waves in 2D electron systems can be utilized in future research for polarisation spectroscopy applications by leveraging the high polarisation conversion efficiency achieved under cyclotron resonance conditions [Background] (cond-mat/0101072). This phenomenon enables extremely high polarisation conversion in a wide range of angles, making it a promising tool for polarisation spectroscopy of 2D electron systems [Background] (cond-mat/0101072).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
