âœ… Available Models:
1. alias-reasoning
2. alias-ha
3. meta-llama/Llama-3.3-70B-Instruct
4. meta-llama/Llama-3.1-8B-Instruct
5. Qwen/Qwen2-VL-7B-Instruct
6. alias-vision
7. openGPT-X/Teuken-7B-instruct-research-v0.4
8. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
9. Qwen/Qwen3-Coder-30B-A3B-Instruct
10. alias-code
11. Qwen/Qwen3-Embedding-4B
12. BAAI/bge-reranker-v2-m3
13. stabilityai/stable-diffusion-3.5-large-turbo
14. alias-image-generation
15. black-forest-labs/FLUX.1-dev
16. openai/whisper-large-v3
17. Kokoro-82M
18. tts-1-hd
19. deepseek-ai/DeepSeek-R1
20. openai/gpt-oss-120b
21. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: deepseek-ai/DeepSeek-R1

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background"
  ],
  "justification": "Fallback: classifier did not return a valid object."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[14:46:17] main | args: Namespace(max_check=10, debug=True)
[14:46:17] read_last_jsonl | path= classified_outputs.jsonl
[14:46:17] read_last_jsonl | total_lines= 1
[14:46:17] main | query='How do the findings of this study on the coexistence of two scaling regimes in shear dominated flows compare to previous work and what future research directions does it suggest?' | funcs=['Background']
[14:46:19] main | core_terms= ['shear dominated flows', 'scaling regimes', 'coexistence']
[14:46:19] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[14:46:19] load_topk_jsonl | rows= 20
[14:46:19] load_topk_jsonl | first: rank= 0 paper_id= nlin/0104042 title_snip='Double scaling and intermittency in shear dominated flows' abs_len= 1305
[14:46:19] main | running function= Background
[14:46:19] select | function= Background | candidates_in= 20
[14:46:19] select | core_terms= ['shear dominated flows', 'scaling regimes', 'coexistence']
[14:46:19] select | no cosine prune; kept=20/20
[14:46:19] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['nlin/0104042', 'nlin/0102015', 'nlin/0101050', 'nlin/0104056', 'astro-ph/0101397', 'physics/0101037', 'nlin/0102023', 'nlin/0103017', 'cond-mat/0101474', 'cond-mat/0102302']
[14:46:19] select | verify relaxed 1/10
[14:46:19] verify | func= Background | rank= 0 | pid= nlin/0104042 | title_snip='Double scaling and intermittency in shear dominated flows' | abs_len= 1305
[14:46:22] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[14:46:22] select | verify relaxed 2/10
[14:46:22] verify | func= Background | rank= 1 | pid= nlin/0102015 | title_snip='Experimental assessment of a new form of scaling law for near-wall
  tâ€¦' | abs_len= 1624
[14:46:26] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[14:46:26] select | verify relaxed 3/10
[14:46:26] verify | func= Background | rank= 2 | pid= nlin/0101050 | title_snip='Stability of scaling regimes in $d\geq 2$ developed turbulence with weâ€¦' | abs_len= 787
[14:46:29] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[14:46:29] select | verify relaxed 4/10
[14:46:29] verify | func= Background | rank= 3 | pid= nlin/0104056 | title_snip='Weak Wave Turbulence Scaling Theory for Diffusion and Relative Diffusiâ€¦' | abs_len= 476
[14:46:32] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:46:32] select | verify relaxed 5/10
[14:46:32] verify | func= Background | rank= 4 | pid= astro-ph/0101397 | title_snip='Turbulent dissipation in the ISM: the coexistence of forced and decayiâ€¦' | abs_len= 1787
[14:46:34] verify | result supports= False fit= 0.00 top= 0.50 invalid= no_quote cue_hint= False
[14:46:34] select | verify relaxed 6/10
[14:46:34] verify | func= Background | rank= 5 | pid= physics/0101037 | title_snip='Fast Numerical simulations of 2D turbulence using a dynamic model for
â€¦' | abs_len= 770
[14:46:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:46:37] select | verify relaxed 7/10
[14:46:37] verify | func= Background | rank= 6 | pid= nlin/0102023 | title_snip='Pair dispersion in turbulence' | abs_len= 450
[14:46:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:46:39] select | verify relaxed 8/10
[14:46:39] verify | func= Background | rank= 7 | pid= nlin/0103017 | title_snip='Experimental evidence of chaotic advection in a convective flow' | abs_len= 472
[14:46:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:46:42] select | verify relaxed 9/10
[14:46:42] verify | func= Background | rank= 8 | pid= cond-mat/0101474 | title_snip='Numerical analysis of the Minimal and Two-Liquid models of the Market
â€¦' | abs_len= 1428
[14:46:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[14:46:45] select | verify relaxed 10/10
[14:46:45] verify | func= Background | rank= 9 | pid= cond-mat/0102302 | title_snip='A new relation between pressure and fractional flow in two-phase flow â€¦' | abs_len= 793
[14:46:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How do the findings of this study on the coexistence of two scaling regimes in shear dominated flows compare to previous work and what future research directions does it suggest?
- WINNER: nlin/0104042 | Double scaling and intermittency in shear dominated flows
- QUOTE : the classical Kolmogorov-like inertial range, below, and the shear dominated range, above
- WHY   : sufficient

================================================================================
UNIFIED ANSWER (1â€“2 sentences, tagged):
The study on the coexistence of two scaling regimes in shear dominated flows builds upon previous work by providing evidence of the coexistence of the classical Kolmogorov-like inertial range and the shear dominated range [Background] (nlin/0104042). This finding suggests future research directions, including the theoretical prediction of scaling exponents of structure functions in the shear dominated range, which is supported by the available numerical and experimental data [Background] (nlin/0104042).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Unified answer: outputs/function_answer_unified.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2_copy.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
