âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Uses",
    "FutureWork"
  ],
  "justification": "The query asks how existing analysis methods can be applied (Uses) and explicitly seeks guidance for subsequent investigations (FutureWork)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[22:55:45] main | args: Namespace(max_check=10, debug=True)
[22:55:45] read_last_jsonl | path= classified_outputs.jsonl
[22:55:45] read_last_jsonl | total_lines= 1
[22:55:45] main | query='How might the methods used to analyze the absorption feature in GRB 990705 inform future research on the properties of supernova remnants and their impact on afterglow generation?' | funcs=['Uses', 'FutureWork']
[22:55:48] main | core_terms= ['GRB 990705', 'supernova remnants', 'absorption feature', 'afterglow generation', 'GRB']
[22:55:48] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[22:55:48] load_topk_jsonl | rows= 20
[22:55:48] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104062 title_snip='On the absorption feature in the prompt X-ray spectrum of GRB 990705' abs_len= 1181
[22:55:48] main | running function= Uses
[22:55:48] select | function= Uses | candidates_in= 20
[22:55:48] select | core_terms= ['GRB 990705', 'supernova remnants', 'absorption feature', 'afterglow generation', 'GRB']
[22:55:48] select | no cosine prune; kept=20/20
[22:55:48] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104062', 'astro-ph/0101234', 'astro-ph/0101274', 'astro-ph/0104485', 'astro-ph/0104348', 'astro-ph/0104174', 'astro-ph/0104471', 'astro-ph/0101425', 'astro-ph/0102129', 'astro-ph/0101198']
[22:55:48] select | verify relaxed 1/10
[22:55:48] verify | func= Uses | rank= 0 | pid= astro-ph/0104062 | title_snip='On the absorption feature in the prompt X-ray spectrum of GRB 990705' | abs_len= 1181
[22:55:50] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:55:50] select | verify relaxed 2/10
[22:55:50] verify | func= Uses | rank= 1 | pid= astro-ph/0101234 | title_snip='Chromatic Signatures in the Microlensing of GRB Afterglows' | abs_len= 839
[22:55:54] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[22:55:54] select | verify relaxed 3/10
[22:55:54] verify | func= Uses | rank= 2 | pid= astro-ph/0101274 | title_snip='A New ASCA and ROSAT Study of the Supernova Remnant: G272.2-3.2' | abs_len= 1152
[22:55:56] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:55:56] select | verify relaxed 4/10
[22:55:56] verify | func= Uses | rank= 3 | pid= astro-ph/0104485 | title_snip='Specifying the Environments around GRB, Explaining the Fe line in the
â€¦' | abs_len= 1766
[22:55:59] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:55:59] select | verify relaxed 5/10
[22:55:59] verify | func= Uses | rank= 4 | pid= astro-ph/0104348 | title_snip='Guiding the Way to Gamma-Ray Sources: X-ray Studies of Supernova
  Remâ€¦' | abs_len= 612
[22:56:02] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[22:56:02] select | verify relaxed 6/10
[22:56:02] verify | func= Uses | rank= 5 | pid= astro-ph/0104174 | title_snip='The Jet and the Supernova in GRB990712' | abs_len= 400
[22:56:05] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:05] select | verify relaxed 7/10
[22:56:05] verify | func= Uses | rank= 6 | pid= astro-ph/0104471 | title_snip='Gamma-ray Burst Remnants: How can we find them?' | abs_len= 940
[22:56:08] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[22:56:08] select | verify relaxed 8/10
[22:56:08] verify | func= Uses | rank= 7 | pid= astro-ph/0101425 | title_snip='Detection of the optical afterglow of GRB 000630: Implications for darâ€¦' | abs_len= 1242
[22:56:11] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:11] select | verify relaxed 9/10
[22:56:11] verify | func= Uses | rank= 8 | pid= astro-ph/0102129 | title_snip='X-ray Observations of Young Supernova Remnants' | abs_len= 499
[22:56:14] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:14] select | verify relaxed 10/10
[22:56:14] verify | func= Uses | rank= 9 | pid= astro-ph/0101198 | title_snip='The supernova remnants G67.7+1.8, G31.5-0.6 and G49.2-0.7' | abs_len= 580
[22:56:17] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How might the methods used to analyze the absorption feature in GRB 990705 inform future research on the properties of supernova remnants and their impact on afterglow generation?
- WINNER: astro-ph/0104062 | On the absorption feature in the prompt X-ray spectrum of GRB 990705
- QUOTE : We investigate different production mechanisms
- WHY   : sufficient
- ANSWER: Researchers use the analysis of the absorption feature in GRB 990705 to inform the study of supernova remnants and their impact on afterglow generation. The methods applied to this absorption feature, such as investigating production mechanisms and modeling the absorbing material, can be used to understand the properties of supernova remnants (astro-ph/0104062).
[22:56:21] main | running function= FutureWork
[22:56:21] select | function= FutureWork | candidates_in= 20
[22:56:21] select | core_terms= ['GRB 990705', 'supernova remnants', 'absorption feature', 'afterglow generation', 'GRB']
[22:56:21] select | no cosine prune; kept=20/20
[22:56:21] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104062', 'astro-ph/0101234', 'astro-ph/0101274', 'astro-ph/0104485', 'astro-ph/0104348', 'astro-ph/0104174', 'astro-ph/0104471', 'astro-ph/0101425', 'astro-ph/0102129', 'astro-ph/0101198']
[22:56:21] select | verify relaxed 1/10
[22:56:21] verify | func= FutureWork | rank= 0 | pid= astro-ph/0104062 | title_snip='On the absorption feature in the prompt X-ray spectrum of GRB 990705' | abs_len= 1181
[22:56:24] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:56:24] select | verify relaxed 2/10
[22:56:24] verify | func= FutureWork | rank= 1 | pid= astro-ph/0101234 | title_snip='Chromatic Signatures in the Microlensing of GRB Afterglows' | abs_len= 839
[22:56:27] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[22:56:27] select | verify relaxed 3/10
[22:56:27] verify | func= FutureWork | rank= 2 | pid= astro-ph/0101274 | title_snip='A New ASCA and ROSAT Study of the Supernova Remnant: G272.2-3.2' | abs_len= 1152
[22:56:30] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:56:30] select | verify relaxed 4/10
[22:56:30] verify | func= FutureWork | rank= 3 | pid= astro-ph/0104485 | title_snip='Specifying the Environments around GRB, Explaining the Fe line in the
â€¦' | abs_len= 1766
[22:56:33] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:33] select | verify relaxed 5/10
[22:56:33] verify | func= FutureWork | rank= 4 | pid= astro-ph/0104348 | title_snip='Guiding the Way to Gamma-Ray Sources: X-ray Studies of Supernova
  Remâ€¦' | abs_len= 612
[22:56:36] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[22:56:36] select | verify relaxed 6/10
[22:56:36] verify | func= FutureWork | rank= 5 | pid= astro-ph/0104174 | title_snip='The Jet and the Supernova in GRB990712' | abs_len= 400
[22:56:38] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:38] select | verify relaxed 7/10
[22:56:38] verify | func= FutureWork | rank= 6 | pid= astro-ph/0104471 | title_snip='Gamma-ray Burst Remnants: How can we find them?' | abs_len= 940
[22:56:42] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:56:42] select | verify relaxed 8/10
[22:56:42] verify | func= FutureWork | rank= 7 | pid= astro-ph/0101425 | title_snip='Detection of the optical afterglow of GRB 000630: Implications for darâ€¦' | abs_len= 1242
[22:56:45] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:45] select | verify relaxed 9/10
[22:56:45] verify | func= FutureWork | rank= 8 | pid= astro-ph/0102129 | title_snip='X-ray Observations of Young Supernova Remnants' | abs_len= 499
[22:56:48] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:56:48] select | verify relaxed 10/10
[22:56:48] verify | func= FutureWork | rank= 9 | pid= astro-ph/0101198 | title_snip='The supernova remnants G67.7+1.8, G31.5-0.6 and G49.2-0.7' | abs_len= 580
[22:56:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How might the methods used to analyze the absorption feature in GRB 990705 inform future research on the properties of supernova remnants and their impact on afterglow generation?
- WINNER: astro-ph/0104062 | On the absorption feature in the prompt X-ray spectrum of GRB 990705
- QUOTE : affect the generation of afterglows
- WHY   : sufficient
- ANSWER: The methods used to analyze the absorption feature in GRB 990705 could inform future research on supernova remnants by exploring how they impact afterglow generation, particularly in scenarios where the remnant surrounds the burst site. Further study is needed to understand the physical conditions and geometry of the absorbing material in relation to afterglow production (astro-ph/0104062).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
