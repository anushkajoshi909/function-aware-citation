âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Uses"
  ],
  "justification": "The query seeks foundational information about Fuller & Shi's proposal (Background) and asks how specific parts of their model are employed to support strong gravitational\u2011wave generation (Uses)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[22:36:30] main | args: Namespace(max_check=10, debug=True)
[22:36:30] read_last_jsonl | path= classified_outputs.jsonl
[22:36:30] read_last_jsonl | total_lines= 1
[22:36:30] main | query='How does the proposal by Fuller & Shi provide background for the generation of gravitational waves during the formation of supermassive black holes, and what aspects of their model are used to argue for the strong generation of these waves?' | funcs=['Background', 'Uses']
[22:36:32] main | core_terms= ['supermassive black holes', 'gravitational waves', 'Fuller & Shi proposal']
[22:36:32] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[22:36:32] load_topk_jsonl | rows= 20
[22:36:32] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101022 title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' abs_len= 971
[22:36:32] main | running function= Background
[22:36:32] select | function= Background | candidates_in= 20
[22:36:32] select | core_terms= ['supermassive black holes', 'gravitational waves', 'Fuller & Shi proposal']
[22:36:32] select | no cosine prune; kept=20/20
[22:36:32] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101022', 'gr-qc/0101017', 'astro-ph/0102390', 'gr-qc/0104083', 'hep-th/0103136', 'gr-qc/0102090', 'hep-th/0104131', 'gr-qc/0103027', 'astro-ph/0102341', 'hep-th/0102200']
[22:36:32] select | verify relaxed 1/10
[22:36:32] verify | func= Background | rank= 0 | pid= astro-ph/0101022 | title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' | abs_len= 971
[22:36:35] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:36:35] select | verify relaxed 2/10
[22:36:35] verify | func= Background | rank= 1 | pid= gr-qc/0101017 | title_snip='Generation of exact solutions in cosmology on the basis of
  five-dimeâ€¦' | abs_len= 594
[22:36:38] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:38] select | verify relaxed 3/10
[22:36:38] verify | func= Background | rank= 2 | pid= astro-ph/0102390 | title_snip='Primordial black holes as a probe of the early universe and a varying
â€¦' | abs_len= 803
[22:36:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:40] select | verify relaxed 4/10
[22:36:40] verify | func= Background | rank= 3 | pid= gr-qc/0104083 | title_snip='Post-Newtonian Expansion of Gravitational Radiation' | abs_len= 1005
[22:36:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:43] select | verify relaxed 5/10
[22:36:43] verify | func= Background | rank= 4 | pid= hep-th/0103136 | title_snip='Superbranes and Super Born-Infeld Theories from Nonlinear Realizations' | abs_len= 523
[22:36:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:45] select | verify relaxed 6/10
[22:36:45] verify | func= Background | rank= 5 | pid= gr-qc/0102090 | title_snip='A prescription for probabilities in eternal inflation' | abs_len= 1091
[22:36:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:47] select | verify relaxed 7/10
[22:36:47] verify | func= Background | rank= 6 | pid= hep-th/0104131 | title_snip='Brane Supersymmetry Breaking and the Cosmological Constant: Open
  Proâ€¦' | abs_len= 676
[22:36:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:50] select | verify relaxed 8/10
[22:36:50] verify | func= Background | rank= 7 | pid= gr-qc/0103027 | title_snip='Coincidence of the Universe Description Stemming from D-branes Theory
â€¦' | abs_len= 367
[22:36:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:52] select | verify relaxed 9/10
[22:36:52] verify | func= Background | rank= 8 | pid= astro-ph/0102341 | title_snip='A Catalog of Mass Models for Gravitational Lensing' | abs_len= 435
[22:36:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:36:55] select | verify relaxed 10/10
[22:36:55] verify | func= Background | rank= 9 | pid= hep-th/0102200 | title_snip='On D0 brane polarization by tidal forces' | abs_len= 883
[22:36:57] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How does the proposal by Fuller & Shi provide background for the generation of gravitational waves during the formation of supermassive black holes, and what aspects of their model are used to argue for the strong generation of these waves?
- WINNER: astro-ph/0101022 | Possible Strong Gravitational Wave Sources for the LISA Antenna
- QUOTE : Fuller & Shi proposed that the gravitational collapse of supermassive objects
- WHY   : sufficient
- ANSWER: The proposal by Fuller & Shi provides background for the generation of gravitational waves during the formation of supermassive black holes by suggesting that the collapse of supermassive objects could be a source of strong gravitational waves (astro-ph/0101022).
[22:37:02] main | running function= Uses
[22:37:02] select | function= Uses | candidates_in= 20
[22:37:02] select | core_terms= ['supermassive black holes', 'gravitational waves', 'Fuller & Shi proposal']
[22:37:02] select | no cosine prune; kept=20/20
[22:37:02] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101022', 'gr-qc/0101017', 'astro-ph/0102390', 'gr-qc/0104083', 'hep-th/0103136', 'gr-qc/0102090', 'hep-th/0104131', 'gr-qc/0103027', 'astro-ph/0102341', 'hep-th/0102200']
[22:37:02] select | verify relaxed 1/10
[22:37:02] verify | func= Uses | rank= 0 | pid= astro-ph/0101022 | title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' | abs_len= 971
[22:37:05] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:37:05] select | verify relaxed 2/10
[22:37:05] verify | func= Uses | rank= 1 | pid= gr-qc/0101017 | title_snip='Generation of exact solutions in cosmology on the basis of
  five-dimeâ€¦' | abs_len= 594
[22:37:08] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:08] select | verify relaxed 3/10
[22:37:08] verify | func= Uses | rank= 2 | pid= astro-ph/0102390 | title_snip='Primordial black holes as a probe of the early universe and a varying
â€¦' | abs_len= 803
[22:37:10] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:10] select | verify relaxed 4/10
[22:37:10] verify | func= Uses | rank= 3 | pid= gr-qc/0104083 | title_snip='Post-Newtonian Expansion of Gravitational Radiation' | abs_len= 1005
[22:37:13] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:13] select | verify relaxed 5/10
[22:37:13] verify | func= Uses | rank= 4 | pid= hep-th/0103136 | title_snip='Superbranes and Super Born-Infeld Theories from Nonlinear Realizations' | abs_len= 523
[22:37:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:15] select | verify relaxed 6/10
[22:37:15] verify | func= Uses | rank= 5 | pid= gr-qc/0102090 | title_snip='A prescription for probabilities in eternal inflation' | abs_len= 1091
[22:37:18] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:18] select | verify relaxed 7/10
[22:37:18] verify | func= Uses | rank= 6 | pid= hep-th/0104131 | title_snip='Brane Supersymmetry Breaking and the Cosmological Constant: Open
  Proâ€¦' | abs_len= 676
[22:37:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:20] select | verify relaxed 8/10
[22:37:20] verify | func= Uses | rank= 7 | pid= gr-qc/0103027 | title_snip='Coincidence of the Universe Description Stemming from D-branes Theory
â€¦' | abs_len= 367
[22:37:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:23] select | verify relaxed 9/10
[22:37:23] verify | func= Uses | rank= 8 | pid= astro-ph/0102341 | title_snip='A Catalog of Mass Models for Gravitational Lensing' | abs_len= 435
[22:37:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:37:25] select | verify relaxed 10/10
[22:37:25] verify | func= Uses | rank= 9 | pid= hep-th/0102200 | title_snip='On D0 brane polarization by tidal forces' | abs_len= 883
[22:37:27] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How does the proposal by Fuller & Shi provide background for the generation of gravitational waves during the formation of supermassive black holes, and what aspects of their model are used to argue for the strong generation of these waves?
- WINNER: astro-ph/0101022 | Possible Strong Gravitational Wave Sources for the LISA Antenna
- QUOTE : Fuller & Shi proposed that the gravitational collapse of supermassive objects
- WHY   : sufficient
- ANSWER: Fuller & Shi's proposal is used to provide background for the generation of gravitational waves during the formation of supermassive black holes, as their model of supermassive object collapses is applied to argue for the strong generation of these waves. Their model is utilized to estimate the rate of gravitational wave bursts, which could be as high as the rate of gamma-ray bursts (astro-ph/0101022).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
