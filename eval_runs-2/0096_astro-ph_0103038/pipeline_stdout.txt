âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "FutureWork"
  ],
  "justification": "The query explicitly requests a comparison with prior models and asks about suggested future research directions."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:16:38] main | args: Namespace(max_check=10, debug=True)
[23:16:38] read_last_jsonl | path= classified_outputs.jsonl
[23:16:38] read_last_jsonl | total_lines= 1
[23:16:38] main | query='How does the current work's approach to simulating relativistic jets compare to previous models, and what potential areas of future research are suggested by the differences found?' | funcs=['Compares', 'FutureWork']
[23:16:39] main | core_terms= ['relativistic jets', 'simulation', 'relativity']
[23:16:39] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:16:39] load_topk_jsonl | rows= 20
[23:16:39] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104120 title_snip='Numerical Simulations of Relativistic Shock Acceleration' abs_len= 1002
[23:16:39] main | running function= Compares
[23:16:39] select | function= Compares | candidates_in= 20
[23:16:39] select | core_terms= ['relativistic jets', 'simulation', 'relativity']
[23:16:39] select | no cosine prune; kept=20/20
[23:16:39] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104120', 'astro-ph/0103038', 'nucl-th/0101008', 'astro-ph/0104305', 'nucl-th/0104040', 'nucl-th/0101038', 'hep-ph/0101327', 'astro-ph/0102271', 'gr-qc/0103076', 'astro-ph/0103007']
[23:16:39] select | verify relaxed 1/10
[23:16:39] verify | func= Compares | rank= 0 | pid= astro-ph/0104120 | title_snip='Numerical Simulations of Relativistic Shock Acceleration' | abs_len= 1002
[23:16:42] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:16:42] select | verify relaxed 2/10
[23:16:42] verify | func= Compares | rank= 1 | pid= astro-ph/0103038 | title_snip='Light Curves from an Expanding Relativistic Jet' | abs_len= 1185
[23:16:46] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:16:46] select | verify relaxed 3/10
[23:16:46] verify | func= Compares | rank= 2 | pid= nucl-th/0101008 | title_snip='Relativistic and non-relativistic studies of nuclear matter' | abs_len= 1254
[23:16:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:16:48] select | verify relaxed 4/10
[23:16:48] verify | func= Compares | rank= 3 | pid= astro-ph/0104305 | title_snip='Simulating Electron Transport and Synchrotron Emission in Radio
  Galaâ€¦' | abs_len= 1433
[23:16:51] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False
[23:16:51] select | verify relaxed 5/10
[23:16:51] verify | func= Compares | rank= 4 | pid= nucl-th/0104040 | title_snip='Microscopic Reaction Dynamics at SPS and RHIC' | abs_len= 362
[23:16:54] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:16:54] select | verify relaxed 6/10
[23:16:54] verify | func= Compares | rank= 5 | pid= nucl-th/0101038 | title_snip='Relativistic mean field approximation to the analysis of 16O(e,e'p)15Nâ€¦' | abs_len= 631
[23:16:57] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:16:57] select | verify relaxed 7/10
[23:16:57] verify | func= Compares | rank= 6 | pid= hep-ph/0101327 | title_snip='Relativistic instant-form approach to the structure of two-body
  compâ€¦' | abs_len= 1242
[23:16:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:16:59] select | verify relaxed 8/10
[23:16:59] verify | func= Compares | rank= 7 | pid= astro-ph/0102271 | title_snip='Relativistic Blastwaves and Synchrotron Emission' | abs_len= 1224
[23:17:02] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:17:02] select | verify relaxed 9/10
[23:17:02] verify | func= Compares | rank= 8 | pid= gr-qc/0103076 | title_snip='New Perspectives on the Relativistically Rotating Disk and
  Non-time-â€¦' | abs_len= 1715
[23:17:06] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:17:06] select | verify relaxed 10/10
[23:17:06] verify | func= Compares | rank= 9 | pid= astro-ph/0103007 | title_snip='Relativistic large scale jets and minimum power requirements' | abs_len= 910
[23:17:09] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the current work's approach to simulating relativistic jets compare to previous models, and what potential areas of future research are suggested by the differences found?
- WINNER: astro-ph/0104120 | Numerical Simulations of Relativistic Shock Acceleration
- QUOTE : Contrary to non-relativistic shocks
- WHY   : sufficient
- ANSWER: The current work's approach to simulating relativistic jets is compared to previous analytical methods, with numerical Monte Carlo methods offering a more comprehensive understanding of the acceleration process in complex conditions. The differences found suggest potential areas of future research, including the role of magnetic field configurations and turbulence spectra in shaping cosmic ray spectra (astro-ph/0104120).
[23:17:13] main | running function= FutureWork
[23:17:13] select | function= FutureWork | candidates_in= 20
[23:17:13] select | core_terms= ['relativistic jets', 'simulation', 'relativity']
[23:17:13] select | no cosine prune; kept=20/20
[23:17:13] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104120', 'astro-ph/0103038', 'nucl-th/0101008', 'astro-ph/0104305', 'nucl-th/0104040', 'nucl-th/0101038', 'hep-ph/0101327', 'astro-ph/0102271', 'gr-qc/0103076', 'astro-ph/0103007']
[23:17:13] select | verify relaxed 1/10
[23:17:13] verify | func= FutureWork | rank= 0 | pid= astro-ph/0104120 | title_snip='Numerical Simulations of Relativistic Shock Acceleration' | abs_len= 1002
[23:17:16] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:17:16] select | verify relaxed 2/10
[23:17:16] verify | func= FutureWork | rank= 1 | pid= astro-ph/0103038 | title_snip='Light Curves from an Expanding Relativistic Jet' | abs_len= 1185
[23:17:19] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:17:19] select | verify relaxed 3/10
[23:17:19] verify | func= FutureWork | rank= 2 | pid= nucl-th/0101008 | title_snip='Relativistic and non-relativistic studies of nuclear matter' | abs_len= 1254
[23:17:22] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:17:22] select | verify relaxed 4/10
[23:17:22] verify | func= FutureWork | rank= 3 | pid= astro-ph/0104305 | title_snip='Simulating Electron Transport and Synchrotron Emission in Radio
  Galaâ€¦' | abs_len= 1433
[23:17:25] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:17:25] select | verify relaxed 5/10
[23:17:25] verify | func= FutureWork | rank= 4 | pid= nucl-th/0104040 | title_snip='Microscopic Reaction Dynamics at SPS and RHIC' | abs_len= 362
[23:17:28] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:17:28] select | verify relaxed 6/10
[23:17:28] verify | func= FutureWork | rank= 5 | pid= nucl-th/0101038 | title_snip='Relativistic mean field approximation to the analysis of 16O(e,e'p)15Nâ€¦' | abs_len= 631
[23:17:31] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:17:31] select | verify relaxed 7/10
[23:17:31] verify | func= FutureWork | rank= 6 | pid= hep-ph/0101327 | title_snip='Relativistic instant-form approach to the structure of two-body
  compâ€¦' | abs_len= 1242
[23:17:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:17:34] select | verify relaxed 8/10
[23:17:34] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102271 | title_snip='Relativistic Blastwaves and Synchrotron Emission' | abs_len= 1224
[23:17:37] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False
[23:17:37] select | verify relaxed 9/10
[23:17:37] verify | func= FutureWork | rank= 8 | pid= gr-qc/0103076 | title_snip='New Perspectives on the Relativistically Rotating Disk and
  Non-time-â€¦' | abs_len= 1715
[23:17:39] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[23:17:39] select | verify relaxed 10/10
[23:17:39] verify | func= FutureWork | rank= 9 | pid= astro-ph/0103007 | title_snip='Relativistic large scale jets and minimum power requirements' | abs_len= 910
[23:17:42] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How does the current work's approach to simulating relativistic jets compare to previous models, and what potential areas of future research are suggested by the differences found?
- WINNER: astro-ph/0104120 | Numerical Simulations of Relativistic Shock Acceleration
- QUOTE : an interesting possibility of particle acceleration at incompressible flow discontinuities
- WHY   : sufficient
- ANSWER: The current work's approach to simulating relativistic jets using numerical Monte Carlo methods differs from previous analytical methods by considering more general conditions, including turbulent and anisotropic situations. Future research may explore particle acceleration at shear layers in relativistic jets, which could provide new insights into the observed synchrotron spectra (astro-ph/0104120).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
