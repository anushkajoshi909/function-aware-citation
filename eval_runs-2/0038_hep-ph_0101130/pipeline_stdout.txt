âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "Motivation"
  ],
  "justification": "The query seeks prior methods/results (background information) that serve as a reason for studying spatial variation in the cosmological constant (motivation)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[22:04:21] main | args: Namespace(max_check=10, debug=True)
[22:04:21] read_last_jsonl | path= classified_outputs.jsonl
[22:04:21] read_last_jsonl | total_lines= 1
[22:04:21] main | query='What method or result from previous work is used to motivate the investigation of spatial variation in the cosmological constant?' | funcs=['Background', 'Motivation']
[22:04:23] main | core_terms= ['cosmological constant', 'spatial variation']
[22:04:23] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[22:04:23] load_topk_jsonl | rows= 20
[22:04:23] load_topk_jsonl | first: rank= 0 paper_id= hep-ph/0101130 title_snip='Spatial gradients in the cosmological constant' abs_len= 1090
[22:04:23] main | running function= Background
[22:04:23] select | function= Background | candidates_in= 20
[22:04:23] select | core_terms= ['cosmological constant', 'spatial variation']
[22:04:23] select | no cosine prune; kept=20/20
[22:04:23] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ph/0101130', 'astro-ph/0102319', 'astro-ph/0101143', 'astro-ph/0103158', 'astro-ph/0103075', 'gr-qc/0104029', 'astro-ph/0104366', 'gr-qc/0102003', 'astro-ph/0101449', 'gr-qc/0103003']
[22:04:23] select | verify relaxed 1/10
[22:04:23] verify | func= Background | rank= 0 | pid= hep-ph/0101130 | title_snip='Spatial gradients in the cosmological constant' | abs_len= 1090
[22:04:26] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:04:26] select | verify relaxed 2/10
[22:04:26] verify | func= Background | rank= 1 | pid= astro-ph/0102319 | title_snip='Overconstrained dynamics in galaxy redshift surveys' | abs_len= 1775
[22:04:29] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:04:29] select | verify relaxed 3/10
[22:04:29] verify | func= Background | rank= 2 | pid= astro-ph/0101143 | title_snip='On the trispectrum as a gaussian test for cosmology' | abs_len= 1444
[22:04:32] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:04:32] select | verify relaxed 4/10
[22:04:32] verify | func= Background | rank= 3 | pid= astro-ph/0103158 | title_snip='Exploring Topology of the Universe in the Cosmic Microwave Background' | abs_len= 1539
[22:04:34] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:04:34] select | verify relaxed 5/10
[22:04:34] verify | func= Background | rank= 4 | pid= astro-ph/0103075 | title_snip='Supernova constraints on spatial variations of the vacuum energy densiâ€¦' | abs_len= 810
[22:04:37] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:04:37] select | verify relaxed 6/10
[22:04:37] verify | func= Background | rank= 5 | pid= gr-qc/0104029 | title_snip='An alternative to Minkowski space-time' | abs_len= 1230
[22:04:39] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:04:39] select | verify relaxed 7/10
[22:04:39] verify | func= Background | rank= 6 | pid= astro-ph/0104366 | title_snip='Concerning Parameter Estimation Using the Cosmic Microwave Background' | abs_len= 1521
[22:04:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:04:42] select | verify relaxed 8/10
[22:04:42] verify | func= Background | rank= 7 | pid= gr-qc/0102003 | title_snip='Time-Variation of the Gravitational Constant and the Machian Solution â€¦' | abs_len= 769
[22:04:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:04:44] select | verify relaxed 9/10
[22:04:44] verify | func= Background | rank= 8 | pid= astro-ph/0101449 | title_snip='Lensing-induced Non-Gaussian Signatures in the Cosmic Microwave
  Backâ€¦' | abs_len= 1719
[22:04:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:04:47] select | verify relaxed 10/10
[22:04:47] verify | func= Background | rank= 9 | pid= gr-qc/0103003 | title_snip='Varying Cosmological Constant and the Machian Solution in the
  Generaâ€¦' | abs_len= 1092
[22:04:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : What method or result from previous work is used to motivate the investigation of spatial variation in the cosmological constant?
- WINNER: hep-ph/0101130 | Spatial gradients in the cosmological constant
- QUOTE : cosmological constant is likely to be the most sensitive
- WHY   : sufficient
- ANSWER: The investigation of spatial variation in the cosmological constant is motivated by the possibility of differences in fundamental physical parameters across the universe (hep-ph/0101130).
[22:04:55] main | running function= Motivation
[22:04:55] select | function= Motivation | candidates_in= 20
[22:04:55] select | core_terms= ['cosmological constant', 'spatial variation']
[22:04:55] select | no cosine prune; kept=20/20
[22:04:55] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ph/0101130', 'astro-ph/0102319', 'astro-ph/0101143', 'astro-ph/0103158', 'astro-ph/0103075', 'gr-qc/0104029', 'astro-ph/0104366', 'gr-qc/0102003', 'astro-ph/0101449', 'gr-qc/0103003']
[22:04:55] select | verify relaxed 1/10
[22:04:55] verify | func= Motivation | rank= 0 | pid= hep-ph/0101130 | title_snip='Spatial gradients in the cosmological constant' | abs_len= 1090
[22:04:58] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:04:58] select | verify relaxed 2/10
[22:04:58] verify | func= Motivation | rank= 1 | pid= astro-ph/0102319 | title_snip='Overconstrained dynamics in galaxy redshift surveys' | abs_len= 1775
[22:05:01] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:05:01] select | verify relaxed 3/10
[22:05:01] verify | func= Motivation | rank= 2 | pid= astro-ph/0101143 | title_snip='On the trispectrum as a gaussian test for cosmology' | abs_len= 1444
[22:05:03] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:05:03] select | verify relaxed 4/10
[22:05:03] verify | func= Motivation | rank= 3 | pid= astro-ph/0103158 | title_snip='Exploring Topology of the Universe in the Cosmic Microwave Background' | abs_len= 1539
[22:05:06] verify | result supports= False fit= 0.00 top= 0.50 invalid= no_quote cue_hint= False
[22:05:06] select | verify relaxed 5/10
[22:05:06] verify | func= Motivation | rank= 4 | pid= astro-ph/0103075 | title_snip='Supernova constraints on spatial variations of the vacuum energy densiâ€¦' | abs_len= 810
[22:05:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:05:09] select | verify relaxed 6/10
[22:05:09] verify | func= Motivation | rank= 5 | pid= gr-qc/0104029 | title_snip='An alternative to Minkowski space-time' | abs_len= 1230
[22:05:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:05:12] select | verify relaxed 7/10
[22:05:12] verify | func= Motivation | rank= 6 | pid= astro-ph/0104366 | title_snip='Concerning Parameter Estimation Using the Cosmic Microwave Background' | abs_len= 1521
[22:05:14] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:05:14] select | verify relaxed 8/10
[22:05:14] verify | func= Motivation | rank= 7 | pid= gr-qc/0102003 | title_snip='Time-Variation of the Gravitational Constant and the Machian Solution â€¦' | abs_len= 769
[22:05:16] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:05:16] select | verify relaxed 9/10
[22:05:16] verify | func= Motivation | rank= 8 | pid= astro-ph/0101449 | title_snip='Lensing-induced Non-Gaussian Signatures in the Cosmic Microwave
  Backâ€¦' | abs_len= 1719
[22:05:19] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:05:19] select | verify relaxed 10/10
[22:05:19] verify | func= Motivation | rank= 9 | pid= gr-qc/0103003 | title_snip='Varying Cosmological Constant and the Machian Solution in the
  Generaâ€¦' | abs_len= 1092
[22:05:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : What method or result from previous work is used to motivate the investigation of spatial variation in the cosmological constant?
- WINNER: hep-ph/0101130 | Spatial gradients in the cosmological constant
- QUOTE : differences in the fundamental physical parameters
- WHY   : sufficient
- ANSWER: The investigation of spatial variation in the cosmological constant is motivated by the possibility that small variations in other physical parameters could produce huge variations in the cosmological constant, making it a sensitive indicator of spatial gradients. This sensitivity provides a powerful indirect test of spatial variation in fundamental physical parameters (hep-ph/0101130).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
