âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "Motivation"
  ],
  "justification": "The query seeks a comparative analysis with prior work and asks why the relationship between ACM and glicci schemes is worth investigating."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[00:16:01] main | args: Namespace(max_check=10, debug=True)
[00:16:01] read_last_jsonl | path= classified_outputs.jsonl
[00:16:01] read_last_jsonl | total_lines= 1
[00:16:01] main | query='How does the current work compare to previous studies in terms of the relationship between ACM and glicci schemes, and what motivates the investigation of this relationship?' | funcs=['Compares', 'Motivation']
[00:16:02] main | core_terms= ['ACM', 'glicci schemes', 'relationship']
[00:16:02] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[00:16:02] load_topk_jsonl | rows= 20
[00:16:02] load_topk_jsonl | first: rank= 0 paper_id= math/0103188 title_snip='Monomial ideals and the Gorenstein liaison class of a complete
  interâ€¦' abs_len= 1057
[00:16:02] main | running function= Compares
[00:16:02] select | function= Compares | candidates_in= 20
[00:16:02] select | core_terms= ['ACM', 'glicci schemes', 'relationship']
[00:16:02] select | no cosine prune; kept=20/20
[00:16:02] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['math/0103188', 'hep-lat/0101019', 'nucl-th/0101058', 'cond-mat/0103424', 'nucl-th/0103002', 'hep-ex/0101009', 'hep-ph/0103299', 'cond-mat/0102536', 'astro-ph/0103503', 'hep-ph/0104290']
[00:16:02] select | verify relaxed 1/10
[00:16:02] verify | func= Compares | rank= 0 | pid= math/0103188 | title_snip='Monomial ideals and the Gorenstein liaison class of a complete
  interâ€¦' | abs_len= 1057
[00:16:06] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:16:06] select | verify relaxed 2/10
[00:16:06] verify | func= Compares | rank= 1 | pid= hep-lat/0101019 | title_snip='Comparison Studies of Finite Momentum Correlators on Anisotropic and
 â€¦' | abs_len= 552
[00:16:08] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:08] select | verify relaxed 3/10
[00:16:08] verify | func= Compares | rank= 2 | pid= nucl-th/0101058 | title_snip='Neutron electric dipole moment: Constituent-dressing and compositeness' | abs_len= 648
[00:16:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:11] select | verify relaxed 4/10
[00:16:11] verify | func= Compares | rank= 3 | pid= cond-mat/0103424 | title_snip='Antiferromagnetically coupled alternating spin chains' | abs_len= 1080
[00:16:13] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:13] select | verify relaxed 5/10
[00:16:13] verify | func= Compares | rank= 4 | pid= nucl-th/0103002 | title_snip='Tensor Analyzing Power and Current Conservation in the d+p->3He+g
  reâ€¦' | abs_len= 480
[00:16:16] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:16] select | verify relaxed 6/10
[00:16:16] verify | func= Compares | rank= 5 | pid= hep-ex/0101009 | title_snip='Recent Results on Particle Production from OPAL' | abs_len= 980
[00:16:18] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:18] select | verify relaxed 7/10
[00:16:18] verify | func= Compares | rank= 6 | pid= hep-ph/0103299 | title_snip='Constraining Models of New Physics in Light of Recent Experimental
  Râ€¦' | abs_len= 780
[00:16:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:21] select | verify relaxed 8/10
[00:16:21] verify | func= Compares | rank= 7 | pid= cond-mat/0102536 | title_snip='Impact of Electron-Electron Cusp on Configuration Interaction Energies' | abs_len= 1106
[00:16:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:23] select | verify relaxed 9/10
[00:16:23] verify | func= Compares | rank= 8 | pid= astro-ph/0103503 | title_snip='MLAPM - a C code for cosmological simulations' | abs_len= 1536
[00:16:27] verify | result supports= False fit= 0.00 top= 0.60 invalid= off_topic_no_core_in_abstract cue_hint= True
[00:16:27] select | verify relaxed 10/10
[00:16:27] verify | func= Compares | rank= 9 | pid= hep-ph/0104290 | title_snip='On a QCD-based pion distribution amplitude vs. recent experimental datâ€¦' | abs_len= 547
[00:16:29] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the current work compare to previous studies in terms of the relationship between ACM and glicci schemes, and what motivates the investigation of this relationship?
- WINNER: math/0103188 | Monomial ideals and the Gorenstein liaison class of a complete
  intersection
- QUOTE : any Hilbert function that occurs among ACM schemes in fact occurs among glicci schemes
- WHY   : sufficient
- ANSWER: The current work compares the relationship between ACM and glicci schemes to previous studies, which had only established the equivalence in codimension two, by investigating the converse implication in higher codimension. The investigation is motivated by the fact that the converse is an important open question, and the authors' results show that any Hilbert function among ACM schemes also occurs among glicci schemes, unlike when restricted to complete intersection links (math/0103188).
[00:16:35] main | running function= Motivation
[00:16:35] select | function= Motivation | candidates_in= 20
[00:16:35] select | core_terms= ['ACM', 'glicci schemes', 'relationship']
[00:16:35] select | no cosine prune; kept=20/20
[00:16:35] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['math/0103188', 'hep-lat/0101019', 'nucl-th/0101058', 'cond-mat/0103424', 'nucl-th/0103002', 'hep-ex/0101009', 'hep-ph/0103299', 'cond-mat/0102536', 'astro-ph/0103503', 'hep-ph/0104290']
[00:16:35] select | verify relaxed 1/10
[00:16:35] verify | func= Motivation | rank= 0 | pid= math/0103188 | title_snip='Monomial ideals and the Gorenstein liaison class of a complete
  interâ€¦' | abs_len= 1057
[00:16:38] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:16:38] select | verify relaxed 2/10
[00:16:38] verify | func= Motivation | rank= 1 | pid= hep-lat/0101019 | title_snip='Comparison Studies of Finite Momentum Correlators on Anisotropic and
 â€¦' | abs_len= 552
[00:16:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:41] select | verify relaxed 3/10
[00:16:41] verify | func= Motivation | rank= 2 | pid= nucl-th/0101058 | title_snip='Neutron electric dipole moment: Constituent-dressing and compositeness' | abs_len= 648
[00:16:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:43] select | verify relaxed 4/10
[00:16:43] verify | func= Motivation | rank= 3 | pid= cond-mat/0103424 | title_snip='Antiferromagnetically coupled alternating spin chains' | abs_len= 1080
[00:16:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:46] select | verify relaxed 5/10
[00:16:46] verify | func= Motivation | rank= 4 | pid= nucl-th/0103002 | title_snip='Tensor Analyzing Power and Current Conservation in the d+p->3He+g
  reâ€¦' | abs_len= 480
[00:16:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:48] select | verify relaxed 6/10
[00:16:48] verify | func= Motivation | rank= 5 | pid= hep-ex/0101009 | title_snip='Recent Results on Particle Production from OPAL' | abs_len= 980
[00:16:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:50] select | verify relaxed 7/10
[00:16:50] verify | func= Motivation | rank= 6 | pid= hep-ph/0103299 | title_snip='Constraining Models of New Physics in Light of Recent Experimental
  Râ€¦' | abs_len= 780
[00:16:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:53] select | verify relaxed 8/10
[00:16:53] verify | func= Motivation | rank= 7 | pid= cond-mat/0102536 | title_snip='Impact of Electron-Electron Cusp on Configuration Interaction Energies' | abs_len= 1106
[00:16:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:55] select | verify relaxed 9/10
[00:16:55] verify | func= Motivation | rank= 8 | pid= astro-ph/0103503 | title_snip='MLAPM - a C code for cosmological simulations' | abs_len= 1536
[00:16:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:16:58] select | verify relaxed 10/10
[00:16:58] verify | func= Motivation | rank= 9 | pid= hep-ph/0104290 | title_snip='On a QCD-based pion distribution amplitude vs. recent experimental datâ€¦' | abs_len= 547
[00:17:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the current work compare to previous studies in terms of the relationship between ACM and glicci schemes, and what motivates the investigation of this relationship?
- WINNER: math/0103188 | Monomial ideals and the Gorenstein liaison class of a complete
  intersection
- QUOTE : the converse is an important open question
- WHY   : sufficient
- ANSWER: The current work investigates the relationship between ACM and glicci schemes because the converse of the implication that glicci schemes are ACM is an important open question in higher codimension. This investigation is motivated by the fact that the equivalence between ACM and licci schemes in codimension two does not hold in higher codimension (math/0103188).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
