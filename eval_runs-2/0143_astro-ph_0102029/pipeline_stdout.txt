âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "Extends"
  ],
  "justification": "The query seeks reasons why pulsation properties are important (motivation) and how they broaden our knowledge of evolutionary history (extends)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[00:17:22] main | args: Namespace(max_check=10, debug=True)
[00:17:22] read_last_jsonl | path= classified_outputs.jsonl
[00:17:22] read_last_jsonl | total_lines= 1
[00:17:22] main | query='How do the pulsation properties of SX Phe variables motivate and extend our understanding of their evolutionary history in Galactic Globular Clusters and Local Group dwarf galaxies?' | funcs=['Motivation', 'Extends']
[00:17:25] main | core_terms= ['SX Phe variables', 'Galactic Globular Clusters', 'Local Group dwarf galaxies', 'pulsation properties', 'evolutionary history', 'SX']
[00:17:25] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[00:17:25] load_topk_jsonl | rows= 20
[00:17:25] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0102029 title_snip='Linear nonadiabatic properties of SX Phoenicis variables' abs_len= 1177
[00:17:25] main | running function= Motivation
[00:17:25] select | function= Motivation | candidates_in= 20
[00:17:25] select | core_terms= ['SX Phe variables', 'Galactic Globular Clusters', 'Local Group dwarf galaxies', 'pulsation properties', 'evolutionary history', 'SX']
[00:17:25] select | no cosine prune; kept=20/20
[00:17:25] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102029', 'astro-ph/0101126', 'astro-ph/0103262', 'astro-ph/0102351', 'astro-ph/0104178', 'astro-ph/0102374', 'astro-ph/0101081', 'astro-ph/0102430', 'astro-ph/0101529', 'astro-ph/0103092']
[00:17:25] select | verify relaxed 1/10
[00:17:25] verify | func= Motivation | rank= 0 | pid= astro-ph/0102029 | title_snip='Linear nonadiabatic properties of SX Phoenicis variables' | abs_len= 1177
[00:17:28] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:17:28] select | verify relaxed 2/10
[00:17:28] verify | func= Motivation | rank= 1 | pid= astro-ph/0101126 | title_snip='Cluster AgeS Experiment. CCD photometry of SX Phoenicis variables in tâ€¦' | abs_len= 839
[00:17:32] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[00:17:32] select | verify relaxed 3/10
[00:17:32] verify | func= Motivation | rank= 2 | pid= astro-ph/0103262 | title_snip='The SZ Effect as a Probe of Non-Gravitational Entropy in Groups and
  â€¦' | abs_len= 1264
[00:17:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:17:34] select | verify relaxed 4/10
[00:17:34] verify | func= Motivation | rank= 3 | pid= astro-ph/0102351 | title_snip='A New SX Phe Star in the Globular Cluster M15' | abs_len= 1195
[00:17:37] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:17:37] select | verify relaxed 5/10
[00:17:37] verify | func= Motivation | rank= 4 | pid= astro-ph/0104178 | title_snip='SX Phoenicis Stars in the Core of 47 Tucanae' | abs_len= 948
[00:17:40] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[00:17:40] select | verify relaxed 6/10
[00:17:40] verify | func= Motivation | rank= 5 | pid= astro-ph/0102374 | title_snip='Properties of Globular Cluster Systems in Nearby Early-type Galaxies' | abs_len= 1697
[00:17:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:17:43] select | verify relaxed 7/10
[00:17:43] verify | func= Motivation | rank= 6 | pid= astro-ph/0101081 | title_snip='Galactic nuclear activity induced by globular cluster merging' | abs_len= 503
[00:17:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:17:45] select | verify relaxed 8/10
[00:17:45] verify | func= Motivation | rank= 7 | pid= astro-ph/0102430 | title_snip='Probing the Evolution of Gas Mass Fraction with Sunyaev-Zel'dovich
  Eâ€¦' | abs_len= 1039
[00:17:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:17:48] select | verify relaxed 9/10
[00:17:48] verify | func= Motivation | rank= 8 | pid= astro-ph/0101529 | title_snip='Expectations for SZ cluster counts: mass function versus X-ray
  luminâ€¦' | abs_len= 1204
[00:17:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:17:50] select | verify relaxed 10/10
[00:17:50] verify | func= Motivation | rank= 9 | pid= astro-ph/0103092 | title_snip='The evolution of the galaxy distribution' | abs_len= 1552
[00:17:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How do the pulsation properties of SX Phe variables motivate and extend our understanding of their evolutionary history in Galactic Globular Clusters and Local Group dwarf galaxies?
- WINNER: astro-ph/0102029 | Linear nonadiabatic properties of SX Phoenicis variables
- QUOTE : pulsation properties of SX Phe can be soundly adopted to constrain the evolutionary history
- WHY   : sufficient
- ANSWER: The pulsation properties of SX Phe variables are crucial for understanding their evolutionary history in Galactic Globular Clusters and Local Group dwarf galaxies because they can constrain the formation mechanisms of Blue Stragglers. This is important because the pulsation properties are sensitive to factors like metal content and helium envelope content, which can reveal the underlying physical processes that shape their evolution (astro-ph/0102029).
[00:17:57] main | running function= Extends
[00:17:57] select | function= Extends | candidates_in= 20
[00:17:57] select | core_terms= ['SX Phe variables', 'Galactic Globular Clusters', 'Local Group dwarf galaxies', 'pulsation properties', 'evolutionary history', 'SX']
[00:17:57] select | no cosine prune; kept=20/20
[00:17:57] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102029', 'astro-ph/0101126', 'astro-ph/0103262', 'astro-ph/0102351', 'astro-ph/0104178', 'astro-ph/0102374', 'astro-ph/0101081', 'astro-ph/0102430', 'astro-ph/0101529', 'astro-ph/0103092']
[00:17:57] select | verify relaxed 1/10
[00:17:57] verify | func= Extends | rank= 0 | pid= astro-ph/0102029 | title_snip='Linear nonadiabatic properties of SX Phoenicis variables' | abs_len= 1177
[00:18:01] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:18:01] select | verify relaxed 2/10
[00:18:01] verify | func= Extends | rank= 1 | pid= astro-ph/0101126 | title_snip='Cluster AgeS Experiment. CCD photometry of SX Phoenicis variables in tâ€¦' | abs_len= 839
[00:18:04] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:18:04] select | verify relaxed 3/10
[00:18:04] verify | func= Extends | rank= 2 | pid= astro-ph/0103262 | title_snip='The SZ Effect as a Probe of Non-Gravitational Entropy in Groups and
  â€¦' | abs_len= 1264
[00:18:06] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:18:06] select | verify relaxed 4/10
[00:18:06] verify | func= Extends | rank= 3 | pid= astro-ph/0102351 | title_snip='A New SX Phe Star in the Globular Cluster M15' | abs_len= 1195
[00:18:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:18:09] select | verify relaxed 5/10
[00:18:09] verify | func= Extends | rank= 4 | pid= astro-ph/0104178 | title_snip='SX Phoenicis Stars in the Core of 47 Tucanae' | abs_len= 948
[00:18:13] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[00:18:13] select | verify relaxed 6/10
[00:18:13] verify | func= Extends | rank= 5 | pid= astro-ph/0102374 | title_snip='Properties of Globular Cluster Systems in Nearby Early-type Galaxies' | abs_len= 1697
[00:18:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:18:15] select | verify relaxed 7/10
[00:18:15] verify | func= Extends | rank= 6 | pid= astro-ph/0101081 | title_snip='Galactic nuclear activity induced by globular cluster merging' | abs_len= 503
[00:18:17] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:18:17] select | verify relaxed 8/10
[00:18:17] verify | func= Extends | rank= 7 | pid= astro-ph/0102430 | title_snip='Probing the Evolution of Gas Mass Fraction with Sunyaev-Zel'dovich
  Eâ€¦' | abs_len= 1039
[00:18:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:18:20] select | verify relaxed 9/10
[00:18:20] verify | func= Extends | rank= 8 | pid= astro-ph/0101529 | title_snip='Expectations for SZ cluster counts: mass function versus X-ray
  luminâ€¦' | abs_len= 1204
[00:18:22] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:18:22] select | verify relaxed 10/10
[00:18:22] verify | func= Extends | rank= 9 | pid= astro-ph/0103092 | title_snip='The evolution of the galaxy distribution' | abs_len= 1552
[00:18:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How do the pulsation properties of SX Phe variables motivate and extend our understanding of their evolutionary history in Galactic Globular Clusters and Local Group dwarf galaxies?
- WINNER: astro-ph/0102029 | Linear nonadiabatic properties of SX Phoenicis variables
- QUOTE : pulsation properties of SX Phe can be soundly adopted to constrain the evolutionary history
- WHY   : sufficient
- ANSWER: The pulsation properties of SX Phe variables extend our understanding of their evolutionary history by providing a means to constrain the formation mechanisms of Blue Stragglers in Galactic Globular Clusters and Local Group dwarf galaxies. This is achieved by improving the accuracy of pulsational models through the consideration of metal content and helium envelope effects (astro-ph/0102029).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
