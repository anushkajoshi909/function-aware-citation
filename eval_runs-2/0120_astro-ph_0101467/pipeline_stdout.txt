âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "Extends"
  ],
  "justification": "The query explicitly asks how the new approach compares with prior methods and how it extends them."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:47:47] main | args: Namespace(max_check=10, debug=True)
[23:47:47] read_last_jsonl | path= classified_outputs.jsonl
[23:47:47] read_last_jsonl | total_lines= 1
[23:47:47] main | query='How does the current work's approach to simulating X-ray surface brightness distribution compare to and extend existing methods for predicting the extra-galactic X-ray background?' | funcs=['Compares', 'Extends']
[23:47:49] main | core_terms= ['X-ray', 'extra-galactic X-ray background', 'surface brightness distribution', 'extra-galactic']
[23:47:49] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:47:49] load_topk_jsonl | rows= 20
[23:47:49] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101467 title_snip='The X-ray surface brightness distribution from diffuse gas' abs_len= 1509
[23:47:49] main | running function= Compares
[23:47:49] select | function= Compares | candidates_in= 20
[23:47:49] select | core_terms= ['X-ray', 'extra-galactic X-ray background', 'surface brightness distribution', 'extra-galactic']
[23:47:49] select | no cosine prune; kept=20/20
[23:47:49] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101467', 'astro-ph/0101466', 'astro-ph/0102297', 'astro-ph/0102214', 'astro-ph/0101084', 'astro-ph/0104366', 'astro-ph/0101313', 'astro-ph/0102165', 'astro-ph/0102206', 'astro-ph/0103439']
[23:47:49] select | verify relaxed 1/10
[23:47:49] verify | func= Compares | rank= 0 | pid= astro-ph/0101467 | title_snip='The X-ray surface brightness distribution from diffuse gas' | abs_len= 1509
[23:47:52] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:47:52] select | verify relaxed 2/10
[23:47:52] verify | func= Compares | rank= 1 | pid= astro-ph/0101466 | title_snip='On the Distribution of X-ray Surface Brightness from Diffuse Gas' | abs_len= 1212
[23:47:55] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:47:55] select | verify relaxed 3/10
[23:47:55] verify | func= Compares | rank= 2 | pid= astro-ph/0102297 | title_snip='Comparison of source detection procedures for XMM-Newton images' | abs_len= 1589
[23:47:58] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[23:47:58] select | verify relaxed 4/10
[23:47:58] verify | func= Compares | rank= 3 | pid= astro-ph/0102214 | title_snip='The Tolman Surface Brightness Test for the Reality of the Expansion. Iâ€¦' | abs_len= 1793
[23:48:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:48:00] select | verify relaxed 5/10
[23:48:00] verify | func= Compares | rank= 4 | pid= astro-ph/0101084 | title_snip='Global Evolution Models and the Extragalactic Background Light' | abs_len= 709
[23:48:03] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:48:03] select | verify relaxed 6/10
[23:48:03] verify | func= Compares | rank= 5 | pid= astro-ph/0104366 | title_snip='Concerning Parameter Estimation Using the Cosmic Microwave Background' | abs_len= 1521
[23:48:05] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:48:05] select | verify relaxed 7/10
[23:48:05] verify | func= Compares | rank= 6 | pid= astro-ph/0101313 | title_snip='Measuring the brightness temperature distribution of extragalactic radâ€¦' | abs_len= 1194
[23:48:08] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:48:08] select | verify relaxed 8/10
[23:48:08] verify | func= Compares | rank= 7 | pid= astro-ph/0102165 | title_snip='Cluster physics from joint weak gravitational lensing and
  Sunyaev-Zeâ€¦' | abs_len= 1276
[23:48:11] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[23:48:11] select | verify relaxed 9/10
[23:48:11] verify | func= Compares | rank= 8 | pid= astro-ph/0102206 | title_snip='On the Contribution of Unresolved Galactic Stars to the Diffuse Soft
 â€¦' | abs_len= 740
[23:48:14] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:48:14] select | verify relaxed 10/10
[23:48:14] verify | func= Compares | rank= 9 | pid= astro-ph/0103439 | title_snip='Deep Sky Objects and the X-ray Background' | abs_len= 461
[23:48:17] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:48:19] arbiter | rejected off-topic winner: astro-ph/0102297

================================================================================
FUNCTION: Compares
QUERY   : How does the current work's approach to simulating X-ray surface brightness distribution compare to and extend existing methods for predicting the extra-galactic X-ray background?
- No supporting candidate with sufficient evidence.
- ANSWER: The abstract does not provide information relevant to Compares.
[23:48:19] main | running function= Extends
[23:48:19] select | function= Extends | candidates_in= 20
[23:48:19] select | core_terms= ['X-ray', 'extra-galactic X-ray background', 'surface brightness distribution', 'extra-galactic']
[23:48:19] select | no cosine prune; kept=20/20
[23:48:19] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101467', 'astro-ph/0101466', 'astro-ph/0102297', 'astro-ph/0102214', 'astro-ph/0101084', 'astro-ph/0104366', 'astro-ph/0101313', 'astro-ph/0102165', 'astro-ph/0102206', 'astro-ph/0103439']
[23:48:19] select | verify relaxed 1/10
[23:48:19] verify | func= Extends | rank= 0 | pid= astro-ph/0101467 | title_snip='The X-ray surface brightness distribution from diffuse gas' | abs_len= 1509
[23:48:22] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:48:22] select | verify relaxed 2/10
[23:48:22] verify | func= Extends | rank= 1 | pid= astro-ph/0101466 | title_snip='On the Distribution of X-ray Surface Brightness from Diffuse Gas' | abs_len= 1212
[23:48:25] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:48:25] select | verify relaxed 3/10
[23:48:25] verify | func= Extends | rank= 2 | pid= astro-ph/0102297 | title_snip='Comparison of source detection procedures for XMM-Newton images' | abs_len= 1589
[23:48:28] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:48:28] select | verify relaxed 4/10
[23:48:28] verify | func= Extends | rank= 3 | pid= astro-ph/0102214 | title_snip='The Tolman Surface Brightness Test for the Reality of the Expansion. Iâ€¦' | abs_len= 1793
[23:48:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:48:31] select | verify relaxed 5/10
[23:48:31] verify | func= Extends | rank= 4 | pid= astro-ph/0101084 | title_snip='Global Evolution Models and the Extragalactic Background Light' | abs_len= 709
[23:48:33] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:48:33] select | verify relaxed 6/10
[23:48:33] verify | func= Extends | rank= 5 | pid= astro-ph/0104366 | title_snip='Concerning Parameter Estimation Using the Cosmic Microwave Background' | abs_len= 1521
[23:48:36] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:48:36] select | verify relaxed 7/10
[23:48:36] verify | func= Extends | rank= 6 | pid= astro-ph/0101313 | title_snip='Measuring the brightness temperature distribution of extragalactic radâ€¦' | abs_len= 1194
[23:48:38] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:48:38] select | verify relaxed 8/10
[23:48:38] verify | func= Extends | rank= 7 | pid= astro-ph/0102165 | title_snip='Cluster physics from joint weak gravitational lensing and
  Sunyaev-Zeâ€¦' | abs_len= 1276
[23:48:42] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:48:42] select | verify relaxed 9/10
[23:48:42] verify | func= Extends | rank= 8 | pid= astro-ph/0102206 | title_snip='On the Contribution of Unresolved Galactic Stars to the Diffuse Soft
 â€¦' | abs_len= 740
[23:48:45] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:48:45] select | verify relaxed 10/10
[23:48:45] verify | func= Extends | rank= 9 | pid= astro-ph/0103439 | title_snip='Deep Sky Objects and the X-ray Background' | abs_len= 461
[23:48:49] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How does the current work's approach to simulating X-ray surface brightness distribution compare to and extend existing methods for predicting the extra-galactic X-ray background?
- WINNER: astro-ph/0101467 | The X-ray surface brightness distribution from diffuse gas
- QUOTE : We use simulations to predict the X-ray surface brightness distribution
- WHY   : sufficient
- ANSWER: The current work extends existing methods for predicting the extra-galactic X-ray background by using simulations to compute the X-ray surface brightness distribution from diffuse gas, providing a more detailed and restrictive lower bound on the predicted level. This approach improves upon prior methods by considering the effects of resolution, simulation volume, and pixel size, and explores the impact of non-gravitational heating on the predicted background (astro-ph/0101467).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
