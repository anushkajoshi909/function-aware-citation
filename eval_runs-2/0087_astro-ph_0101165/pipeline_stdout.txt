âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "FutureWork"
  ],
  "justification": "The query requests a comparison of the study's results with other works and asks about suggested future research directions."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:05:40] main | args: Namespace(max_check=10, debug=True)
[23:05:40] read_last_jsonl | path= classified_outputs.jsonl
[23:05:40] read_last_jsonl | total_lines= 1
[23:05:40] main | query='How do the results of this study on radiative shock waves compare to other works, and what future research directions are suggested by the findings on shock wave structure and radiation flux?' | funcs=['Compares', 'FutureWork']
[23:05:43] main | core_terms= ['radiative shock waves', 'shock wave', 'radiation flux']
[23:05:43] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:05:43] load_topk_jsonl | rows= 20
[23:05:43] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0103108 title_snip='Radiative Hydromagnetic Shocks in Relativistic Outflow Sources' abs_len= 1788
[23:05:43] main | running function= Compares
[23:05:43] select | function= Compares | candidates_in= 20
[23:05:43] select | core_terms= ['radiative shock waves', 'shock wave', 'radiation flux']
[23:05:43] select | no cosine prune; kept=20/20
[23:05:43] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0103108', 'astro-ph/0101291', 'astro-ph/0101165', 'astro-ph/0101175', 'astro-ph/0102091', 'astro-ph/0104120', 'astro-ph/0102434', 'astro-ph/0102276', 'astro-ph/0103424', 'hep-ph/0101112']
[23:05:43] select | verify relaxed 1/10
[23:05:43] verify | func= Compares | rank= 0 | pid= astro-ph/0103108 | title_snip='Radiative Hydromagnetic Shocks in Relativistic Outflow Sources' | abs_len= 1788
[23:05:46] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:05:46] select | verify relaxed 2/10
[23:05:46] verify | func= Compares | rank= 1 | pid= astro-ph/0101291 | title_snip='On the origin of Gamma Ray Burst radiation' | abs_len= 449
[23:05:49] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:05:49] select | verify relaxed 3/10
[23:05:49] verify | func= Compares | rank= 2 | pid= astro-ph/0101165 | title_snip='The structure of radiative shock waves. III. The model grid for
  partâ€¦' | abs_len= 1734
[23:05:52] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:05:52] select | verify relaxed 4/10
[23:05:52] verify | func= Compares | rank= 3 | pid= astro-ph/0101175 | title_snip='Shock Acceleration of Cosmic Rays - a critical review' | abs_len= 799
[23:05:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:05:54] select | verify relaxed 5/10
[23:05:54] verify | func= Compares | rank= 4 | pid= astro-ph/0102091 | title_snip='Modeling the production of flares in $\gamma$-ray quasars' | abs_len= 1551
[23:05:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:05:57] select | verify relaxed 6/10
[23:05:57] verify | func= Compares | rank= 5 | pid= astro-ph/0104120 | title_snip='Numerical Simulations of Relativistic Shock Acceleration' | abs_len= 1002
[23:06:00] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:06:00] select | verify relaxed 7/10
[23:06:00] verify | func= Compares | rank= 6 | pid= astro-ph/0102434 | title_snip='Stability analyses of two-temperature radiative shocks: formulation,
 â€¦' | abs_len= 1257
[23:06:03] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:06:03] select | verify relaxed 8/10
[23:06:03] verify | func= Compares | rank= 7 | pid= astro-ph/0102276 | title_snip='The Pearson-Readhead Survey of Compact Extragalactic Radio Sources Froâ€¦' | abs_len= 1783
[23:06:06] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:06:06] select | verify relaxed 9/10
[23:06:06] verify | func= Compares | rank= 8 | pid= astro-ph/0103424 | title_snip='Internal shocks in the jets of radio-loud quasars' | abs_len= 1696
[23:06:10] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:06:10] select | verify relaxed 10/10
[23:06:10] verify | func= Compares | rank= 9 | pid= hep-ph/0101112 | title_snip='Radiative transitions in mesons in a non relativistic quark model' | abs_len= 560
[23:06:12] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How do the results of this study on radiative shock waves compare to other works, and what future research directions are suggested by the findings on shock wave structure and radiation flux?
- WINNER: astro-ph/0104120 | Numerical Simulations of Relativistic Shock Acceleration
- QUOTE : Contrary to non-relativistic shocks
- WHY   : sufficient
- ANSWER: The results of this study on relativistic shock waves are compared to non-relativistic shocks, showing that cosmic ray spectra at relativistic shock waves depend substantially on magnetic field configurations and turbulence spectra. The findings suggest that the theory of cosmic ray acceleration in relativistic shock waves is not able to uniquely explain observed synchrotron spectra, differing from other works that may not account for these complexities (astro-ph/0104120).
[23:06:17] main | running function= FutureWork
[23:06:17] select | function= FutureWork | candidates_in= 20
[23:06:17] select | core_terms= ['radiative shock waves', 'shock wave', 'radiation flux']
[23:06:17] select | no cosine prune; kept=20/20
[23:06:17] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0103108', 'astro-ph/0101291', 'astro-ph/0101165', 'astro-ph/0101175', 'astro-ph/0102091', 'astro-ph/0104120', 'astro-ph/0102434', 'astro-ph/0102276', 'astro-ph/0103424', 'hep-ph/0101112']
[23:06:17] select | verify relaxed 1/10
[23:06:17] verify | func= FutureWork | rank= 0 | pid= astro-ph/0103108 | title_snip='Radiative Hydromagnetic Shocks in Relativistic Outflow Sources' | abs_len= 1788
[23:06:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:06:20] select | verify relaxed 2/10
[23:06:20] verify | func= FutureWork | rank= 1 | pid= astro-ph/0101291 | title_snip='On the origin of Gamma Ray Burst radiation' | abs_len= 449
[23:06:23] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:06:23] select | verify relaxed 3/10
[23:06:23] verify | func= FutureWork | rank= 2 | pid= astro-ph/0101165 | title_snip='The structure of radiative shock waves. III. The model grid for
  partâ€¦' | abs_len= 1734
[23:06:26] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:06:26] select | verify relaxed 4/10
[23:06:26] verify | func= FutureWork | rank= 3 | pid= astro-ph/0101175 | title_snip='Shock Acceleration of Cosmic Rays - a critical review' | abs_len= 799
[23:06:29] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:06:29] select | verify relaxed 5/10
[23:06:29] verify | func= FutureWork | rank= 4 | pid= astro-ph/0102091 | title_snip='Modeling the production of flares in $\gamma$-ray quasars' | abs_len= 1551
[23:06:32] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:06:32] select | verify relaxed 6/10
[23:06:32] verify | func= FutureWork | rank= 5 | pid= astro-ph/0104120 | title_snip='Numerical Simulations of Relativistic Shock Acceleration' | abs_len= 1002
[23:06:35] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[23:06:35] select | verify relaxed 7/10
[23:06:35] verify | func= FutureWork | rank= 6 | pid= astro-ph/0102434 | title_snip='Stability analyses of two-temperature radiative shocks: formulation,
 â€¦' | abs_len= 1257
[23:06:37] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[23:06:37] select | verify relaxed 8/10
[23:06:37] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102276 | title_snip='The Pearson-Readhead Survey of Compact Extragalactic Radio Sources Froâ€¦' | abs_len= 1783
[23:06:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:06:40] select | verify relaxed 9/10
[23:06:40] verify | func= FutureWork | rank= 8 | pid= astro-ph/0103424 | title_snip='Internal shocks in the jets of radio-loud quasars' | abs_len= 1696
[23:06:43] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:06:43] select | verify relaxed 10/10
[23:06:43] verify | func= FutureWork | rank= 9 | pid= hep-ph/0101112 | title_snip='Radiative transitions in mesons in a non relativistic quark model' | abs_len= 560
[23:06:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How do the results of this study on radiative shock waves compare to other works, and what future research directions are suggested by the findings on shock wave structure and radiation flux?
- No supporting candidate with sufficient evidence.
- ANSWER: The abstract does not provide information relevant to FutureWork.

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
