âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "Uses"
  ],
  "justification": "The query explicitly asks to compare the model predictions with observed counts and also concerns how the model is applied to assess the contribution of star\u2011forming galaxies."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[22:08:40] main | args: Namespace(max_check=10, debug=True)
[22:08:40] read_last_jsonl | path= classified_outputs.jsonl
[22:08:40] read_last_jsonl | total_lines= 1
[22:08:40] main | query='How does the use of the empirical infrared galaxy number count model of Takeuchi et al. (2001) compare to the observed source counts in terms of evaluating the contribution of star forming galaxies to the faint radio galaxies?' | funcs=['Compares', 'Uses']
[22:08:42] main | core_terms= ['galaxies', 'Takeuchi et al. (2001) model', 'infrared galaxy number count', 'star forming galaxies', 'faint radio galaxies']
[22:08:42] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[22:08:42] load_topk_jsonl | rows= 20
[22:08:42] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101555 title_snip='Impact of Future Submillimeter and Millimeter Large Facilities on the
â€¦' abs_len= 1462
[22:08:42] main | running function= Compares
[22:08:42] select | function= Compares | candidates_in= 20
[22:08:42] select | core_terms= ['galaxies', 'Takeuchi et al. (2001) model', 'infrared galaxy number count', 'star forming galaxies', 'faint radio galaxies']
[22:08:42] select | no cosine prune; kept=20/20
[22:08:42] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101555', 'astro-ph/0103078', 'astro-ph/0101158', 'astro-ph/0102206', 'astro-ph/0101095', 'astro-ph/0104310', 'astro-ph/0102297', 'astro-ph/0104425', 'astro-ph/0101445', 'astro-ph/0102276']
[22:08:42] select | verify relaxed 1/10
[22:08:42] verify | func= Compares | rank= 0 | pid= astro-ph/0101555 | title_snip='Impact of Future Submillimeter and Millimeter Large Facilities on the
â€¦' | abs_len= 1462
[22:08:46] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[22:08:46] select | verify relaxed 2/10
[22:08:46] verify | func= Compares | rank= 1 | pid= astro-ph/0103078 | title_snip='The Cosmic Infrared Background at 1.25 microns and 2.2 microns using
 â€¦' | abs_len= 865
[22:08:49] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:08:49] select | verify relaxed 3/10
[22:08:49] verify | func= Compares | rank= 2 | pid= astro-ph/0101158 | title_snip='The Far-Infrared/Radio Correlation in Nearby Abell Clusters' | abs_len= 1764
[22:08:52] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:08:52] select | verify relaxed 4/10
[22:08:52] verify | func= Compares | rank= 3 | pid= astro-ph/0102206 | title_snip='On the Contribution of Unresolved Galactic Stars to the Diffuse Soft
 â€¦' | abs_len= 740
[22:08:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:08:54] select | verify relaxed 5/10
[22:08:54] verify | func= Compares | rank= 4 | pid= astro-ph/0101095 | title_snip='Faint field galaxies: an explanation of the faint blue excess using
  â€¦' | abs_len= 1461
[22:08:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:08:57] select | verify relaxed 6/10
[22:08:57] verify | func= Compares | rank= 5 | pid= astro-ph/0104310 | title_snip='The environments of radio-loud quasars' | abs_len= 815
[22:09:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:00] select | verify relaxed 7/10
[22:09:00] verify | func= Compares | rank= 6 | pid= astro-ph/0102297 | title_snip='Comparison of source detection procedures for XMM-Newton images' | abs_len= 1589
[22:09:02] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:02] select | verify relaxed 8/10
[22:09:02] verify | func= Compares | rank= 7 | pid= astro-ph/0104425 | title_snip='A Comparison of Independent Star Formation Diagnostics for a UV-Selectâ€¦' | abs_len= 1237
[22:09:05] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:09:05] select | verify relaxed 9/10
[22:09:05] verify | func= Compares | rank= 8 | pid= astro-ph/0101445 | title_snip='A critical appraisal of the SED fitting method to estimate photometricâ€¦' | abs_len= 708
[22:09:07] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:07] select | verify relaxed 10/10
[22:09:07] verify | func= Compares | rank= 9 | pid= astro-ph/0102276 | title_snip='The Pearson-Readhead Survey of Compact Extragalactic Radio Sources Froâ€¦' | abs_len= 1783
[22:09:10] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the use of the empirical infrared galaxy number count model of Takeuchi et al. (2001) compare to the observed source counts in terms of evaluating the contribution of star forming galaxies to the faint radio galaxies?
- WINNER: astro-ph/0101555 | Impact of Future Submillimeter and Millimeter Large Facilities on the
  Studies of Galaxy Formation and Evolution
- QUOTE : compare the observed 1.4, 5, and 8-GHz source counts with our model counts
- WHY   : sufficient
- ANSWER: The empirical infrared galaxy number count model of Takeuchi et al. (2001) is compared to observed source counts at 1.4, 5, and 8-GHz to evaluate the contribution of star forming galaxies to faint radio galaxies.
[22:09:15] main | running function= Uses
[22:09:15] select | function= Uses | candidates_in= 20
[22:09:15] select | core_terms= ['galaxies', 'Takeuchi et al. (2001) model', 'infrared galaxy number count', 'star forming galaxies', 'faint radio galaxies']
[22:09:15] select | no cosine prune; kept=20/20
[22:09:15] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101555', 'astro-ph/0103078', 'astro-ph/0101158', 'astro-ph/0102206', 'astro-ph/0101095', 'astro-ph/0104310', 'astro-ph/0102297', 'astro-ph/0104425', 'astro-ph/0101445', 'astro-ph/0102276']
[22:09:15] select | verify relaxed 1/10
[22:09:15] verify | func= Uses | rank= 0 | pid= astro-ph/0101555 | title_snip='Impact of Future Submillimeter and Millimeter Large Facilities on the
â€¦' | abs_len= 1462
[22:09:18] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[22:09:18] select | verify relaxed 2/10
[22:09:18] verify | func= Uses | rank= 1 | pid= astro-ph/0103078 | title_snip='The Cosmic Infrared Background at 1.25 microns and 2.2 microns using
 â€¦' | abs_len= 865
[22:09:21] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[22:09:21] select | verify relaxed 3/10
[22:09:21] verify | func= Uses | rank= 2 | pid= astro-ph/0101158 | title_snip='The Far-Infrared/Radio Correlation in Nearby Abell Clusters' | abs_len= 1764
[22:09:24] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:09:24] select | verify relaxed 4/10
[22:09:24] verify | func= Uses | rank= 3 | pid= astro-ph/0102206 | title_snip='On the Contribution of Unresolved Galactic Stars to the Diffuse Soft
 â€¦' | abs_len= 740
[22:09:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:26] select | verify relaxed 5/10
[22:09:26] verify | func= Uses | rank= 4 | pid= astro-ph/0101095 | title_snip='Faint field galaxies: an explanation of the faint blue excess using
  â€¦' | abs_len= 1461
[22:09:29] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:09:29] select | verify relaxed 6/10
[22:09:29] verify | func= Uses | rank= 5 | pid= astro-ph/0104310 | title_snip='The environments of radio-loud quasars' | abs_len= 815
[22:09:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:31] select | verify relaxed 7/10
[22:09:31] verify | func= Uses | rank= 6 | pid= astro-ph/0102297 | title_snip='Comparison of source detection procedures for XMM-Newton images' | abs_len= 1589
[22:09:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:33] select | verify relaxed 8/10
[22:09:33] verify | func= Uses | rank= 7 | pid= astro-ph/0104425 | title_snip='A Comparison of Independent Star Formation Diagnostics for a UV-Selectâ€¦' | abs_len= 1237
[22:09:36] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[22:09:36] select | verify relaxed 9/10
[22:09:36] verify | func= Uses | rank= 8 | pid= astro-ph/0101445 | title_snip='A critical appraisal of the SED fitting method to estimate photometricâ€¦' | abs_len= 708
[22:09:38] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:09:38] select | verify relaxed 10/10
[22:09:38] verify | func= Uses | rank= 9 | pid= astro-ph/0102276 | title_snip='The Pearson-Readhead Survey of Compact Extragalactic Radio Sources Froâ€¦' | abs_len= 1783
[22:09:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How does the use of the empirical infrared galaxy number count model of Takeuchi et al. (2001) compare to the observed source counts in terms of evaluating the contribution of star forming galaxies to the faint radio galaxies?
- WINNER: astro-ph/0101555 | Impact of Future Submillimeter and Millimeter Large Facilities on the
  Studies of Galaxy Formation and Evolution
- QUOTE : using the empirical infrared galaxy number count model of Takeuchi et al. (2001)
- WHY   : sufficient
- ANSWER: The empirical infrared galaxy number count model of Takeuchi et al. (2001) is used to calculate source counts and evaluate the contribution of star forming galaxies to the faint radio galaxies, which is then compared to observed source counts.

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
