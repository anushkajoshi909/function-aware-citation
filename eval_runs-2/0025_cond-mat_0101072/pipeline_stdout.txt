âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Uses",
    "FutureWork"
  ],
  "justification": "The query asks how the method can be applied (Uses) and explicitly frames it as guidance for subsequent research (FutureWork)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[21:48:02] main | args: Namespace(max_check=10, debug=True)
[21:48:02] read_last_jsonl | path= classified_outputs.jsonl
[21:48:02] read_last_jsonl | total_lines= 1
[21:48:02] main | query='How can the method of polarisation conversion of electromagnetic waves in 2D electron systems be used in future research for polarisation spectroscopy applications?' | funcs=['Uses', 'FutureWork']
[21:48:04] main | core_terms= ['2D electron systems', 'electromagnetic waves', 'polarisation conversion', 'polarisation spectroscopy', '2D']
[21:48:04] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[21:48:04] load_topk_jsonl | rows= 20
[21:48:04] load_topk_jsonl | first: rank= 0 paper_id= cond-mat/0101072 title_snip='Total Polarisation Conversion in Two-dimensional Electron System underâ€¦' abs_len= 1194
[21:48:04] main | running function= Uses
[21:48:04] select | function= Uses | candidates_in= 20
[21:48:04] select | core_terms= ['2D electron systems', 'electromagnetic waves', 'polarisation conversion', 'polarisation spectroscopy', '2D']
[21:48:04] select | no cosine prune; kept=20/20
[21:48:04] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['cond-mat/0101072', 'cond-mat/0101196', 'math-ph/0101034', 'cond-mat/0103541', 'cond-mat/0101249', 'cond-mat/0102344', 'cond-mat/0102415', 'cond-mat/0102057', 'physics/0103014', 'cond-mat/0104423']
[21:48:04] select | verify relaxed 1/10
[21:48:04] verify | func= Uses | rank= 0 | pid= cond-mat/0101072 | title_snip='Total Polarisation Conversion in Two-dimensional Electron System underâ€¦' | abs_len= 1194
[21:48:08] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[21:48:08] select | verify relaxed 2/10
[21:48:08] verify | func= Uses | rank= 1 | pid= cond-mat/0101196 | title_snip='Spin Polarization of Two-Dimensional Electrons Determined from
  Shubnâ€¦' | abs_len= 542
[21:48:11] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:48:11] select | verify relaxed 3/10
[21:48:11] verify | func= Uses | rank= 2 | pid= math-ph/0101034 | title_snip='Spectra of 2D H-donors in magnetic field and their Zeeman splitting' | abs_len= 232
[21:48:14] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:14] select | verify relaxed 4/10
[21:48:14] verify | func= Uses | rank= 3 | pid= cond-mat/0103541 | title_snip='The Droplet State and the Compressibility Anomaly in Dilute 2D Electroâ€¦' | abs_len= 544
[21:48:17] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:17] select | verify relaxed 5/10
[21:48:17] verify | func= Uses | rank= 4 | pid= cond-mat/0101249 | title_snip='The Electron Spectral Function in Two-Dimensional Fractionalized Phaseâ€¦' | abs_len= 1317
[21:48:19] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:48:19] select | verify relaxed 6/10
[21:48:19] verify | func= Uses | rank= 5 | pid= cond-mat/0102344 | title_snip='A Hartree-Fock Study of Charge Redistribution in a 2D Mesoscopic
  Strâ€¦' | abs_len= 513
[21:48:22] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:22] select | verify relaxed 7/10
[21:48:22] verify | func= Uses | rank= 6 | pid= cond-mat/0102415 | title_snip='Hall Coefficient and electron-electron interaction of 2D electrons in
â€¦' | abs_len= 825
[21:48:25] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:25] select | verify relaxed 8/10
[21:48:25] verify | func= Uses | rank= 7 | pid= cond-mat/0102057 | title_snip='Plasmon dispersion in dilute 2D electron systems: Quantum-Classical anâ€¦' | abs_len= 883
[21:48:28] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False
[21:48:28] select | verify relaxed 9/10
[21:48:28] verify | func= Uses | rank= 8 | pid= physics/0103014 | title_snip='Wave packet propagation study of the charge transfer interaction in thâ€¦' | abs_len= 911
[21:48:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:48:31] select | verify relaxed 10/10
[21:48:31] verify | func= Uses | rank= 9 | pid= cond-mat/0104423 | title_snip='Peierls Distortion in Two-Dimensional Tight-Binding Model' | abs_len= 1157
[21:48:33] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How can the method of polarisation conversion of electromagnetic waves in 2D electron systems be used in future research for polarisation spectroscopy applications?
- WINNER: cond-mat/0101072 | Total Polarisation Conversion in Two-dimensional Electron System under
  Cyclotron Resonance Conditions
- QUOTE : The considered phenomena may be taken up in polarisation spectroscopy
- WHY   : sufficient
- ANSWER: Researchers can use the method of polarisation conversion of electromagnetic waves in 2D electron systems to achieve high polarisation conversion efficiency in polarisation spectroscopy applications. This method can be applied to study 2D electron systems, such as those on GaAs, by exciting cyclotron-polaritons to greatly increase resonance polarisation conversion (cond-mat/0101072).
[21:48:38] main | running function= FutureWork
[21:48:38] select | function= FutureWork | candidates_in= 20
[21:48:38] select | core_terms= ['2D electron systems', 'electromagnetic waves', 'polarisation conversion', 'polarisation spectroscopy', '2D']
[21:48:38] select | no cosine prune; kept=20/20
[21:48:38] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['cond-mat/0101072', 'cond-mat/0101196', 'math-ph/0101034', 'cond-mat/0103541', 'cond-mat/0101249', 'cond-mat/0102344', 'cond-mat/0102415', 'cond-mat/0102057', 'physics/0103014', 'cond-mat/0104423']
[21:48:38] select | verify relaxed 1/10
[21:48:38] verify | func= FutureWork | rank= 0 | pid= cond-mat/0101072 | title_snip='Total Polarisation Conversion in Two-dimensional Electron System underâ€¦' | abs_len= 1194
[21:48:41] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[21:48:41] select | verify relaxed 2/10
[21:48:41] verify | func= FutureWork | rank= 1 | pid= cond-mat/0101196 | title_snip='Spin Polarization of Two-Dimensional Electrons Determined from
  Shubnâ€¦' | abs_len= 542
[21:48:44] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False
[21:48:44] select | verify relaxed 3/10
[21:48:44] verify | func= FutureWork | rank= 2 | pid= math-ph/0101034 | title_snip='Spectra of 2D H-donors in magnetic field and their Zeeman splitting' | abs_len= 232
[21:48:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:48:47] select | verify relaxed 4/10
[21:48:47] verify | func= FutureWork | rank= 3 | pid= cond-mat/0103541 | title_snip='The Droplet State and the Compressibility Anomaly in Dilute 2D Electroâ€¦' | abs_len= 544
[21:48:49] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:49] select | verify relaxed 5/10
[21:48:49] verify | func= FutureWork | rank= 4 | pid= cond-mat/0101249 | title_snip='The Electron Spectral Function in Two-Dimensional Fractionalized Phaseâ€¦' | abs_len= 1317
[21:48:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:48:52] select | verify relaxed 6/10
[21:48:52] verify | func= FutureWork | rank= 5 | pid= cond-mat/0102344 | title_snip='A Hartree-Fock Study of Charge Redistribution in a 2D Mesoscopic
  Strâ€¦' | abs_len= 513
[21:48:54] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:54] select | verify relaxed 7/10
[21:48:54] verify | func= FutureWork | rank= 6 | pid= cond-mat/0102415 | title_snip='Hall Coefficient and electron-electron interaction of 2D electrons in
â€¦' | abs_len= 825
[21:48:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:48:57] select | verify relaxed 8/10
[21:48:57] verify | func= FutureWork | rank= 7 | pid= cond-mat/0102057 | title_snip='Plasmon dispersion in dilute 2D electron systems: Quantum-Classical anâ€¦' | abs_len= 883
[21:49:00] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False
[21:49:00] select | verify relaxed 9/10
[21:49:00] verify | func= FutureWork | rank= 8 | pid= physics/0103014 | title_snip='Wave packet propagation study of the charge transfer interaction in thâ€¦' | abs_len= 911
[21:49:03] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:49:03] select | verify relaxed 10/10
[21:49:03] verify | func= FutureWork | rank= 9 | pid= cond-mat/0104423 | title_snip='Peierls Distortion in Two-Dimensional Tight-Binding Model' | abs_len= 1157
[21:49:05] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How can the method of polarisation conversion of electromagnetic waves in 2D electron systems be used in future research for polarisation spectroscopy applications?
- WINNER: cond-mat/0101072 | Total Polarisation Conversion in Two-dimensional Electron System under
  Cyclotron Resonance Conditions
- QUOTE : The considered phenomena may be taken up in polarisation spectroscopy
- WHY   : sufficient
- ANSWER: The method of polarisation conversion of electromagnetic waves in 2D electron systems can be used in future research for polarisation spectroscopy applications by exploiting the high polarisation conversion efficiency under cyclotron resonance conditions. Further studies can explore the potential of this phenomenon in polarisation spectroscopy of 2D electron systems (cond-mat/0101072).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
