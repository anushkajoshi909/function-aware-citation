âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Extends",
    "Uses"
  ],
  "justification": "The query asks how the current work builds upon (extends) Einstein's coefficients and how it utilizes them in deriving Planck's law."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:13:55] main | args: Namespace(max_check=10, debug=True)
[23:13:55] read_last_jsonl | path= classified_outputs.jsonl
[23:13:55] read_last_jsonl | total_lines= 1
[23:13:55] main | query='How does the current work build upon and utilize Einstein's introduction of coefficients of spontaneous and induced emission in the derivation of Planck's blackbody radiation law?' | funcs=['Extends', 'Uses']
[23:13:57] main | core_terms= ['Einstein', 'Planck', 'spontaneous emission', 'induced emission', 'blackbody radiation law']
[23:13:57] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:13:57] load_topk_jsonl | rows= 20
[23:13:57] load_topk_jsonl | first: rank= 0 paper_id= physics/0101054 title_snip='De Broglie wave, spontaneous emission and Planck's radiation law
  accâ€¦' abs_len= 993
[23:13:57] main | running function= Extends
[23:13:57] select | function= Extends | candidates_in= 20
[23:13:57] select | core_terms= ['Einstein', 'Planck', 'spontaneous emission', 'induced emission', 'blackbody radiation law']
[23:13:57] select | no cosine prune; kept=20/20
[23:13:57] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['physics/0101054', 'gr-qc/0101011', 'hep-ph/0101210', 'hep-ph/0104231', 'gr-qc/0102003', 'gr-qc/0104083', 'gr-qc/0104004', 'hep-th/0104073', 'gr-qc/0102080', 'hep-th/0102061']
[23:13:57] select | verify relaxed 1/10
[23:13:57] verify | func= Extends | rank= 0 | pid= physics/0101054 | title_snip='De Broglie wave, spontaneous emission and Planck's radiation law
  accâ€¦' | abs_len= 993
[23:14:01] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:14:01] select | verify relaxed 2/10
[23:14:01] verify | func= Extends | rank= 1 | pid= gr-qc/0101011 | title_snip='On the derivation of the equations of motion in theories of gravity' | abs_len= 1542
[23:14:03] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:03] select | verify relaxed 3/10
[23:14:03] verify | func= Extends | rank= 2 | pid= hep-ph/0101210 | title_snip='Relic Dark energy from Trans-Planckian Regime' | abs_len= 1104
[23:14:06] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:06] select | verify relaxed 4/10
[23:14:06] verify | func= Extends | rank= 3 | pid= hep-ph/0104231 | title_snip='On fermionic vacuum energy' | abs_len= 578
[23:14:09] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:14:09] select | verify relaxed 5/10
[23:14:09] verify | func= Extends | rank= 4 | pid= gr-qc/0102003 | title_snip='Time-Variation of the Gravitational Constant and the Machian Solution â€¦' | abs_len= 769
[23:14:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:11] select | verify relaxed 6/10
[23:14:11] verify | func= Extends | rank= 5 | pid= gr-qc/0104083 | title_snip='Post-Newtonian Expansion of Gravitational Radiation' | abs_len= 1005
[23:14:14] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:14] select | verify relaxed 7/10
[23:14:14] verify | func= Extends | rank= 6 | pid= gr-qc/0104004 | title_snip='On the Bergmann Energy-Momentum Complex of a Charged Regular Black Holâ€¦' | abs_len= 325
[23:14:16] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:16] select | verify relaxed 8/10
[23:14:16] verify | func= Extends | rank= 7 | pid= hep-th/0104073 | title_snip='Pyrotechnic Universe' | abs_len= 1492
[23:14:19] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:19] select | verify relaxed 9/10
[23:14:19] verify | func= Extends | rank= 8 | pid= gr-qc/0102080 | title_snip='Explicit Derivation of the Fluctuation-Dissipation Relation of the
  Vâ€¦' | abs_len= 990
[23:14:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:21] select | verify relaxed 10/10
[23:14:21] verify | func= Extends | rank= 9 | pid= hep-th/0102061 | title_snip='Quantum Mechanics of Charged Black Holes' | abs_len= 690
[23:14:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How does the current work build upon and utilize Einstein's introduction of coefficients of spontaneous and induced emission in the derivation of Planck's blackbody radiation law?
- WINNER: physics/0101054 | De Broglie wave, spontaneous emission and Planck's radiation law
  according to stochastic electrodynamics
- QUOTE : Einstein's work, in which the coefficients of spontaneous and induced emission were introduced
- WHY   : sufficient
- ANSWER: The current work extends Einstein's introduction of coefficients of spontaneous and induced emission by rederiving Planck's blackbody radiation law within the framework of stochastic electrodynamics, avoiding the assumption of quantum energy discreteness. This approach builds upon Einstein's work by providing a classical physics explanation for the energy discreteness, utilizing the concept of de Broglie waves and zero-point vibrations of the electromagnetic ground field (physics/0101054).
[23:14:28] main | running function= Uses
[23:14:28] select | function= Uses | candidates_in= 20
[23:14:28] select | core_terms= ['Einstein', 'Planck', 'spontaneous emission', 'induced emission', 'blackbody radiation law']
[23:14:28] select | no cosine prune; kept=20/20
[23:14:28] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['physics/0101054', 'gr-qc/0101011', 'hep-ph/0101210', 'hep-ph/0104231', 'gr-qc/0102003', 'gr-qc/0104083', 'gr-qc/0104004', 'hep-th/0104073', 'gr-qc/0102080', 'hep-th/0102061']
[23:14:28] select | verify relaxed 1/10
[23:14:28] verify | func= Uses | rank= 0 | pid= physics/0101054 | title_snip='De Broglie wave, spontaneous emission and Planck's radiation law
  accâ€¦' | abs_len= 993
[23:14:32] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:14:32] select | verify relaxed 2/10
[23:14:32] verify | func= Uses | rank= 1 | pid= gr-qc/0101011 | title_snip='On the derivation of the equations of motion in theories of gravity' | abs_len= 1542
[23:14:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:34] select | verify relaxed 3/10
[23:14:34] verify | func= Uses | rank= 2 | pid= hep-ph/0101210 | title_snip='Relic Dark energy from Trans-Planckian Regime' | abs_len= 1104
[23:14:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:37] select | verify relaxed 4/10
[23:14:37] verify | func= Uses | rank= 3 | pid= hep-ph/0104231 | title_snip='On fermionic vacuum energy' | abs_len= 578
[23:14:40] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[23:14:40] select | verify relaxed 5/10
[23:14:40] verify | func= Uses | rank= 4 | pid= gr-qc/0102003 | title_snip='Time-Variation of the Gravitational Constant and the Machian Solution â€¦' | abs_len= 769
[23:14:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:42] select | verify relaxed 6/10
[23:14:42] verify | func= Uses | rank= 5 | pid= gr-qc/0104083 | title_snip='Post-Newtonian Expansion of Gravitational Radiation' | abs_len= 1005
[23:14:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:45] select | verify relaxed 7/10
[23:14:45] verify | func= Uses | rank= 6 | pid= gr-qc/0104004 | title_snip='On the Bergmann Energy-Momentum Complex of a Charged Regular Black Holâ€¦' | abs_len= 325
[23:14:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:47] select | verify relaxed 8/10
[23:14:47] verify | func= Uses | rank= 7 | pid= hep-th/0104073 | title_snip='Pyrotechnic Universe' | abs_len= 1492
[23:14:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:50] select | verify relaxed 9/10
[23:14:50] verify | func= Uses | rank= 8 | pid= gr-qc/0102080 | title_snip='Explicit Derivation of the Fluctuation-Dissipation Relation of the
  Vâ€¦' | abs_len= 990
[23:14:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:14:52] select | verify relaxed 10/10
[23:14:52] verify | func= Uses | rank= 9 | pid= hep-th/0102061 | title_snip='Quantum Mechanics of Charged Black Holes' | abs_len= 690
[23:14:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How does the current work build upon and utilize Einstein's introduction of coefficients of spontaneous and induced emission in the derivation of Planck's blackbody radiation law?
- WINNER: physics/0101054 | De Broglie wave, spontaneous emission and Planck's radiation law
  according to stochastic electrodynamics
- QUOTE : Einstein's work, in which the coefficients of spontaneous and induced emission were introduced
- WHY   : sufficient
- ANSWER: The current work utilizes Einstein's introduction of coefficients of spontaneous and induced emission to derive Planck's blackbody radiation law within the framework of stochastic electrodynamics. This approach reconsiders Einstein's work from the viewpoint of classical electrodynamics with classical electromagnetic zero-point radiation (physics/0101054).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
