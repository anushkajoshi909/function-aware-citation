âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "Compares"
  ],
  "justification": "The query highlights gaps in current understanding (motivation) and explicitly seeks a comparative analysis of energetic properties."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:15:13] main | args: Namespace(max_check=10, debug=True)
[23:15:13] read_last_jsonl | path= classified_outputs.jsonl
[23:15:13] read_last_jsonl | total_lines= 1
[23:15:13] main | query='What limitations in understanding gamma-ray bursts motivate further analysis and comparison of their energetic properties?' | funcs=['Motivation', 'Compares']
[23:15:15] main | core_terms= ['gamma-ray bursts', 'energetic properties', 'gamma-ray']
[23:15:15] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:15:15] load_topk_jsonl | rows= 20
[23:15:15] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0103028 title_snip='Evidence For and Against Collimation of Gamma Ray Bursts' abs_len= 856
[23:15:15] main | running function= Motivation
[23:15:15] select | function= Motivation | candidates_in= 20
[23:15:15] select | core_terms= ['gamma-ray bursts', 'energetic properties', 'gamma-ray']
[23:15:15] select | no cosine prune; kept=20/20
[23:15:15] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0103028', 'astro-ph/0101147', 'astro-ph/0101462', 'astro-ph/0102282', 'astro-ph/0104208', 'astro-ph/0103186', 'astro-ph/0101175', 'astro-ph/0104232', 'astro-ph/0103384', 'astro-ph/0102122']
[23:15:15] select | verify relaxed 1/10
[23:15:15] verify | func= Motivation | rank= 0 | pid= astro-ph/0103028 | title_snip='Evidence For and Against Collimation of Gamma Ray Bursts' | abs_len= 856
[23:15:18] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:15:18] select | verify relaxed 2/10
[23:15:18] verify | func= Motivation | rank= 1 | pid= astro-ph/0101147 | title_snip='Gamma-Ray Bursts: Afterglows and Central Engines' | abs_len= 1143
[23:15:21] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:15:21] select | verify relaxed 3/10
[23:15:21] verify | func= Motivation | rank= 2 | pid= astro-ph/0101462 | title_snip='Explaining the Gamma Ray Burst Lag/Luminosity and Variability/Luminosiâ€¦' | abs_len= 1061
[23:15:24] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[23:15:24] select | verify relaxed 4/10
[23:15:24] verify | func= Motivation | rank= 3 | pid= astro-ph/0102282 | title_snip='Beaming in Gamma-Ray Bursts: Evidence for a Standard Energy Reservoir' | abs_len= 859
[23:15:27] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:15:27] select | verify relaxed 5/10
[23:15:27] verify | func= Motivation | rank= 4 | pid= astro-ph/0104208 | title_snip='A Search for Early Optical Emission from Short and Long Duration
  Gamâ€¦' | abs_len= 1039
[23:15:31] verify | result supports= False fit= 0.00 top= 0.90 invalid= quote_not_in_abstract cue_hint= False
[23:15:31] select | verify relaxed 6/10
[23:15:31] verify | func= Motivation | rank= 5 | pid= astro-ph/0103186 | title_snip='High energy particles from gamma-ray bursts' | abs_len= 492
[23:15:34] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:15:34] select | verify relaxed 7/10
[23:15:34] verify | func= Motivation | rank= 6 | pid= astro-ph/0101175 | title_snip='Shock Acceleration of Cosmic Rays - a critical review' | abs_len= 799
[23:15:37] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[23:15:37] select | verify relaxed 8/10
[23:15:37] verify | func= Motivation | rank= 7 | pid= astro-ph/0104232 | title_snip='On the Power Spectrum Density of Gamma Ray Bursts' | abs_len= 521
[23:15:40] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:15:40] select | verify relaxed 9/10
[23:15:40] verify | func= Motivation | rank= 8 | pid= astro-ph/0103384 | title_snip='Gamma-Ray Bursts at Low Redshift' | abs_len= 1121
[23:15:43] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:15:43] select | verify relaxed 10/10
[23:15:43] verify | func= Motivation | rank= 9 | pid= astro-ph/0102122 | title_snip='Observations and theoretical models of gamma-ray bursts' | abs_len= 1194
[23:15:46] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:15:48] arbiter | rejected off-topic winner: astro-ph/0101175

================================================================================
FUNCTION: Motivation
QUERY   : What limitations in understanding gamma-ray bursts motivate further analysis and comparison of their energetic properties?
- No supporting candidate with sufficient evidence.
- ANSWER: The abstract does not provide information relevant to Motivation.
[23:15:48] main | running function= Compares
[23:15:48] select | function= Compares | candidates_in= 20
[23:15:48] select | core_terms= ['gamma-ray bursts', 'energetic properties', 'gamma-ray']
[23:15:48] select | no cosine prune; kept=20/20
[23:15:48] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0103028', 'astro-ph/0101147', 'astro-ph/0101462', 'astro-ph/0102282', 'astro-ph/0104208', 'astro-ph/0103186', 'astro-ph/0101175', 'astro-ph/0104232', 'astro-ph/0103384', 'astro-ph/0102122']
[23:15:48] select | verify relaxed 1/10
[23:15:48] verify | func= Compares | rank= 0 | pid= astro-ph/0103028 | title_snip='Evidence For and Against Collimation of Gamma Ray Bursts' | abs_len= 856
[23:15:51] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:15:51] select | verify relaxed 2/10
[23:15:51] verify | func= Compares | rank= 1 | pid= astro-ph/0101147 | title_snip='Gamma-Ray Bursts: Afterglows and Central Engines' | abs_len= 1143
[23:15:54] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:15:54] select | verify relaxed 3/10
[23:15:54] verify | func= Compares | rank= 2 | pid= astro-ph/0101462 | title_snip='Explaining the Gamma Ray Burst Lag/Luminosity and Variability/Luminosiâ€¦' | abs_len= 1061
[23:15:57] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:15:57] select | verify relaxed 4/10
[23:15:57] verify | func= Compares | rank= 3 | pid= astro-ph/0102282 | title_snip='Beaming in Gamma-Ray Bursts: Evidence for a Standard Energy Reservoir' | abs_len= 859
[23:16:00] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:16:00] select | verify relaxed 5/10
[23:16:00] verify | func= Compares | rank= 4 | pid= astro-ph/0104208 | title_snip='A Search for Early Optical Emission from Short and Long Duration
  Gamâ€¦' | abs_len= 1039
[23:16:03] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:16:03] select | verify relaxed 6/10
[23:16:03] verify | func= Compares | rank= 5 | pid= astro-ph/0103186 | title_snip='High energy particles from gamma-ray bursts' | abs_len= 492
[23:16:06] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:16:06] select | verify relaxed 7/10
[23:16:06] verify | func= Compares | rank= 6 | pid= astro-ph/0101175 | title_snip='Shock Acceleration of Cosmic Rays - a critical review' | abs_len= 799
[23:16:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:16:09] select | verify relaxed 8/10
[23:16:09] verify | func= Compares | rank= 7 | pid= astro-ph/0104232 | title_snip='On the Power Spectrum Density of Gamma Ray Bursts' | abs_len= 521
[23:16:12] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[23:16:12] select | verify relaxed 9/10
[23:16:12] verify | func= Compares | rank= 8 | pid= astro-ph/0103384 | title_snip='Gamma-Ray Bursts at Low Redshift' | abs_len= 1121
[23:16:16] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:16:16] select | verify relaxed 10/10
[23:16:16] verify | func= Compares | rank= 9 | pid= astro-ph/0102122 | title_snip='Observations and theoretical models of gamma-ray bursts' | abs_len= 1194
[23:16:19] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : What limitations in understanding gamma-ray bursts motivate further analysis and comparison of their energetic properties?
- WINNER: astro-ph/0101147 | Gamma-Ray Bursts: Afterglows and Central Engines
- QUOTE : thousand times stronger than that of supernova explosion
- WHY   : sufficient
- ANSWER: The energetic properties of gamma-ray bursts are being compared to those of supernova explosions, with GRBs being thousands of times stronger. This comparison highlights the need for unconventional energy mechanisms to explain the extremely high conversion efficiency of GRBs (astro-ph/0101147).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
