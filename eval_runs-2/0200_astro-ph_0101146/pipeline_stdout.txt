âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "FutureWork"
  ],
  "justification": "The query seeks research directions that are driven by a recent discovery, thus it asks for the motivating factors and outlines future work."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[01:49:37] main | args: Namespace(max_check=10, debug=True)
[01:49:37] read_last_jsonl | path= classified_outputs.jsonl
[01:49:37] read_last_jsonl | total_lines= 1
[01:49:37] main | query='What future research directions are motivated by the discovery of giant micro-pulses and a large amplitude gaussian component in the Vela pulsar's pulse profile?' | funcs=['Motivation', 'FutureWork']
[01:49:38] main | core_terms= ['Vela pulsar', 'giant micro-pulses', 'pulse profile', 'amplitude', 'micro-pulses']
[01:49:38] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[01:49:38] load_topk_jsonl | rows= 20
[01:49:38] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101146 title_snip='High time-resolution observations of the Vela pulsar' abs_len= 1216
[01:49:38] main | running function= Motivation
[01:49:38] select | function= Motivation | candidates_in= 20
[01:49:38] select | core_terms= ['Vela pulsar', 'giant micro-pulses', 'pulse profile', 'amplitude', 'micro-pulses']
[01:49:38] select | no cosine prune; kept=20/20
[01:49:38] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101146', 'astro-ph/0101039', 'astro-ph/0103155', 'astro-ph/0102026', 'astro-ph/0104476', 'hep-ph/0104220', 'gr-qc/0103035', 'astro-ph/0102255', 'hep-ph/0103053', 'astro-ph/0101022']
[01:49:38] select | verify relaxed 1/10
[01:49:38] verify | func= Motivation | rank= 0 | pid= astro-ph/0101146 | title_snip='High time-resolution observations of the Vela pulsar' | abs_len= 1216
[01:49:42] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:49:42] select | verify relaxed 2/10
[01:49:42] verify | func= Motivation | rank= 1 | pid= astro-ph/0101039 | title_snip='Gamma Ray Pulsars: Observations' | abs_len= 848
[01:49:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:45] select | verify relaxed 3/10
[01:49:45] verify | func= Motivation | rank= 2 | pid= astro-ph/0103155 | title_snip='The new sample of Giant radio sources: I. Radio imaging, optical
  ideâ€¦' | abs_len= 1140
[01:49:47] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:47] select | verify relaxed 4/10
[01:49:47] verify | func= Motivation | rank= 3 | pid= astro-ph/0102026 | title_snip='Recycled Pulsars Discovered at High Radio Frequency' | abs_len= 635
[01:49:49] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:49] select | verify relaxed 5/10
[01:49:49] verify | func= Motivation | rank= 4 | pid= astro-ph/0104476 | title_snip='Detection of Pulsed X-ray Emission from The Fastest Millisecond Pulsarâ€¦' | abs_len= 1390
[01:49:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:52] select | verify relaxed 6/10
[01:49:52] verify | func= Motivation | rank= 5 | pid= hep-ph/0104220 | title_snip='Prospects of Very Long Base-Line Neutrino Oscillation Experiments withâ€¦' | abs_len= 910
[01:49:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:54] select | verify relaxed 7/10
[01:49:54] verify | func= Motivation | rank= 6 | pid= gr-qc/0103035 | title_snip='Detecting a relic background of scalar waves with LIGO' | abs_len= 628
[01:49:57] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:57] select | verify relaxed 8/10
[01:49:57] verify | func= Motivation | rank= 7 | pid= astro-ph/0102255 | title_snip='Gamma-Ray Bursts: Afterglow Implications, Progenitor Clues and Prospecâ€¦' | abs_len= 1084
[01:49:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:49:59] select | verify relaxed 9/10
[01:49:59] verify | func= Motivation | rank= 8 | pid= hep-ph/0103053 | title_snip='Direct Signals for Large Extra Dimensions in the Production of Fermionâ€¦' | abs_len= 766
[01:50:02] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:02] select | verify relaxed 10/10
[01:50:02] verify | func= Motivation | rank= 9 | pid= astro-ph/0101022 | title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' | abs_len= 971
[01:50:04] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : What future research directions are motivated by the discovery of giant micro-pulses and a large amplitude gaussian component in the Vela pulsar's pulse profile?
- WINNER: astro-ph/0101146 | High time-resolution observations of the Vela pulsar
- QUOTE : We suggest that the full width of the Vela pulse profile might be as large as 10 ms
- WHY   : sufficient
- ANSWER: The discovery of giant micro-pulses and a large amplitude gaussian component in the Vela pulsar's pulse profile motivates further research into the underlying emission mechanisms and periodicity of these features. Understanding these phenomena is crucial for uncovering the unique properties of the Vela pulsar and its emission processes (astro-ph/0101146).
[01:50:08] main | running function= FutureWork
[01:50:08] select | function= FutureWork | candidates_in= 20
[01:50:08] select | core_terms= ['Vela pulsar', 'giant micro-pulses', 'pulse profile', 'amplitude', 'micro-pulses']
[01:50:08] select | no cosine prune; kept=20/20
[01:50:08] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101146', 'astro-ph/0101039', 'astro-ph/0103155', 'astro-ph/0102026', 'astro-ph/0104476', 'hep-ph/0104220', 'gr-qc/0103035', 'astro-ph/0102255', 'hep-ph/0103053', 'astro-ph/0101022']
[01:50:08] select | verify relaxed 1/10
[01:50:08] verify | func= FutureWork | rank= 0 | pid= astro-ph/0101146 | title_snip='High time-resolution observations of the Vela pulsar' | abs_len= 1216
[01:50:11] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[01:50:11] select | verify relaxed 2/10
[01:50:11] verify | func= FutureWork | rank= 1 | pid= astro-ph/0101039 | title_snip='Gamma Ray Pulsars: Observations' | abs_len= 848
[01:50:14] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:14] select | verify relaxed 3/10
[01:50:14] verify | func= FutureWork | rank= 2 | pid= astro-ph/0103155 | title_snip='The new sample of Giant radio sources: I. Radio imaging, optical
  ideâ€¦' | abs_len= 1140
[01:50:16] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:16] select | verify relaxed 4/10
[01:50:16] verify | func= FutureWork | rank= 3 | pid= astro-ph/0102026 | title_snip='Recycled Pulsars Discovered at High Radio Frequency' | abs_len= 635
[01:50:18] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:18] select | verify relaxed 5/10
[01:50:18] verify | func= FutureWork | rank= 4 | pid= astro-ph/0104476 | title_snip='Detection of Pulsed X-ray Emission from The Fastest Millisecond Pulsarâ€¦' | abs_len= 1390
[01:50:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:21] select | verify relaxed 6/10
[01:50:21] verify | func= FutureWork | rank= 5 | pid= hep-ph/0104220 | title_snip='Prospects of Very Long Base-Line Neutrino Oscillation Experiments withâ€¦' | abs_len= 910
[01:50:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:23] select | verify relaxed 7/10
[01:50:23] verify | func= FutureWork | rank= 6 | pid= gr-qc/0103035 | title_snip='Detecting a relic background of scalar waves with LIGO' | abs_len= 628
[01:50:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:26] select | verify relaxed 8/10
[01:50:26] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102255 | title_snip='Gamma-Ray Bursts: Afterglow Implications, Progenitor Clues and Prospecâ€¦' | abs_len= 1084
[01:50:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:28] select | verify relaxed 9/10
[01:50:28] verify | func= FutureWork | rank= 8 | pid= hep-ph/0103053 | title_snip='Direct Signals for Large Extra Dimensions in the Production of Fermionâ€¦' | abs_len= 766
[01:50:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:50:31] select | verify relaxed 10/10
[01:50:31] verify | func= FutureWork | rank= 9 | pid= astro-ph/0101022 | title_snip='Possible Strong Gravitational Wave Sources for the LISA Antenna' | abs_len= 971
[01:50:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : What future research directions are motivated by the discovery of giant micro-pulses and a large amplitude gaussian component in the Vela pulsar's pulse profile?
- No supporting candidate with sufficient evidence.
- ANSWER: The abstract does not provide information relevant to FutureWork.

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
