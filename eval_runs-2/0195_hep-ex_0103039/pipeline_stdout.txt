âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Compares",
    "Extends"
  ],
  "justification": "The query explicitly asks how the current work compares with prior studies and how it extends them."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[01:42:55] main | args: Namespace(max_check=10, debug=True)
[01:42:55] read_last_jsonl | path= classified_outputs.jsonl
[01:42:55] read_last_jsonl | total_lines= 1
[01:42:55] main | query='How does the current work compare to and extend previous research on fermion-pair and photon-pair production in e+e- collisions?' | funcs=['Compares', 'Extends']
[01:42:57] main | core_terms= ['e+e- collisions', 'fermion pair', 'photon pair', 'pair production', 'fermion-pair', 'photon-pair']
[01:42:57] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[01:42:57] load_topk_jsonl | rows= 20
[01:42:57] load_topk_jsonl | first: rank= 0 paper_id= hep-ex/0103039 title_snip='Two-fermion and Two-photon Final States at LEP2 and Search for Extra
 â€¦' abs_len= 1351
[01:42:57] main | running function= Compares
[01:42:57] select | function= Compares | candidates_in= 20
[01:42:57] select | core_terms= ['e+e- collisions', 'fermion pair', 'photon pair', 'pair production', 'fermion-pair', 'photon-pair']
[01:42:57] select | no cosine prune; kept=20/20
[01:42:57] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ex/0103039', 'nucl-th/0103022', 'nucl-th/0103023', 'nucl-th/0101024', 'hep-ph/0103299', 'hep-ph/0104165', 'hep-ph/0101208', 'hep-ex/0104024', 'hep-ph/0102116', 'hep-ph/0103309']
[01:42:57] select | verify relaxed 1/10
[01:42:57] verify | func= Compares | rank= 0 | pid= hep-ex/0103039 | title_snip='Two-fermion and Two-photon Final States at LEP2 and Search for Extra
 â€¦' | abs_len= 1351
[01:43:00] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:43:00] select | verify relaxed 2/10
[01:43:00] verify | func= Compares | rank= 1 | pid= nucl-th/0103022 | title_snip='Erratum: Eur. Phy. J. C 12 (2000) 109 (A Second Look at Single Photon
â€¦' | abs_len= 515
[01:43:03] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:03] select | verify relaxed 3/10
[01:43:03] verify | func= Compares | rank= 2 | pid= nucl-th/0103023 | title_snip='Erratum: Eur. Phy. J. C 10 (1999) 487 (Photon production in relativistâ€¦' | abs_len= 564
[01:43:05] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:05] select | verify relaxed 4/10
[01:43:05] verify | func= Compares | rank= 3 | pid= nucl-th/0101024 | title_snip='Coulomb corrections to $e^+ e^-$ production in ultra-relativistic
  nuâ€¦' | abs_len= 1023
[01:43:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:43:09] select | verify relaxed 5/10
[01:43:09] verify | func= Compares | rank= 4 | pid= hep-ph/0103299 | title_snip='Constraining Models of New Physics in Light of Recent Experimental
  Râ€¦' | abs_len= 780
[01:43:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:11] select | verify relaxed 6/10
[01:43:11] verify | func= Compares | rank= 5 | pid= hep-ph/0104165 | title_snip='Hint for axial-vector contact interactions in the data on e+e- ->
  e+â€¦' | abs_len= 773
[01:43:14] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:43:14] select | verify relaxed 7/10
[01:43:14] verify | func= Compares | rank= 6 | pid= hep-ph/0101208 | title_snip='Resolving SM-like scenarios via Higgs boson production at a Photon
  Câ€¦' | abs_len= 1276
[01:43:18] verify | result supports= False fit= 0.00 top= 0.70 invalid= off_topic_no_core_in_abstract cue_hint= True
[01:43:18] select | verify relaxed 8/10
[01:43:18] verify | func= Compares | rank= 7 | pid= hep-ex/0104024 | title_snip='K+K- and KsKs Production in Two-Photon Collisions at Belle' | abs_len= 635
[01:43:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:20] select | verify relaxed 9/10
[01:43:20] verify | func= Compares | rank= 8 | pid= hep-ph/0102116 | title_snip='Pair production of charged Higgs scalars from electroweak gauge boson
â€¦' | abs_len= 823
[01:43:23] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[01:43:23] select | verify relaxed 10/10
[01:43:23] verify | func= Compares | rank= 9 | pid= hep-ph/0103309 | title_snip='Prototype Graphs for radiative Corrections to Polarized Chargino or
  â€¦' | abs_len= 642
[01:43:26] verify | result supports= False fit= 0.20 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the current work compare to and extend previous research on fermion-pair and photon-pair production in e+e- collisions?
- WINNER: hep-ex/0103039 | Two-fermion and Two-photon Final States at LEP2 and Search for Extra
  Dimensions
- QUOTE : No statistically significant deviations from the Standard Model expectations are observed
- WHY   : sufficient
- ANSWER: The current work compares to previous research by analyzing fermion-pair and photon-pair production in e+e- collisions on the full LEP2 data set, extending previous studies by presenting preliminary results and deriving lower limits for new physics phenomena. The comparison is based on the experimental measurements and results from the LEP-wide combination, which constrain the scales of contact interactions and low gravity effective Planck scale to higher values than previously determined (hep-ex/0103039).
[01:43:31] main | running function= Extends
[01:43:31] select | function= Extends | candidates_in= 20
[01:43:31] select | core_terms= ['e+e- collisions', 'fermion pair', 'photon pair', 'pair production', 'fermion-pair', 'photon-pair']
[01:43:31] select | no cosine prune; kept=20/20
[01:43:31] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ex/0103039', 'nucl-th/0103022', 'nucl-th/0103023', 'nucl-th/0101024', 'hep-ph/0103299', 'hep-ph/0104165', 'hep-ph/0101208', 'hep-ex/0104024', 'hep-ph/0102116', 'hep-ph/0103309']
[01:43:31] select | verify relaxed 1/10
[01:43:31] verify | func= Extends | rank= 0 | pid= hep-ex/0103039 | title_snip='Two-fermion and Two-photon Final States at LEP2 and Search for Extra
 â€¦' | abs_len= 1351
[01:43:35] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:43:35] select | verify relaxed 2/10
[01:43:35] verify | func= Extends | rank= 1 | pid= nucl-th/0103022 | title_snip='Erratum: Eur. Phy. J. C 12 (2000) 109 (A Second Look at Single Photon
â€¦' | abs_len= 515
[01:43:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:37] select | verify relaxed 3/10
[01:43:37] verify | func= Extends | rank= 2 | pid= nucl-th/0103023 | title_snip='Erratum: Eur. Phy. J. C 10 (1999) 487 (Photon production in relativistâ€¦' | abs_len= 564
[01:43:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:40] select | verify relaxed 4/10
[01:43:40] verify | func= Extends | rank= 3 | pid= nucl-th/0101024 | title_snip='Coulomb corrections to $e^+ e^-$ production in ultra-relativistic
  nuâ€¦' | abs_len= 1023
[01:43:43] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[01:43:43] select | verify relaxed 5/10
[01:43:43] verify | func= Extends | rank= 4 | pid= hep-ph/0103299 | title_snip='Constraining Models of New Physics in Light of Recent Experimental
  Râ€¦' | abs_len= 780
[01:43:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:45] select | verify relaxed 6/10
[01:43:45] verify | func= Extends | rank= 5 | pid= hep-ph/0104165 | title_snip='Hint for axial-vector contact interactions in the data on e+e- ->
  e+â€¦' | abs_len= 773
[01:43:48] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:43:48] select | verify relaxed 7/10
[01:43:48] verify | func= Extends | rank= 6 | pid= hep-ph/0101208 | title_snip='Resolving SM-like scenarios via Higgs boson production at a Photon
  Câ€¦' | abs_len= 1276
[01:43:51] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:43:51] select | verify relaxed 8/10
[01:43:51] verify | func= Extends | rank= 7 | pid= hep-ex/0104024 | title_snip='K+K- and KsKs Production in Two-Photon Collisions at Belle' | abs_len= 635
[01:43:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:43:54] select | verify relaxed 9/10
[01:43:54] verify | func= Extends | rank= 8 | pid= hep-ph/0102116 | title_snip='Pair production of charged Higgs scalars from electroweak gauge boson
â€¦' | abs_len= 823
[01:43:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:43:57] select | verify relaxed 10/10
[01:43:57] verify | func= Extends | rank= 9 | pid= hep-ph/0103309 | title_snip='Prototype Graphs for radiative Corrections to Polarized Chargino or
  â€¦' | abs_len= 642
[01:44:00] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How does the current work compare to and extend previous research on fermion-pair and photon-pair production in e+e- collisions?
- WINNER: hep-ex/0103039 | Two-fermion and Two-photon Final States at LEP2 and Search for Extra
  Dimensions
- QUOTE : fermion-pair and photon-pair production in e+e- collisions
- WHY   : sufficient
- ANSWER: The current work extends previous research on fermion-pair and photon-pair production in e+e- collisions by analyzing the full LEP2 data set, increasing the accuracy and scope of the measurements. It also improves upon prior results by setting more stringent lower limits on the scales of new physics phenomena, such as contact interactions and low gravity effective Planck scale (hep-ex/0103039).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
