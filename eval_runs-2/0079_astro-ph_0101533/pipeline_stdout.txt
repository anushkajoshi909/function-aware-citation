âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Uses",
    "FutureWork"
  ],
  "justification": "The query asks how the present applications of Imaging Atmospheric Cerenkov Telescopes are employed and how they guide subsequent research directions."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[22:54:21] main | args: Namespace(max_check=10, debug=True)
[22:54:21] read_last_jsonl | path= classified_outputs.jsonl
[22:54:21] read_last_jsonl | total_lines= 1
[22:54:21] main | query='How do current uses of Imaging Atmospheric Cerenkov Telescopes inform future work in detecting gamma rays from astrophysical objects?' | funcs=['Uses', 'FutureWork']
[22:54:23] main | core_terms= ['Imaging Atmospheric Cerenkov Telescopes', 'gamma rays', 'astrophysical objects', 'Cerenkov radiation']
[22:54:23] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[22:54:23] load_topk_jsonl | rows= 20
[22:54:23] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0101533 title_snip='Imaging Atmospheric Cerenkov Telescopes: Techniques and Results' abs_len= 1072
[22:54:23] main | running function= Uses
[22:54:23] select | function= Uses | candidates_in= 20
[22:54:23] select | core_terms= ['Imaging Atmospheric Cerenkov Telescopes', 'gamma rays', 'astrophysical objects', 'Cerenkov radiation']
[22:54:23] select | no cosine prune; kept=20/20
[22:54:23] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101533', 'astro-ph/0102324', 'astro-ph/0101039', 'astro-ph/0101120', 'astro-ph/0103516', 'astro-ph/0101241', 'physics/0104041', 'astro-ph/0104143', 'astro-ph/0101496', 'astro-ph/0102391']
[22:54:23] select | verify relaxed 1/10
[22:54:23] verify | func= Uses | rank= 0 | pid= astro-ph/0101533 | title_snip='Imaging Atmospheric Cerenkov Telescopes: Techniques and Results' | abs_len= 1072
[22:54:26] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:54:26] select | verify relaxed 2/10
[22:54:26] verify | func= Uses | rank= 1 | pid= astro-ph/0102324 | title_snip='TeV observations of SNRs and unidentified sources' | abs_len= 409
[22:54:29] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:54:29] select | verify relaxed 3/10
[22:54:29] verify | func= Uses | rank= 2 | pid= astro-ph/0101039 | title_snip='Gamma Ray Pulsars: Observations' | abs_len= 848
[22:54:32] verify | result supports= False fit= 0.00 top= 0.50 invalid= no_quote cue_hint= False
[22:54:32] select | verify relaxed 4/10
[22:54:32] verify | func= Uses | rank= 3 | pid= astro-ph/0101120 | title_snip='TeV Gamma-Ray Astronomy in the new Millennium' | abs_len= 928
[22:54:35] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:54:35] select | verify relaxed 5/10
[22:54:35] verify | func= Uses | rank= 4 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[22:54:37] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:54:37] select | verify relaxed 6/10
[22:54:37] verify | func= Uses | rank= 5 | pid= astro-ph/0101241 | title_snip='Detection of Earth-like Planets Using Apodized Telescopes' | abs_len= 1109
[22:54:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:54:40] select | verify relaxed 7/10
[22:54:40] verify | func= Uses | rank= 6 | pid= physics/0104041 | title_snip='Beam Measurements of a CLOUD (Cosmics Leaving OUtdoor Droplets) Chambeâ€¦' | abs_len= 1583
[22:54:42] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:54:42] select | verify relaxed 8/10
[22:54:42] verify | func= Uses | rank= 7 | pid= astro-ph/0104143 | title_snip='Gamma Ray and Hadron generated \v{C}erenkov Photon Spectra at Various
â€¦' | abs_len= 1639
[22:54:45] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[22:54:45] select | verify relaxed 9/10
[22:54:45] verify | func= Uses | rank= 8 | pid= astro-ph/0101496 | title_snip='A first EGRET-UNID-related agenda for the next-generation Cherenkov
  â€¦' | abs_len= 824
[22:54:48] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= True
[22:54:48] select | verify relaxed 10/10
[22:54:48] verify | func= Uses | rank= 9 | pid= astro-ph/0102391 | title_snip='Evidence for TeV gamma ray emission from Cassiopeia A' | abs_len= 740
[22:54:52] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= True

================================================================================
FUNCTION: Uses
QUERY   : How do current uses of Imaging Atmospheric Cerenkov Telescopes inform future work in detecting gamma rays from astrophysical objects?
- WINNER: astro-ph/0101533 | Imaging Atmospheric Cerenkov Telescopes: Techniques and Results
- QUOTE : Imaging Atmospheric Cerenkov Telescopes
- WHY   : sufficient
- ANSWER: Researchers use Imaging Atmospheric Cerenkov Telescopes to detect gamma rays from astrophysical objects, such as the Crab Nebula and Active Galaxies, in order to study particle acceleration mechanisms and place limits on the infra-red background. These telescopes are applied to distinguish between gamma-ray and cosmic-ray-induced air showers, informing the development of next-generation telescope facilities (astro-ph/0101533).
[22:54:56] main | running function= FutureWork
[22:54:56] select | function= FutureWork | candidates_in= 20
[22:54:56] select | core_terms= ['Imaging Atmospheric Cerenkov Telescopes', 'gamma rays', 'astrophysical objects', 'Cerenkov radiation']
[22:54:56] select | no cosine prune; kept=20/20
[22:54:56] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0101533', 'astro-ph/0102324', 'astro-ph/0101039', 'astro-ph/0101120', 'astro-ph/0103516', 'astro-ph/0101241', 'physics/0104041', 'astro-ph/0104143', 'astro-ph/0101496', 'astro-ph/0102391']
[22:54:56] select | verify relaxed 1/10
[22:54:56] verify | func= FutureWork | rank= 0 | pid= astro-ph/0101533 | title_snip='Imaging Atmospheric Cerenkov Telescopes: Techniques and Results' | abs_len= 1072
[22:54:59] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:54:59] select | verify relaxed 2/10
[22:54:59] verify | func= FutureWork | rank= 1 | pid= astro-ph/0102324 | title_snip='TeV observations of SNRs and unidentified sources' | abs_len= 409
[22:55:02] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:55:02] select | verify relaxed 3/10
[22:55:02] verify | func= FutureWork | rank= 2 | pid= astro-ph/0101039 | title_snip='Gamma Ray Pulsars: Observations' | abs_len= 848
[22:55:06] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:55:06] select | verify relaxed 4/10
[22:55:06] verify | func= FutureWork | rank= 3 | pid= astro-ph/0101120 | title_snip='TeV Gamma-Ray Astronomy in the new Millennium' | abs_len= 928
[22:55:09] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[22:55:09] select | verify relaxed 5/10
[22:55:09] verify | func= FutureWork | rank= 4 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[22:55:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:55:11] select | verify relaxed 6/10
[22:55:11] verify | func= FutureWork | rank= 5 | pid= astro-ph/0101241 | title_snip='Detection of Earth-like Planets Using Apodized Telescopes' | abs_len= 1109
[22:55:14] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:55:14] select | verify relaxed 7/10
[22:55:14] verify | func= FutureWork | rank= 6 | pid= physics/0104041 | title_snip='Beam Measurements of a CLOUD (Cosmics Leaving OUtdoor Droplets) Chambeâ€¦' | abs_len= 1583
[22:55:16] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[22:55:16] select | verify relaxed 8/10
[22:55:16] verify | func= FutureWork | rank= 7 | pid= astro-ph/0104143 | title_snip='Gamma Ray and Hadron generated \v{C}erenkov Photon Spectra at Various
â€¦' | abs_len= 1639
[22:55:19] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[22:55:19] select | verify relaxed 9/10
[22:55:19] verify | func= FutureWork | rank= 8 | pid= astro-ph/0101496 | title_snip='A first EGRET-UNID-related agenda for the next-generation Cherenkov
  â€¦' | abs_len= 824
[22:55:22] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[22:55:22] select | verify relaxed 10/10
[22:55:22] verify | func= FutureWork | rank= 9 | pid= astro-ph/0102391 | title_snip='Evidence for TeV gamma ray emission from Cassiopeia A' | abs_len= 740
[22:55:25] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How do current uses of Imaging Atmospheric Cerenkov Telescopes inform future work in detecting gamma rays from astrophysical objects?
- WINNER: astro-ph/0101533 | Imaging Atmospheric Cerenkov Telescopes: Techniques and Results
- QUOTE : will be the targets of the next generation
- WHY   : sufficient
- ANSWER: The detection of gamma rays from astrophysical objects using Imaging Atmospheric Cerenkov Telescopes will inform future work on distinguishing between primary gamma rays and hadronic cosmic ray background, and on detecting phenomena such as neutralino annihilation and primordial black hole evaporation. The next generation of multi-national telescope facilities will target these phenomena and various astrophysical objects (astro-ph/0101533).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
