âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Extends",
    "FutureWork"
  ],
  "justification": "The query asks how upcoming research can build upon (extend) the existing method and explicitly frames it as a direction for future work."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[21:39:50] main | args: Namespace(max_check=10, debug=True)
[21:39:50] read_last_jsonl | path= classified_outputs.jsonl
[21:39:50] read_last_jsonl | total_lines= 1
[21:39:50] main | query='How can future studies extend the current work's method of analyzing galaxy correlation functions to better understand the implications of the measured pairwise peculiar velocity dispersion on galaxy biasing?' | funcs=['Extends', 'FutureWork']
[21:39:52] main | core_terms= ['galaxy', 'pairwise peculiar velocity dispersion', 'galaxy correlation function', 'galaxy biasing']
[21:39:52] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[21:39:52] load_topk_jsonl | rows= 20
[21:39:52] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104023 title_snip='Spatial correlation functions and the pairwise peculiar velocity
  disâ€¦' abs_len= 1631
[21:39:52] main | running function= Extends
[21:39:52] select | function= Extends | candidates_in= 20
[21:39:52] select | core_terms= ['galaxy', 'pairwise peculiar velocity dispersion', 'galaxy correlation function', 'galaxy biasing']
[21:39:52] select | no cosine prune; kept=20/20
[21:39:52] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104023', 'astro-ph/0101543', 'astro-ph/0102372', 'astro-ph/0103017', 'astro-ph/0103040', 'astro-ph/0103281', 'astro-ph/0104417', 'astro-ph/0102276', 'astro-ph/0103092', 'astro-ph/0101499']
[21:39:52] select | verify relaxed 1/10
[21:39:52] verify | func= Extends | rank= 0 | pid= astro-ph/0104023 | title_snip='Spatial correlation functions and the pairwise peculiar velocity
  disâ€¦' | abs_len= 1631
[21:39:55] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[21:39:55] select | verify relaxed 2/10
[21:39:55] verify | func= Extends | rank= 1 | pid= astro-ph/0101543 | title_snip='Interpreting Debris from Satellite Disruption In External Galaxies' | abs_len= 1632
[21:39:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:39:58] select | verify relaxed 3/10
[21:39:58] verify | func= Extends | rank= 2 | pid= astro-ph/0102372 | title_snip='Redshift-Space Distortions of Group and Galaxy Correlations' | abs_len= 753
[21:40:01] verify | result supports= False fit= 0.60 top= 0.80 invalid= â€” cue_hint= False
[21:40:01] select | verify relaxed 4/10
[21:40:01] verify | func= Extends | rank= 3 | pid= astro-ph/0103017 | title_snip='Large-Scale Structure, Theory and Statistics' | abs_len= 1145
[21:40:04] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False
[21:40:04] select | verify relaxed 5/10
[21:40:04] verify | func= Extends | rank= 4 | pid= astro-ph/0103040 | title_snip='The Galaxy and Mass N-Point Correlation Functions: a Blast from the Paâ€¦' | abs_len= 425
[21:40:07] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:40:07] select | verify relaxed 6/10
[21:40:07] verify | func= Extends | rank= 5 | pid= astro-ph/0103281 | title_snip='Fluctuations in the Cosmic Microwave Background II: $C_\ell$ at Large
â€¦' | abs_len= 1177
[21:40:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:40:09] select | verify relaxed 7/10
[21:40:09] verify | func= Extends | rank= 6 | pid= astro-ph/0104417 | title_snip='The pair-wise velocity dispersion of galaxies: effects of non radial
 â€¦' | abs_len= 1766
[21:40:13] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[21:40:13] select | verify relaxed 8/10
[21:40:13] verify | func= Extends | rank= 7 | pid= astro-ph/0102276 | title_snip='The Pearson-Readhead Survey of Compact Extragalactic Radio Sources Froâ€¦' | abs_len= 1783
[21:40:15] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:40:15] select | verify relaxed 9/10
[21:40:15] verify | func= Extends | rank= 8 | pid= astro-ph/0103092 | title_snip='The evolution of the galaxy distribution' | abs_len= 1552
[21:40:18] verify | result supports= False fit= 0.00 top= 0.60 invalid= quote_not_in_abstract cue_hint= False
[21:40:18] select | verify relaxed 10/10
[21:40:18] verify | func= Extends | rank= 9 | pid= astro-ph/0101499 | title_snip='Nonlinear Peculiar-Velocity Analysis and PCA' | abs_len= 1302
[21:40:21] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How can future studies extend the current work's method of analyzing galaxy correlation functions to better understand the implications of the measured pairwise peculiar velocity dispersion on galaxy biasing?
- WINNER: astro-ph/0104023 | Spatial correlation functions and the pairwise peculiar velocity
  dispersion of galaxies in the PSCz survey: implications for the galaxy
  biasing in cold dark matter models
- QUOTE : implications for the galaxy biasing in cold dark matter models
- WHY   : sufficient
- ANSWER: Future studies can extend the current work's method by applying it to a broader range of galaxy samples and cosmological models, increasing the accuracy of the measured pairwise peculiar velocity dispersion and its implications on galaxy biasing. The method developed by Jing, Mo, & BÃ¶rner (1998) can be further refined to account for different morphological mixtures of galaxies and to improve the modeling of galaxy biasing in cold dark matter models (astro-ph/0104023).
[21:40:26] main | running function= FutureWork
[21:40:26] select | function= FutureWork | candidates_in= 20
[21:40:26] select | core_terms= ['galaxy', 'pairwise peculiar velocity dispersion', 'galaxy correlation function', 'galaxy biasing']
[21:40:26] select | no cosine prune; kept=20/20
[21:40:26] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104023', 'astro-ph/0101543', 'astro-ph/0102372', 'astro-ph/0103017', 'astro-ph/0103040', 'astro-ph/0103281', 'astro-ph/0104417', 'astro-ph/0102276', 'astro-ph/0103092', 'astro-ph/0101499']
[21:40:26] select | verify relaxed 1/10
[21:40:26] verify | func= FutureWork | rank= 0 | pid= astro-ph/0104023 | title_snip='Spatial correlation functions and the pairwise peculiar velocity
  disâ€¦' | abs_len= 1631
[21:40:29] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[21:40:29] select | verify relaxed 2/10
[21:40:29] verify | func= FutureWork | rank= 1 | pid= astro-ph/0101543 | title_snip='Interpreting Debris from Satellite Disruption In External Galaxies' | abs_len= 1632
[21:40:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:40:31] select | verify relaxed 3/10
[21:40:31] verify | func= FutureWork | rank= 2 | pid= astro-ph/0102372 | title_snip='Redshift-Space Distortions of Group and Galaxy Correlations' | abs_len= 753
[21:40:34] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[21:40:34] select | verify relaxed 4/10
[21:40:34] verify | func= FutureWork | rank= 3 | pid= astro-ph/0103017 | title_snip='Large-Scale Structure, Theory and Statistics' | abs_len= 1145
[21:40:37] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[21:40:37] select | verify relaxed 5/10
[21:40:37] verify | func= FutureWork | rank= 4 | pid= astro-ph/0103040 | title_snip='The Galaxy and Mass N-Point Correlation Functions: a Blast from the Paâ€¦' | abs_len= 425
[21:40:40] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:40:40] select | verify relaxed 6/10
[21:40:40] verify | func= FutureWork | rank= 5 | pid= astro-ph/0103281 | title_snip='Fluctuations in the Cosmic Microwave Background II: $C_\ell$ at Large
â€¦' | abs_len= 1177
[21:40:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:40:43] select | verify relaxed 7/10
[21:40:43] verify | func= FutureWork | rank= 6 | pid= astro-ph/0104417 | title_snip='The pair-wise velocity dispersion of galaxies: effects of non radial
 â€¦' | abs_len= 1766
[21:40:45] verify | result supports= False fit= 0.00 top= 0.80 invalid= no_quote cue_hint= False
[21:40:45] select | verify relaxed 8/10
[21:40:45] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102276 | title_snip='The Pearson-Readhead Survey of Compact Extragalactic Radio Sources Froâ€¦' | abs_len= 1783
[21:40:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:40:48] select | verify relaxed 9/10
[21:40:48] verify | func= FutureWork | rank= 8 | pid= astro-ph/0103092 | title_snip='The evolution of the galaxy distribution' | abs_len= 1552
[21:40:51] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False
[21:40:51] select | verify relaxed 10/10
[21:40:51] verify | func= FutureWork | rank= 9 | pid= astro-ph/0101499 | title_snip='Nonlinear Peculiar-Velocity Analysis and PCA' | abs_len= 1302
[21:40:54] verify | result supports= False fit= 0.00 top= 0.60 invalid= â€” cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How can future studies extend the current work's method of analyzing galaxy correlation functions to better understand the implications of the measured pairwise peculiar velocity dispersion on galaxy biasing?
- WINNER: astro-ph/0103017 | Large-Scale Structure, Theory and Statistics
- QUOTE : For the foreseeable future, therefore, this field will be led by observational developments
- WHY   : sufficient
- ANSWER: Future studies can extend the current work by addressing uncertainties in cosmological parameters and galaxy formation processes to better understand galaxy biasing. The field is expected to be led by observational developments that allow model parameters to be tuned and scenarios to be falsified (astro-ph/0103017).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
