âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "Uses"
  ],
  "justification": "The query seeks reasons for investigating these stars (motivation) and asks how the MACHO photometry is employed (uses)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:55:45] main | args: Namespace(max_check=10, debug=True)
[23:55:45] read_last_jsonl | path= classified_outputs.jsonl
[23:55:45] read_last_jsonl | total_lines= 1
[23:55:45] main | query='What motivates the study of R Coronae Borealis stars in the Large Magellanic Cloud and how does it use the MACHO project photometry database?' | funcs=['Motivation', 'Uses']
[23:55:47] main | core_terms= ['R Coronae Borealis stars', 'Large Magellanic Cloud', 'MACHO project', 'photometry', 'MACHO']
[23:55:47] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:55:47] load_topk_jsonl | rows= 20
[23:55:47] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0102262 title_snip='The MACHO Project LMC Variable Star Inventory: X. The R Coronae Borealâ€¦' abs_len= 1169
[23:55:47] main | running function= Motivation
[23:55:47] select | function= Motivation | candidates_in= 20
[23:55:47] select | core_terms= ['R Coronae Borealis stars', 'Large Magellanic Cloud', 'MACHO project', 'photometry', 'MACHO']
[23:55:47] select | no cosine prune; kept=20/20
[23:55:47] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102262', 'astro-ph/0102369', 'astro-ph/0102242', 'astro-ph/0104163', 'astro-ph/0104098', 'astro-ph/0103516', 'astro-ph/0103400', 'astro-ph/0102494', 'astro-ph/0102472', 'astro-ph/0102442']
[23:55:47] select | verify relaxed 1/10
[23:55:47] verify | func= Motivation | rank= 0 | pid= astro-ph/0102262 | title_snip='The MACHO Project LMC Variable Star Inventory: X. The R Coronae Borealâ€¦' | abs_len= 1169
[23:55:50] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:55:50] select | verify relaxed 2/10
[23:55:50] verify | func= Motivation | rank= 1 | pid= astro-ph/0102369 | title_snip='Stellar luminosity functions of rich star clusters in the Large
  Mageâ€¦' | abs_len= 1243
[23:55:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:55:53] select | verify relaxed 3/10
[23:55:53] verify | func= Motivation | rank= 2 | pid= astro-ph/0102242 | title_snip='Detecting Galactic MACHOs with VERA through Astrometric Microlensing oâ€¦' | abs_len= 1755
[23:55:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:55:55] select | verify relaxed 4/10
[23:55:55] verify | func= Motivation | rank= 3 | pid= astro-ph/0104163 | title_snip='The CFHT Open Star Cluster Survey I -- Cluster Selection and Data
  Reâ€¦' | abs_len= 1677
[23:55:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:55:58] select | verify relaxed 5/10
[23:55:58] verify | func= Motivation | rank= 4 | pid= astro-ph/0104098 | title_snip='On the Statistical Significance of the Hipparcos Astrometric Orbit of
â€¦' | abs_len= 821
[23:56:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:00] select | verify relaxed 6/10
[23:56:00] verify | func= Motivation | rank= 5 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[23:56:03] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:03] select | verify relaxed 7/10
[23:56:03] verify | func= Motivation | rank= 6 | pid= astro-ph/0103400 | title_snip='Infrared Space Observatory Spectra of R Coronae Borealis Stars. I.
  Eâ€¦' | abs_len= 776
[23:56:06] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:56:06] select | verify relaxed 8/10
[23:56:06] verify | func= Motivation | rank= 7 | pid= astro-ph/0102494 | title_snip='Constraints on thick disc and halo parameters from HST photometry of
 â€¦' | abs_len= 999
[23:56:08] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:08] select | verify relaxed 9/10
[23:56:08] verify | func= Motivation | rank= 8 | pid= astro-ph/0102472 | title_snip='The Clustering of Hot and Cold IRAS Galaxies: The Redshift Space
  Corâ€¦' | abs_len= 1373
[23:56:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:11] select | verify relaxed 10/10
[23:56:11] verify | func= Motivation | rank= 9 | pid= astro-ph/0102442 | title_snip='M Dwarfs from Hubble Space Telescope Star Counts. IV' | abs_len= 1717
[23:56:13] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : What motivates the study of R Coronae Borealis stars in the Large Magellanic Cloud and how does it use the MACHO project photometry database?
- WINNER: astro-ph/0102262 | The MACHO Project LMC Variable Star Inventory: X. The R Coronae Borealis
  Stars
- QUOTE : Hence, the importance of the LMC RCB stars
- WHY   : sufficient
- ANSWER: The study of R Coronae Borealis stars in the Large Magellanic Cloud is motivated by the unknown absolute luminosities of Galactic RCB stars, which can be determined using the LMC stars as a reference. The MACHO project photometry database is utilized to discover new RCB stars and estimate their properties, ultimately informing our understanding of these stars in the Galaxy (astro-ph/0102262).
[23:56:18] main | running function= Uses
[23:56:18] select | function= Uses | candidates_in= 20
[23:56:18] select | core_terms= ['R Coronae Borealis stars', 'Large Magellanic Cloud', 'MACHO project', 'photometry', 'MACHO']
[23:56:18] select | no cosine prune; kept=20/20
[23:56:18] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102262', 'astro-ph/0102369', 'astro-ph/0102242', 'astro-ph/0104163', 'astro-ph/0104098', 'astro-ph/0103516', 'astro-ph/0103400', 'astro-ph/0102494', 'astro-ph/0102472', 'astro-ph/0102442']
[23:56:18] select | verify relaxed 1/10
[23:56:18] verify | func= Uses | rank= 0 | pid= astro-ph/0102262 | title_snip='The MACHO Project LMC Variable Star Inventory: X. The R Coronae Borealâ€¦' | abs_len= 1169
[23:56:21] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[23:56:21] select | verify relaxed 2/10
[23:56:21] verify | func= Uses | rank= 1 | pid= astro-ph/0102369 | title_snip='Stellar luminosity functions of rich star clusters in the Large
  Mageâ€¦' | abs_len= 1243
[23:56:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:23] select | verify relaxed 3/10
[23:56:23] verify | func= Uses | rank= 2 | pid= astro-ph/0102242 | title_snip='Detecting Galactic MACHOs with VERA through Astrometric Microlensing oâ€¦' | abs_len= 1755
[23:56:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:26] select | verify relaxed 4/10
[23:56:26] verify | func= Uses | rank= 3 | pid= astro-ph/0104163 | title_snip='The CFHT Open Star Cluster Survey I -- Cluster Selection and Data
  Reâ€¦' | abs_len= 1677
[23:56:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:28] select | verify relaxed 5/10
[23:56:28] verify | func= Uses | rank= 4 | pid= astro-ph/0104098 | title_snip='On the Statistical Significance of the Hipparcos Astrometric Orbit of
â€¦' | abs_len= 821
[23:56:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:31] select | verify relaxed 6/10
[23:56:31] verify | func= Uses | rank= 5 | pid= astro-ph/0103516 | title_snip='Applications of Microlensing to Stellar Astrophysics' | abs_len= 1616
[23:56:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:33] select | verify relaxed 7/10
[23:56:33] verify | func= Uses | rank= 6 | pid= astro-ph/0103400 | title_snip='Infrared Space Observatory Spectra of R Coronae Borealis Stars. I.
  Eâ€¦' | abs_len= 776
[23:56:36] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[23:56:36] select | verify relaxed 8/10
[23:56:36] verify | func= Uses | rank= 7 | pid= astro-ph/0102494 | title_snip='Constraints on thick disc and halo parameters from HST photometry of
 â€¦' | abs_len= 999
[23:56:38] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:38] select | verify relaxed 9/10
[23:56:38] verify | func= Uses | rank= 8 | pid= astro-ph/0102472 | title_snip='The Clustering of Hot and Cold IRAS Galaxies: The Redshift Space
  Corâ€¦' | abs_len= 1373
[23:56:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:56:41] select | verify relaxed 10/10
[23:56:41] verify | func= Uses | rank= 9 | pid= astro-ph/0102442 | title_snip='M Dwarfs from Hubble Space Telescope Star Counts. IV' | abs_len= 1717
[23:56:43] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : What motivates the study of R Coronae Borealis stars in the Large Magellanic Cloud and how does it use the MACHO project photometry database?
- WINNER: astro-ph/0102262 | The MACHO Project LMC Variable Star Inventory: X. The R Coronae Borealis
  Stars
- QUOTE : using the MACHO project photometry database
- WHY   : sufficient
- ANSWER: The study of R Coronae Borealis stars in the Large Magellanic Cloud is motivated by the unknown absolute luminosities of Galactic RCB stars, and it utilizes the MACHO project photometry database to discover new RCB stars. Researchers use the MACHO database to identify and analyze RCB stars in the LMC, increasing the known number of such stars and providing insights into their properties (astro-ph/0102262).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
