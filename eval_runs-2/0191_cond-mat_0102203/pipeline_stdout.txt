âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Background",
    "FutureWork"
  ],
  "justification": "The query asks for foundational experimental knowledge (background) and how it can inform or guide subsequent investigations (future work)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[01:37:28] main | args: Namespace(max_check=10, debug=True)
[01:37:28] read_last_jsonl | path= classified_outputs.jsonl
[01:37:28] read_last_jsonl | total_lines= 1
[01:37:28] main | query='How do the experimental studies of discrete breathers in superconducting arrays provide a foundation for potential future research in this area?' | funcs=['Background', 'FutureWork']
[01:37:30] main | core_terms= ['discrete breathers', 'superconducting arrays', 'Josephson junctions']
[01:37:30] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[01:37:30] load_topk_jsonl | rows= 20
[01:37:30] load_topk_jsonl | first: rank= 0 paper_id= cond-mat/0102203 title_snip='Discrete Breathers in Josephson Ladders' abs_len= 1137
[01:37:30] main | running function= Background
[01:37:30] select | function= Background | candidates_in= 20
[01:37:30] select | core_terms= ['discrete breathers', 'superconducting arrays', 'Josephson junctions']
[01:37:30] select | no cosine prune; kept=20/20
[01:37:30] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['cond-mat/0102203', 'nlin/0103013', 'cond-mat/0102162', 'cond-mat/0103280', 'cond-mat/0103368', 'hep-ph/0103121', 'cond-mat/0103582', 'cond-mat/0102048', 'cond-mat/0103610', 'cond-mat/0101415']
[01:37:30] select | verify relaxed 1/10
[01:37:30] verify | func= Background | rank= 0 | pid= cond-mat/0102203 | title_snip='Discrete Breathers in Josephson Ladders' | abs_len= 1137
[01:37:33] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:37:33] select | verify relaxed 2/10
[01:37:33] verify | func= Background | rank= 1 | pid= nlin/0103013 | title_snip='Discrete breathers in dissipative lattices' | abs_len= 1286
[01:37:36] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[01:37:36] select | verify relaxed 3/10
[01:37:36] verify | func= Background | rank= 2 | pid= cond-mat/0102162 | title_snip='Aspects of Discrete Breathers and New Directions' | abs_len= 841
[01:37:40] verify | result supports= False fit= 0.00 top= 0.90 invalid= quote_not_in_abstract cue_hint= False
[01:37:40] select | verify relaxed 4/10
[01:37:40] verify | func= Background | rank= 3 | pid= cond-mat/0103280 | title_snip='Breathers in Josephson junction ladders: resonances and electromagnetiâ€¦' | abs_len= 818
[01:37:42] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[01:37:42] select | verify relaxed 5/10
[01:37:42] verify | func= Background | rank= 4 | pid= cond-mat/0103368 | title_snip='Discrete Solitons and Breathers with Dilute Bose-Einstein Condensates' | abs_len= 525
[01:37:45] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:37:45] select | verify relaxed 6/10
[01:37:45] verify | func= Background | rank= 5 | pid= hep-ph/0103121 | title_snip='Exploring New Physics in the $B\to \phi K$ System' | abs_len= 916
[01:37:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:37:48] select | verify relaxed 7/10
[01:37:48] verify | func= Background | rank= 6 | pid= cond-mat/0103582 | title_snip='Random sequential adsorption and diffusion of dimers and k-mers on a
 â€¦' | abs_len= 1014
[01:37:50] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:37:50] select | verify relaxed 8/10
[01:37:50] verify | func= Background | rank= 7 | pid= cond-mat/0102048 | title_snip='Staggered currents in the mixed state' | abs_len= 896
[01:37:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:37:53] select | verify relaxed 9/10
[01:37:53] verify | func= Background | rank= 8 | pid= cond-mat/0103610 | title_snip='The 2-site Hubbard and t-J models' | abs_len= 1472
[01:37:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:37:55] select | verify relaxed 10/10
[01:37:55] verify | func= Background | rank= 9 | pid= cond-mat/0101415 | title_snip='Analytic Conditions for Targeted Energy Transfer between Nonlinear
  Oâ€¦' | abs_len= 1780
[01:37:59] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False

================================================================================
FUNCTION: Background
QUERY   : How do the experimental studies of discrete breathers in superconducting arrays provide a foundation for potential future research in this area?
- WINNER: cond-mat/0102203 | Discrete Breathers in Josephson Ladders
- QUOTE : discrete breathers in a superconducting array
- WHY   : sufficient
- ANSWER: The experimental studies of discrete breathers in superconducting arrays, such as Josephson-junction ladder arrays, provide a foundation for future research by demonstrating the detection and control of breather states under various array parameters (cond-mat/0102203).
[01:38:03] main | running function= FutureWork
[01:38:03] select | function= FutureWork | candidates_in= 20
[01:38:03] select | core_terms= ['discrete breathers', 'superconducting arrays', 'Josephson junctions']
[01:38:03] select | no cosine prune; kept=20/20
[01:38:03] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['cond-mat/0102203', 'nlin/0103013', 'cond-mat/0102162', 'cond-mat/0103280', 'cond-mat/0103368', 'hep-ph/0103121', 'cond-mat/0103582', 'cond-mat/0102048', 'cond-mat/0103610', 'cond-mat/0101415']
[01:38:03] select | verify relaxed 1/10
[01:38:03] verify | func= FutureWork | rank= 0 | pid= cond-mat/0102203 | title_snip='Discrete Breathers in Josephson Ladders' | abs_len= 1137
[01:38:06] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[01:38:06] select | verify relaxed 2/10
[01:38:06] verify | func= FutureWork | rank= 1 | pid= nlin/0103013 | title_snip='Discrete breathers in dissipative lattices' | abs_len= 1286
[01:38:10] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[01:38:10] select | verify relaxed 3/10
[01:38:10] verify | func= FutureWork | rank= 2 | pid= cond-mat/0102162 | title_snip='Aspects of Discrete Breathers and New Directions' | abs_len= 841
[01:38:12] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:38:12] select | verify relaxed 4/10
[01:38:12] verify | func= FutureWork | rank= 3 | pid= cond-mat/0103280 | title_snip='Breathers in Josephson junction ladders: resonances and electromagnetiâ€¦' | abs_len= 818
[01:38:15] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[01:38:15] select | verify relaxed 5/10
[01:38:15] verify | func= FutureWork | rank= 4 | pid= cond-mat/0103368 | title_snip='Discrete Solitons and Breathers with Dilute Bose-Einstein Condensates' | abs_len= 525
[01:38:18] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:38:18] select | verify relaxed 6/10
[01:38:18] verify | func= FutureWork | rank= 5 | pid= hep-ph/0103121 | title_snip='Exploring New Physics in the $B\to \phi K$ System' | abs_len= 916
[01:38:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:38:21] select | verify relaxed 7/10
[01:38:21] verify | func= FutureWork | rank= 6 | pid= cond-mat/0103582 | title_snip='Random sequential adsorption and diffusion of dimers and k-mers on a
 â€¦' | abs_len= 1014
[01:38:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:38:23] select | verify relaxed 8/10
[01:38:23] verify | func= FutureWork | rank= 7 | pid= cond-mat/0102048 | title_snip='Staggered currents in the mixed state' | abs_len= 896
[01:38:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:38:26] select | verify relaxed 9/10
[01:38:26] verify | func= FutureWork | rank= 8 | pid= cond-mat/0103610 | title_snip='The 2-site Hubbard and t-J models' | abs_len= 1472
[01:38:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:38:28] select | verify relaxed 10/10
[01:38:28] verify | func= FutureWork | rank= 9 | pid= cond-mat/0101415 | title_snip='Analytic Conditions for Targeted Energy Transfer between Nonlinear
  Oâ€¦' | abs_len= 1780
[01:38:31] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How do the experimental studies of discrete breathers in superconducting arrays provide a foundation for potential future research in this area?
- WINNER: cond-mat/0102162 | Aspects of Discrete Breathers and New Directions
- QUOTE : and New Directions
- WHY   : sufficient
- ANSWER: The study of discrete breathers provides a foundation for future research in areas such as understanding slow relaxation properties of glassy materials and energy focusing in biomolecules. Future directions may include exploring targeted charge transfer of nonlinear electrons and transfer of other excitations, such as Davydov solitons (cond-mat/0102162).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
