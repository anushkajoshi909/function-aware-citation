âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "FutureWork",
    "Uses"
  ],
  "justification": "The query explicitly seeks ways future studies can build on the current analysis (FutureWork) and asks which methods or datasets can be applied (Uses)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[21:51:36] main | args: Namespace(max_check=10, debug=True)
[21:51:36] read_last_jsonl | path= classified_outputs.jsonl
[21:51:36] read_last_jsonl | total_lines= 1
[21:51:36] main | query='How can future studies utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure and what methods or datasets from this work could be used in such studies?' | funcs=['FutureWork', 'Uses']
[21:51:38] main | core_terms= ['Small Magellanic Cloud', 'populous clusters', 'structure']
[21:51:38] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[21:51:38] load_topk_jsonl | rows= 20
[21:51:38] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0104227 title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 â€¦' abs_len= 1656
[21:51:38] main | running function= FutureWork
[21:51:38] select | function= FutureWork | candidates_in= 20
[21:51:38] select | core_terms= ['Small Magellanic Cloud', 'populous clusters', 'structure']
[21:51:38] select | no cosine prune; kept=20/20
[21:51:38] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104227', 'astro-ph/0103076', 'astro-ph/0101508', 'astro-ph/0102165', 'astro-ph/0102010', 'astro-ph/0102363', 'astro-ph/0103518', 'astro-ph/0102191', 'astro-ph/0104245', 'astro-ph/0102477']
[21:51:38] select | verify relaxed 1/10
[21:51:38] verify | func= FutureWork | rank= 0 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 â€¦' | abs_len= 1656
[21:51:40] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[21:51:40] select | verify relaxed 2/10
[21:51:40] verify | func= FutureWork | rank= 1 | pid= astro-ph/0103076 | title_snip='Magellanic Clouds Planetary Nebulae: an updated view on stellar
  evolâ€¦' | abs_len= 458
[21:51:43] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:51:43] select | verify relaxed 3/10
[21:51:43] verify | func= FutureWork | rank= 2 | pid= astro-ph/0101508 | title_snip='The Structure of Prestellar Cores as derived from ISO Observations' | abs_len= 1056
[21:51:46] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:51:46] select | verify relaxed 4/10
[21:51:46] verify | func= FutureWork | rank= 3 | pid= astro-ph/0102165 | title_snip='Cluster physics from joint weak gravitational lensing and
  Sunyaev-Zeâ€¦' | abs_len= 1276
[21:51:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:51:48] select | verify relaxed 5/10
[21:51:48] verify | func= FutureWork | rank= 4 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[21:51:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:51:51] select | verify relaxed 6/10
[21:51:51] verify | func= FutureWork | rank= 5 | pid= astro-ph/0102363 | title_snip='INTEGRAL observations of Galaxy Clusters' | abs_len= 1523
[21:51:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:51:53] select | verify relaxed 7/10
[21:51:53] verify | func= FutureWork | rank= 6 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clouâ€¦' | abs_len= 1323
[21:51:56] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:51:56] select | verify relaxed 8/10
[21:51:56] verify | func= FutureWork | rank= 7 | pid= astro-ph/0102191 | title_snip='Velocity and density spectra of the Small Magellanic Cloud' | abs_len= 834
[21:51:59] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[21:51:59] select | verify relaxed 9/10
[21:51:59] verify | func= FutureWork | rank= 8 | pid= astro-ph/0104245 | title_snip='Cluster abundance and large-scale structure' | abs_len= 530
[21:52:02] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:52:02] select | verify relaxed 10/10
[21:52:02] verify | func= FutureWork | rank= 9 | pid= astro-ph/0102477 | title_snip='The Structure and Evolution of Magnetized Cloud Cores in a Zero--Densiâ€¦' | abs_len= 1571
[21:52:04] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How can future studies utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure and what methods or datasets from this work could be used in such studies?
- WINNER: astro-ph/0104227 | The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
  Cloud
- QUOTE : warrants further study
- WHY   : sufficient
- ANSWER: Future studies can utilize the current analysis by expanding the dataset beyond the 12 high-quality clusters to further investigate the suggested correlation between cluster properties and position on the sky. The methods and datasets from this work, such as the computation of reddening and distance modulus, can be applied to larger datasets to better understand the structure of the Small Magellanic Cloud (astro-ph/0104227).
[21:52:09] main | running function= Uses
[21:52:09] select | function= Uses | candidates_in= 20
[21:52:09] select | core_terms= ['Small Magellanic Cloud', 'populous clusters', 'structure']
[21:52:09] select | no cosine prune; kept=20/20
[21:52:09] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0104227', 'astro-ph/0103076', 'astro-ph/0101508', 'astro-ph/0102165', 'astro-ph/0102010', 'astro-ph/0102363', 'astro-ph/0103518', 'astro-ph/0102191', 'astro-ph/0104245', 'astro-ph/0102477']
[21:52:09] select | verify relaxed 1/10
[21:52:09] verify | func= Uses | rank= 0 | pid= astro-ph/0104227 | title_snip='The Line-of-Sight Depth of Populous Clusters in the Small Magellanic
 â€¦' | abs_len= 1656
[21:52:12] verify | result supports= False fit= 0.00 top= 0.80 invalid= quote_not_in_abstract cue_hint= False
[21:52:12] select | verify relaxed 2/10
[21:52:12] verify | func= Uses | rank= 1 | pid= astro-ph/0103076 | title_snip='Magellanic Clouds Planetary Nebulae: an updated view on stellar
  evolâ€¦' | abs_len= 458
[21:52:15] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:52:15] select | verify relaxed 3/10
[21:52:15] verify | func= Uses | rank= 2 | pid= astro-ph/0101508 | title_snip='The Structure of Prestellar Cores as derived from ISO Observations' | abs_len= 1056
[21:52:17] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:52:17] select | verify relaxed 4/10
[21:52:17] verify | func= Uses | rank= 3 | pid= astro-ph/0102165 | title_snip='Cluster physics from joint weak gravitational lensing and
  Sunyaev-Zeâ€¦' | abs_len= 1276
[21:52:20] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:52:20] select | verify relaxed 5/10
[21:52:20] verify | func= Uses | rank= 4 | pid= astro-ph/0102010 | title_snip='New Light on the Baryon Fraction in Galaxy Clusters' | abs_len= 1661
[21:52:22] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:52:22] select | verify relaxed 6/10
[21:52:22] verify | func= Uses | rank= 5 | pid= astro-ph/0102363 | title_snip='INTEGRAL observations of Galaxy Clusters' | abs_len= 1523
[21:52:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:52:25] select | verify relaxed 7/10
[21:52:25] verify | func= Uses | rank= 6 | pid= astro-ph/0103518 | title_snip='Background galaxies as reddening probes throughout the Magellanic Clouâ€¦' | abs_len= 1323
[21:52:28] verify | result supports= False fit= 0.00 top= 0.50 invalid= â€” cue_hint= False
[21:52:28] select | verify relaxed 8/10
[21:52:28] verify | func= Uses | rank= 7 | pid= astro-ph/0102191 | title_snip='Velocity and density spectra of the Small Magellanic Cloud' | abs_len= 834
[21:52:31] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[21:52:31] select | verify relaxed 9/10
[21:52:31] verify | func= Uses | rank= 8 | pid= astro-ph/0104245 | title_snip='Cluster abundance and large-scale structure' | abs_len= 530
[21:52:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:52:33] select | verify relaxed 10/10
[21:52:33] verify | func= Uses | rank= 9 | pid= astro-ph/0102477 | title_snip='The Structure and Evolution of Magnetized Cloud Cores in a Zero--Densiâ€¦' | abs_len= 1571
[21:52:35] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How can future studies utilize the current analysis of populous clusters in the Small Magellanic Cloud to further understand its structure and what methods or datasets from this work could be used in such studies?
- No supporting candidate with sufficient evidence.
- ANSWER: The abstract does not provide information relevant to Uses.

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
