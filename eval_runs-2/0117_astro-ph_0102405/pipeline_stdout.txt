âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Motivation",
    "FutureWork"
  ],
  "justification": "The query asks how a specific limitation drives the present study (motivation) and how it points to directions for subsequent investigations (future work)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[23:43:44] main | args: Namespace(max_check=10, debug=True)
[23:43:44] read_last_jsonl | path= classified_outputs.jsonl
[23:43:44] read_last_jsonl | total_lines= 1
[23:43:44] main | query='How does the limitation of having only one old orbit solution for UX Ari motivate the current work and suggest areas for future research?' | funcs=['Motivation', 'FutureWork']
[23:43:46] main | core_terms= ['UX Ari', 'orbit solution', 'UX']
[23:43:46] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[23:43:46] load_topk_jsonl | rows= 20
[23:43:46] load_topk_jsonl | first: rank= 0 paper_id= astro-ph/0102405 title_snip='The radial velocities of the RS CVn star UX Ari. A triple system with â€¦' abs_len= 1039
[23:43:46] main | running function= Motivation
[23:43:46] select | function= Motivation | candidates_in= 20
[23:43:46] select | core_terms= ['UX Ari', 'orbit solution', 'UX']
[23:43:46] select | no cosine prune; kept=20/20
[23:43:46] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102405', 'gr-qc/0104063', 'gr-qc/0104042', 'hep-ph/0102096', 'hep-ph/0101147', 'cond-mat/0103610', 'astro-ph/0102126', 'hep-ph/0104186', 'quant-ph/0104100', 'gr-qc/0104029']
[23:43:46] select | verify relaxed 1/10
[23:43:46] verify | func= Motivation | rank= 0 | pid= astro-ph/0102405 | title_snip='The radial velocities of the RS CVn star UX Ari. A triple system with â€¦' | abs_len= 1039
[23:43:49] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[23:43:49] select | verify relaxed 2/10
[23:43:49] verify | func= Motivation | rank= 1 | pid= gr-qc/0104063 | title_snip='The Lazarus project: A pragmatic approach to binary black hole
  evoluâ€¦' | abs_len= 1769
[23:43:51] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:43:51] select | verify relaxed 3/10
[23:43:51] verify | func= Motivation | rank= 2 | pid= gr-qc/0104042 | title_snip='LIGO's "Science Reach"' | abs_len= 803
[23:43:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:43:54] select | verify relaxed 4/10
[23:43:54] verify | func= Motivation | rank= 3 | pid= hep-ph/0102096 | title_snip='$\mu$-term due to the non-universal supersymmetry breaking and the Higâ€¦' | abs_len= 995
[23:43:56] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:43:56] select | verify relaxed 5/10
[23:43:56] verify | func= Motivation | rank= 4 | pid= hep-ph/0101147 | title_snip='Progress on two-loop non-propagator integrals' | abs_len= 474
[23:43:59] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:43:59] select | verify relaxed 6/10
[23:43:59] verify | func= Motivation | rank= 5 | pid= cond-mat/0103610 | title_snip='The 2-site Hubbard and t-J models' | abs_len= 1472
[23:44:01] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:01] select | verify relaxed 7/10
[23:44:01] verify | func= Motivation | rank= 6 | pid= astro-ph/0102126 | title_snip='Astronomical engineering: a strategy for modifying planetary orbits' | abs_len= 1431
[23:44:04] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:04] select | verify relaxed 8/10
[23:44:04] verify | func= Motivation | rank= 7 | pid= hep-ph/0104186 | title_snip='Affleck-Dine baryo/leptogenesis with a gauged U(1)(B-L)' | abs_len= 1126
[23:44:06] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:06] select | verify relaxed 9/10
[23:44:06] verify | func= Motivation | rank= 8 | pid= quant-ph/0104100 | title_snip='Lower bounds in the quantum cell probe model' | abs_len= 1737
[23:44:09] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:09] select | verify relaxed 10/10
[23:44:09] verify | func= Motivation | rank= 9 | pid= gr-qc/0104029 | title_snip='An alternative to Minkowski space-time' | abs_len= 1230
[23:44:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Motivation
QUERY   : How does the limitation of having only one old orbit solution for UX Ari motivate the current work and suggest areas for future research?
- WINNER: astro-ph/0102405 | The radial velocities of the RS CVn star UX Ari. A triple system with a
  binary on the same line of sight
- QUOTE : only one, quite old orbit solution
- WHY   : sufficient
- ANSWER: The limitation of having only one old orbit solution for UX Ari motivates the current work because it hinders the accuracy of surface imaging techniques, which rely on precise orbital parameters. This gap suggests areas for future research, such as refining orbital solutions to improve our understanding of UX Ari and similar RS CVn stars (astro-ph/0102405).
[23:44:15] main | running function= FutureWork
[23:44:15] select | function= FutureWork | candidates_in= 20
[23:44:15] select | core_terms= ['UX Ari', 'orbit solution', 'UX']
[23:44:15] select | no cosine prune; kept=20/20
[23:44:15] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['astro-ph/0102405', 'gr-qc/0104063', 'gr-qc/0104042', 'hep-ph/0102096', 'hep-ph/0101147', 'cond-mat/0103610', 'astro-ph/0102126', 'hep-ph/0104186', 'quant-ph/0104100', 'gr-qc/0104029']
[23:44:15] select | verify relaxed 1/10
[23:44:15] verify | func= FutureWork | rank= 0 | pid= astro-ph/0102405 | title_snip='The radial velocities of the RS CVn star UX Ari. A triple system with â€¦' | abs_len= 1039
[23:44:18] verify | result supports= False fit= 0.00 top= 0.80 invalid= â€” cue_hint= False
[23:44:18] select | verify relaxed 2/10
[23:44:18] verify | func= FutureWork | rank= 1 | pid= gr-qc/0104063 | title_snip='The Lazarus project: A pragmatic approach to binary black hole
  evoluâ€¦' | abs_len= 1769
[23:44:21] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:21] select | verify relaxed 3/10
[23:44:21] verify | func= FutureWork | rank= 2 | pid= gr-qc/0104042 | title_snip='LIGO's "Science Reach"' | abs_len= 803
[23:44:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:23] select | verify relaxed 4/10
[23:44:23] verify | func= FutureWork | rank= 3 | pid= hep-ph/0102096 | title_snip='$\mu$-term due to the non-universal supersymmetry breaking and the Higâ€¦' | abs_len= 995
[23:44:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:26] select | verify relaxed 5/10
[23:44:26] verify | func= FutureWork | rank= 4 | pid= hep-ph/0101147 | title_snip='Progress on two-loop non-propagator integrals' | abs_len= 474
[23:44:28] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:28] select | verify relaxed 6/10
[23:44:28] verify | func= FutureWork | rank= 5 | pid= cond-mat/0103610 | title_snip='The 2-site Hubbard and t-J models' | abs_len= 1472
[23:44:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:31] select | verify relaxed 7/10
[23:44:31] verify | func= FutureWork | rank= 6 | pid= astro-ph/0102126 | title_snip='Astronomical engineering: a strategy for modifying planetary orbits' | abs_len= 1431
[23:44:33] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:33] select | verify relaxed 8/10
[23:44:33] verify | func= FutureWork | rank= 7 | pid= hep-ph/0104186 | title_snip='Affleck-Dine baryo/leptogenesis with a gauged U(1)(B-L)' | abs_len= 1126
[23:44:36] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:36] select | verify relaxed 9/10
[23:44:36] verify | func= FutureWork | rank= 8 | pid= quant-ph/0104100 | title_snip='Lower bounds in the quantum cell probe model' | abs_len= 1737
[23:44:38] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[23:44:38] select | verify relaxed 10/10
[23:44:38] verify | func= FutureWork | rank= 9 | pid= gr-qc/0104029 | title_snip='An alternative to Minkowski space-time' | abs_len= 1230
[23:44:40] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How does the limitation of having only one old orbit solution for UX Ari motivate the current work and suggest areas for future research?
- No supporting candidate with sufficient evidence.
- ANSWER: The abstract does not provide information relevant to FutureWork.

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
