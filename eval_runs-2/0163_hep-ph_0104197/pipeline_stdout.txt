âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Uses",
    "FutureWork"
  ],
  "justification": "The query asks how the analysis can be applied (Uses) and explicitly seeks guidance for subsequent research (FutureWork)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[00:59:44] main | args: Namespace(max_check=10, debug=True)
[00:59:44] read_last_jsonl | path= classified_outputs.jsonl
[00:59:44] read_last_jsonl | total_lines= 1
[00:59:44] main | query='How can the structural analysis of meson loop corrections in HBChPT be used in future research and what methods does it utilize?' | funcs=['Uses', 'FutureWork']
[00:59:46] main | core_terms= ['meson', 'HBChPT', 'loop corrections', 'structural analysis', 'HBC', 'PT']
[00:59:46] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[00:59:46] load_topk_jsonl | rows= 20
[00:59:46] load_topk_jsonl | first: rank= 0 paper_id= hep-ph/0104197 title_snip='Effective field theory and the quark model, II. Structure of loop
  coâ€¦' abs_len= 1238
[00:59:46] main | running function= Uses
[00:59:46] select | function= Uses | candidates_in= 20
[00:59:46] select | core_terms= ['meson', 'HBChPT', 'loop corrections', 'structural analysis', 'HBC', 'PT']
[00:59:46] select | no cosine prune; kept=20/20
[00:59:46] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ph/0104197', 'hep-ph/0104047', 'hep-ph/0102251', 'hep-ph/0103129', 'hep-ph/0102318', 'hep-ph/0103274', 'hep-ph/0104232', 'hep-ph/0104120', 'hep-ph/0103037', 'hep-ph/0102317']
[00:59:46] select | verify relaxed 1/10
[00:59:46] verify | func= Uses | rank= 0 | pid= hep-ph/0104197 | title_snip='Effective field theory and the quark model, II. Structure of loop
  coâ€¦' | abs_len= 1238
[00:59:49] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= True
[00:59:49] select | verify relaxed 2/10
[00:59:49] verify | func= Uses | rank= 1 | pid= hep-ph/0104047 | title_snip='Radiative Corrections to the Higgs Boson Mass for a Hierarchical Stop
â€¦' | abs_len= 835
[00:59:52] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:59:52] select | verify relaxed 3/10
[00:59:52] verify | func= Uses | rank= 2 | pid= hep-ph/0102251 | title_snip='The Pure Leptonic Decays of $D_s$ Meson and Their Radiative Correctionâ€¦' | abs_len= 968
[00:59:54] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[00:59:54] select | verify relaxed 4/10
[00:59:54] verify | func= Uses | rank= 3 | pid= hep-ph/0103129 | title_snip='The Meson Mass Spectrum from a Systematically Renormalized Light-Frontâ€¦' | abs_len= 1448
[00:59:57] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[00:59:57] select | verify relaxed 5/10
[00:59:57] verify | func= Uses | rank= 4 | pid= hep-ph/0102318 | title_snip='Two-loop Calculations in the MSSM with FeynArts' | abs_len= 410
[01:00:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:00] select | verify relaxed 6/10
[01:00:00] verify | func= Uses | rank= 5 | pid= hep-ph/0103274 | title_snip='QCD string in light-light and heavy-light mesons' | abs_len= 1529
[01:00:03] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:00:03] select | verify relaxed 7/10
[01:00:03] verify | func= Uses | rank= 6 | pid= hep-ph/0104232 | title_snip='Electroweak radiative corrections in high energy processes' | abs_len= 1302
[01:00:05] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:05] select | verify relaxed 8/10
[01:00:05] verify | func= Uses | rank= 7 | pid= hep-ph/0104120 | title_snip='CPT, T, and Lorentz Violation in Neutral-Meson Oscillations' | abs_len= 731
[01:00:08] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:00:08] select | verify relaxed 9/10
[01:00:08] verify | func= Uses | rank= 8 | pid= hep-ph/0103037 | title_snip='One-loop self-energy correction to the 1s and 2s hyperfine splitting iâ€¦' | abs_len= 387
[01:00:11] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:11] select | verify relaxed 10/10
[01:00:11] verify | func= Uses | rank= 9 | pid= hep-ph/0102317 | title_snip='Precision Observables in the MSSM: Leading Electroweak Two-loop
  Corrâ€¦' | abs_len= 742
[01:00:13] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Uses
QUERY   : How can the structural analysis of meson loop corrections in HBChPT be used in future research and what methods does it utilize?
- WINNER: hep-ph/0104197 | Effective field theory and the quark model, II. Structure of loop
  corrections
- QUOTE : we use the three-flavor-index representation of the effective baryon fields and HBChPT
- WHY   : sufficient
- ANSWER: Researchers utilize the three-flavor-index representation of effective baryon fields and a decomposition of corrections in terms of effective one-, two-, and three-quark operators to analyze the structure of meson loop corrections in HBChPT. This structural analysis can be applied to other problems in HBChPT to determine significant parts of the loop corrections (hep-ph/0104197).
[01:00:18] main | running function= FutureWork
[01:00:18] select | function= FutureWork | candidates_in= 20
[01:00:18] select | core_terms= ['meson', 'HBChPT', 'loop corrections', 'structural analysis', 'HBC', 'PT']
[01:00:18] select | no cosine prune; kept=20/20
[01:00:18] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['hep-ph/0104197', 'hep-ph/0104047', 'hep-ph/0102251', 'hep-ph/0103129', 'hep-ph/0102318', 'hep-ph/0103274', 'hep-ph/0104232', 'hep-ph/0104120', 'hep-ph/0103037', 'hep-ph/0102317']
[01:00:18] select | verify relaxed 1/10
[01:00:18] verify | func= FutureWork | rank= 0 | pid= hep-ph/0104197 | title_snip='Effective field theory and the quark model, II. Structure of loop
  coâ€¦' | abs_len= 1238
[01:00:21] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[01:00:21] select | verify relaxed 2/10
[01:00:21] verify | func= FutureWork | rank= 1 | pid= hep-ph/0104047 | title_snip='Radiative Corrections to the Higgs Boson Mass for a Hierarchical Stop
â€¦' | abs_len= 835
[01:00:23] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:23] select | verify relaxed 3/10
[01:00:23] verify | func= FutureWork | rank= 2 | pid= hep-ph/0102251 | title_snip='The Pure Leptonic Decays of $D_s$ Meson and Their Radiative Correctionâ€¦' | abs_len= 968
[01:00:26] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:26] select | verify relaxed 4/10
[01:00:26] verify | func= FutureWork | rank= 3 | pid= hep-ph/0103129 | title_snip='The Meson Mass Spectrum from a Systematically Renormalized Light-Frontâ€¦' | abs_len= 1448
[01:00:29] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:00:29] select | verify relaxed 5/10
[01:00:29] verify | func= FutureWork | rank= 4 | pid= hep-ph/0102318 | title_snip='Two-loop Calculations in the MSSM with FeynArts' | abs_len= 410
[01:00:31] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:31] select | verify relaxed 6/10
[01:00:31] verify | func= FutureWork | rank= 5 | pid= hep-ph/0103274 | title_snip='QCD string in light-light and heavy-light mesons' | abs_len= 1529
[01:00:34] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:34] select | verify relaxed 7/10
[01:00:34] verify | func= FutureWork | rank= 6 | pid= hep-ph/0104232 | title_snip='Electroweak radiative corrections in high energy processes' | abs_len= 1302
[01:00:36] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:36] select | verify relaxed 8/10
[01:00:36] verify | func= FutureWork | rank= 7 | pid= hep-ph/0104120 | title_snip='CPT, T, and Lorentz Violation in Neutral-Meson Oscillations' | abs_len= 731
[01:00:39] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[01:00:39] select | verify relaxed 9/10
[01:00:39] verify | func= FutureWork | rank= 8 | pid= hep-ph/0103037 | title_snip='One-loop self-energy correction to the 1s and 2s hyperfine splitting iâ€¦' | abs_len= 387
[01:00:41] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[01:00:41] select | verify relaxed 10/10
[01:00:41] verify | func= FutureWork | rank= 9 | pid= hep-ph/0102317 | title_snip='Precision Observables in the MSSM: Leading Electroweak Two-loop
  Corrâ€¦' | abs_len= 742
[01:00:44] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: FutureWork
QUERY   : How can the structural analysis of meson loop corrections in HBChPT be used in future research and what methods does it utilize?
- WINNER: hep-ph/0104197 | Effective field theory and the quark model, II. Structure of loop
  corrections
- QUOTE : The structural analysis can be generalized straightforwardly
- WHY   : sufficient
- ANSWER: The structural analysis of meson loop corrections in HBChPT can be used in future research to determine significant loop corrections in various settings by utilizing the three-flavor-index representation of effective baryon fields and decomposition of corrections into effective quark operators. This analysis can be generalized to other problems in HBChPT, providing a straightforward method for future studies (hep-ph/0104197).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
