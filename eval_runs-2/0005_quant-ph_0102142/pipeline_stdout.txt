âœ… Available Models:
1. alias-code
2. alias-reasoning
3. alias-image-generation
4. alias-vision
5. alias-ha
6. meta-llama/Llama-3.3-70B-Instruct
7. meta-llama/Llama-3.1-8B-Instruct
8. Qwen/Qwen2-VL-7B-Instruct
9. openGPT-X/Teuken-7B-instruct-research-v0.4
10. deepseek-ai/DeepSeek-Coder-V2-Lite-Instruct
11. Qwen/Qwen3-Coder-30B-A3B-Instruct
12. Qwen/Qwen3-Embedding-4B
13. stabilityai/stable-diffusion-3.5-large-turbo
14. black-forest-labs/FLUX.1-dev
15. openai/whisper-large-v3
16. Kokoro-82M
17. tts-1-hd
18. deepseek-ai/DeepSeek-R1
19. openai/gpt-oss-120b
20. meta-llama/Llama-4-Scout-17B-16E-Instruct

ðŸ‘‰ Select a model number (default = 1): 
âœ… Using model: openai/gpt-oss-120b

ðŸ” Enter a scientific query or topic: 
ðŸ”Ž Citation Function Classification:
{
  "citation_functions": [
    "Extends",
    "Compares"
  ],
  "justification": "The query asks how pseudo mode theory builds on prior work (Extends) and how it stacks up against alternative approaches (Compares)."
}

âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (handled in a separate file).
âš¡ SKIP_REINDEX=1 â€” using existing FAISS index + meta; not scanning raw JSONL shards.
âœ… Top-k candidates (FAISS): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
[21:20:35] main | args: Namespace(max_check=10, debug=True)
[21:20:35] read_last_jsonl | path= classified_outputs.jsonl
[21:20:35] read_last_jsonl | total_lines= 1
[21:20:35] main | query='How does the pseudo mode theory extend previous work and compare to other methods in treating non-Markovian behavior in atomic systems?' | funcs=['Extends', 'Compares']
[21:20:36] main | core_terms= ['atomic systems', 'pseudo mode theory', 'non-Markovian behavior', 'non-Markovian']
[21:20:36] load_topk_jsonl | path= /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl
[21:20:36] load_topk_jsonl | rows= 20
[21:20:36] load_topk_jsonl | first: rank= 0 paper_id= quant-ph/0102142 title_snip='Theory of Pseudomodes in Quantum Optical Processes' abs_len= 1320
[21:20:36] main | running function= Extends
[21:20:36] select | function= Extends | candidates_in= 20
[21:20:36] select | core_terms= ['atomic systems', 'pseudo mode theory', 'non-Markovian behavior', 'non-Markovian']
[21:20:36] select | no cosine prune; kept=20/20
[21:20:36] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['quant-ph/0102142', 'math-ph/0104012', 'math-ph/0101029', 'cond-mat/0103610', 'hep-ph/0101202', 'nucl-th/0101008', 'hep-lat/0103010', 'hep-th/0103228', 'hep-th/0104001', 'hep-lat/0103016']
[21:20:36] select | verify relaxed 1/10
[21:20:36] verify | func= Extends | rank= 0 | pid= quant-ph/0102142 | title_snip='Theory of Pseudomodes in Quantum Optical Processes' | abs_len= 1320
[21:20:39] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[21:20:39] select | verify relaxed 2/10
[21:20:39] verify | func= Extends | rank= 1 | pid= math-ph/0104012 | title_snip='Conservation of pseudo-norm in PT symmetric quantum mechanics' | abs_len= 340
[21:20:42] verify | result supports= False fit= 0.00 top= 0.90 invalid= off_topic_no_core_in_abstract cue_hint= False
[21:20:42] select | verify relaxed 3/10
[21:20:42] verify | func= Extends | rank= 2 | pid= math-ph/0101029 | title_snip='Pseudo perturbative expansion method; the non-polynomial, cutoff -
  Câ€¦' | abs_len= 487
[21:20:45] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:20:45] select | verify relaxed 4/10
[21:20:45] verify | func= Extends | rank= 3 | pid= cond-mat/0103610 | title_snip='The 2-site Hubbard and t-J models' | abs_len= 1472
[21:20:48] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:20:48] select | verify relaxed 5/10
[21:20:48] verify | func= Extends | rank= 4 | pid= hep-ph/0101202 | title_snip='Aspects of Non-Equilibrium Dynamics in Quantum Field Theory' | abs_len= 1716
[21:20:50] verify | result supports= False fit= 0.00 top= 0.20 invalid= no_quote cue_hint= False
[21:20:50] select | verify relaxed 6/10
[21:20:50] verify | func= Extends | rank= 5 | pid= nucl-th/0101008 | title_snip='Relativistic and non-relativistic studies of nuclear matter' | abs_len= 1254
[21:20:53] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:20:53] select | verify relaxed 7/10
[21:20:53] verify | func= Extends | rank= 6 | pid= hep-lat/0103010 | title_snip='Cluster Percolation and Pseudocritical Behaviour in Spin Models' | abs_len= 566
[21:20:55] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:20:55] select | verify relaxed 8/10
[21:20:55] verify | func= Extends | rank= 7 | pid= hep-th/0103228 | title_snip='New Approach to Quantum Field Theory for Arbitrary Observers in
  Elecâ€¦' | abs_len= 1692
[21:20:58] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:20:58] select | verify relaxed 9/10
[21:20:58] verify | func= Extends | rank= 8 | pid= hep-th/0104001 | title_snip='The euclidean propagator in a model with two non-equivalent instantons' | abs_len= 1121
[21:21:00] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:00] select | verify relaxed 10/10
[21:21:00] verify | func= Extends | rank= 9 | pid= hep-lat/0103016 | title_snip='CP(N-1) Models with Theta Term and Fixed Point Action' | abs_len= 1159
[21:21:03] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Extends
QUERY   : How does the pseudo mode theory extend previous work and compare to other methods in treating non-Markovian behavior in atomic systems?
- WINNER: quant-ph/0102142 | Theory of Pseudomodes in Quantum Optical Processes
- QUOTE : the pseudo mode theory for single quantum reservoir excitations
- WHY   : sufficient
- ANSWER: The pseudo mode theory extends previous work by applying the Fano diagonalisation method to systems with structured reservoirs, enabling the treatment of non-Markovian behavior in atomic systems with improved accuracy. This approach builds upon prior methods by allowing for the treatment of multiple excitation cases via Markovian master equations, providing a more efficient and structured framework for analyzing atomic systems coupled to quantum EM field modes (quant-ph/0102142).
[21:21:08] main | running function= Compares
[21:21:08] select | function= Compares | candidates_in= 20
[21:21:08] select | core_terms= ['atomic systems', 'pseudo mode theory', 'non-Markovian behavior', 'non-Markovian']
[21:21:08] select | no cosine prune; kept=20/20
[21:21:08] select | pool_size= 10 | ranks= [0, 1, 2, 3, 4, 5, 6, 7, 8, 9] | pids= ['quant-ph/0102142', 'math-ph/0104012', 'math-ph/0101029', 'cond-mat/0103610', 'hep-ph/0101202', 'nucl-th/0101008', 'hep-lat/0103010', 'hep-th/0103228', 'hep-th/0104001', 'hep-lat/0103016']
[21:21:08] select | verify relaxed 1/10
[21:21:08] verify | func= Compares | rank= 0 | pid= quant-ph/0102142 | title_snip='Theory of Pseudomodes in Quantum Optical Processes' | abs_len= 1320
[21:21:11] verify | result supports= True fit= 0.80 top= 0.90 invalid= â€” cue_hint= False
[21:21:11] select | verify relaxed 2/10
[21:21:11] verify | func= Compares | rank= 1 | pid= math-ph/0104012 | title_snip='Conservation of pseudo-norm in PT symmetric quantum mechanics' | abs_len= 340
[21:21:14] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:21:14] select | verify relaxed 3/10
[21:21:14] verify | func= Compares | rank= 2 | pid= math-ph/0101029 | title_snip='Pseudo perturbative expansion method; the non-polynomial, cutoff -
  Câ€¦' | abs_len= 487
[21:21:17] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:17] select | verify relaxed 4/10
[21:21:17] verify | func= Compares | rank= 3 | pid= cond-mat/0103610 | title_snip='The 2-site Hubbard and t-J models' | abs_len= 1472
[21:21:19] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:19] select | verify relaxed 5/10
[21:21:19] verify | func= Compares | rank= 4 | pid= hep-ph/0101202 | title_snip='Aspects of Non-Equilibrium Dynamics in Quantum Field Theory' | abs_len= 1716
[21:21:22] verify | result supports= False fit= 0.00 top= 0.20 invalid= â€” cue_hint= False
[21:21:22] select | verify relaxed 6/10
[21:21:22] verify | func= Compares | rank= 5 | pid= nucl-th/0101008 | title_snip='Relativistic and non-relativistic studies of nuclear matter' | abs_len= 1254
[21:21:25] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:25] select | verify relaxed 7/10
[21:21:25] verify | func= Compares | rank= 6 | pid= hep-lat/0103010 | title_snip='Cluster Percolation and Pseudocritical Behaviour in Spin Models' | abs_len= 566
[21:21:27] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:27] select | verify relaxed 8/10
[21:21:27] verify | func= Compares | rank= 7 | pid= hep-th/0103228 | title_snip='New Approach to Quantum Field Theory for Arbitrary Observers in
  Elecâ€¦' | abs_len= 1692
[21:21:30] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:30] select | verify relaxed 9/10
[21:21:30] verify | func= Compares | rank= 8 | pid= hep-th/0104001 | title_snip='The euclidean propagator in a model with two non-equivalent instantons' | abs_len= 1121
[21:21:32] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False
[21:21:32] select | verify relaxed 10/10
[21:21:32] verify | func= Compares | rank= 9 | pid= hep-lat/0103016 | title_snip='CP(N-1) Models with Theta Term and Fixed Point Action' | abs_len= 1159
[21:21:35] verify | result supports= False fit= 0.00 top= 0.00 invalid= no_quote cue_hint= False

================================================================================
FUNCTION: Compares
QUERY   : How does the pseudo mode theory extend previous work and compare to other methods in treating non-Markovian behavior in atomic systems?
- WINNER: quant-ph/0102142 | Theory of Pseudomodes in Quantum Optical Processes
- QUOTE : can be obtained by applying the Fano diagonalisation method
- WHY   : sufficient
- ANSWER: The pseudo mode theory extends previous work by treating non-Markovian behavior in atomic systems through a quasimode theory that structures the reservoir of true modes. This approach is compared to Markovian master equations, with the pseudo mode theory enabling treatment of multiple excitation cases via these equations for the atom-discrete quasimode system (quant-ph/0102142).

ðŸ“„ Saved: outputs/function_selection_results.json
ðŸ“„ Saved: outputs/function_selection_results.jsonl
ðŸ“ Answers-only: outputs/function_answers.txt
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classifying_question.py  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Saved to classified_outputs.jsonl
ðŸ”§ Ready for retrieval module (.py).
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/Retreival_query_based.py --skip-reindex --index /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/index.faiss --meta /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/e5_index_subset_1/meta.parquet --topk 20  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)
âœ… Top-k candidates: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
ðŸ”— Symlinked: /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/outputs/topk_candidates_query.jsonl -> /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
-> /home/anpa439f/anaconda3/envs/myenv/bin/python3 /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/function_based_answer-2.py --debug --max-check 10  (cwd=/data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration)

ðŸŽ‰ Pipeline complete.
  â€¢ Classified file : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/classified_outputs.jsonl
  â€¢ TopK (canonical): /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs/topk_candidates_query.jsonl
  â€¢ Final outputs   : /data/horse/ws/anpa439f-Function_Retrieval_Citation/Research_Project/RetrievalAugmentedGeneration/outputs
